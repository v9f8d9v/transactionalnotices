eval(atob('LyohIEZvciBsaWNlbnNlIGluZm9ybWF0aW9uIHBsZWFzZSBzZWUgbWFpbi5hYTJjNTVjYy5qcy5MSUNFTlNFLnR4dCAqLyAhIGZ1bmN0aW9uKCkgeyJ1c2Ugc3RyaWN0Ijt2YXIgZSA9IHs1MzQ6IGZ1bmN0aW9uKGUsIHQsIG4pIHt2YXIgciA9IG4oMzEzKSxsID0gbigyMjQpO2Z1bmN0aW9uIGEoZSkge2ZvciAodmFyIHQgPSAiaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2Vycm9yLWRlY29kZXIuaHRtbD9pbnZhcmlhbnQ9IiArIGUsIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB0ICs9ICImYXJnc1tdPSIgKyBlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW25dKTtyZXR1cm4gIk1pbmlmaWVkIFJlYWN0IGVycm9yICMiICsgZSArICI7IHZpc2l0ICIgKyB0ICsgIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuIn12YXIgbyA9IG5ldyBTZXQsaSA9IHt9O2Z1bmN0aW9uIHUoZSwgdCkge3MoZSwgdCksIHMoZSArICJDYXB0dXJlIiwgdCl9ZnVuY3Rpb24gcyhlLCB0KSB7Zm9yIChpW2VdID0gdCwgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSBvLmFkZCh0W2VdKX12YXIgYyA9ICEoInVuZGVmaW5lZCIgPT09IHR5cGVvZiB3aW5kb3cgfHwgInVuZGVmaW5lZCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgfHwgInVuZGVmaW5lZCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCksZiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZCA9IC9eWzpBLVpfYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRdWzpBLVpfYS16XHUwMEMwLVx1MDBENlx1MDBEOC1cdTAwRjZcdTAwRjgtXHUwMkZGXHUwMzcwLVx1MDM3RFx1MDM3Ri1cdTFGRkZcdTIwMEMtXHUyMDBEXHUyMDcwLVx1MjE4Rlx1MkMwMC1cdTJGRUZcdTMwMDEtXHVEN0ZGXHVGOTAwLVx1RkRDRlx1RkRGMC1cdUZGRkRcLS4wLTlcdTAwQjdcdTAzMDAtXHUwMzZGXHUyMDNGLVx1MjA0MF0qJC8scCA9IHt9LGggPSB7fTtmdW5jdGlvbiBtKGUsIHQsIG4sIHIsIGwsIGEsIG8pIHt0aGlzLmFjY2VwdHNCb29sZWFucyA9IDIgPT09IHQgfHwgMyA9PT0gdCB8fCA0ID09PSB0LCB0aGlzLmF0dHJpYnV0ZU5hbWUgPSByLCB0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZSA9IGwsIHRoaXMubXVzdFVzZVByb3BlcnR5ID0gbiwgdGhpcy5wcm9wZXJ0eU5hbWUgPSBlLCB0aGlzLnR5cGUgPSB0LCB0aGlzLnNhbml0aXplVVJMID0gYSwgdGhpcy5yZW1vdmVFbXB0eVN0cmluZyA9IG99dmFyIHYgPSB7fTsiY2hpbGRyZW4gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgZGVmYXVsdFZhbHVlIGRlZmF1bHRDaGVja2VkIGlubmVySFRNTCBzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHN0eWxlIi5zcGxpdCgiICIpLmZvckVhY2goKGZ1bmN0aW9uKGUpIHt2W2VdID0gbmV3IG0oZSwgMCwgITEsIGUsIG51bGwsICExLCAhMSl9KSksIFtbImFjY2VwdENoYXJzZXQiLCAiYWNjZXB0LWNoYXJzZXQiXSxbImNsYXNzTmFtZSIsICJjbGFzcyJdLFsiaHRtbEZvciIsICJmb3IiXSxbImh0dHBFcXVpdiIsICJodHRwLWVxdWl2Il1dLmZvckVhY2goKGZ1bmN0aW9uKGUpIHt2YXIgdCA9IGVbMF07dlt0XSA9IG5ldyBtKHQsIDEsICExLCBlWzFdLCBudWxsLCAhMSwgITEpfSkpLCBbImNvbnRlbnRFZGl0YWJsZSIsICJkcmFnZ2FibGUiLCAic3BlbGxDaGVjayIsICJ2YWx1ZSJdLmZvckVhY2goKGZ1bmN0aW9uKGUpIHt2W2VdID0gbmV3IG0oZSwgMiwgITEsIGUudG9Mb3dlckNhc2UoKSwgbnVsbCwgITEsICExKX0pKSwgWyJhdXRvUmV2ZXJzZSIsICJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkIiwgImZvY3VzYWJsZSIsICJwcmVzZXJ2ZUFscGhhIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSkge3ZbZV0gPSBuZXcgbShlLCAyLCAhMSwgZSwgbnVsbCwgITEsICExKX0pKSwgImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBkaXNhYmxlUmVtb3RlUGxheWJhY2sgZm9ybU5vVmFsaWRhdGUgaGlkZGVuIGxvb3Agbm9Nb2R1bGUgbm9WYWxpZGF0ZSBvcGVuIHBsYXlzSW5saW5lIHJlYWRPbmx5IHJlcXVpcmVkIHJldmVyc2VkIHNjb3BlZCBzZWFtbGVzcyBpdGVtU2NvcGUiLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSkge3ZbZV0gPSBuZXcgbShlLCAzLCAhMSwgZS50b0xvd2VyQ2FzZSgpLCBudWxsLCAhMSwgITEpfSkpLCBbImNoZWNrZWQiLCAibXVsdGlwbGUiLCAibXV0ZWQiLCAic2VsZWN0ZWQiXS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dltlXSA9IG5ldyBtKGUsIDMsICEwLCBlLCBudWxsLCAhMSwgITEpfSkpLCBbImNhcHR1cmUiLCAiZG93bmxvYWQiXS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dltlXSA9IG5ldyBtKGUsIDQsICExLCBlLCBudWxsLCAhMSwgITEpfSkpLCBbImNvbHMiLCAicm93cyIsICJzaXplIiwgInNwYW4iXS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dltlXSA9IG5ldyBtKGUsIDYsICExLCBlLCBudWxsLCAhMSwgITEpfSkpLCBbInJvd1NwYW4iLCAic3RhcnQiXS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dltlXSA9IG5ldyBtKGUsIDUsICExLCBlLnRvTG93ZXJDYXNlKCksIG51bGwsICExLCAhMSl9KSk7dmFyIGcgPSAvW1wtOl0oW2Etel0pL2c7ZnVuY3Rpb24geShlKSB7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1mdW5jdGlvbiBiKGUsIHQsIG4sIHIpIHt2YXIgbCA9IHYuaGFzT3duUHJvcGVydHkodCkgPyB2W3RdIDogbnVsbDsobnVsbCAhPT0gbCA/IDAgIT09IGwudHlwZSA6IHIgfHwgISgyIDwgdC5sZW5ndGgpIHx8ICJvIiAhPT0gdFswXSAmJiAiTyIgIT09IHRbMF0gfHwgIm4iICE9PSB0WzFdICYmICJOIiAhPT0gdFsxXSkgJiYgKGZ1bmN0aW9uKGUsIHQsIG4sIHIpIHtpZiAobnVsbCA9PT0gdCB8fCAidW5kZWZpbmVkIiA9PT0gdHlwZW9mIHQgfHwgZnVuY3Rpb24oZSwgdCwgbiwgcikge2lmIChudWxsICE9PSBuICYmIDAgPT09IG4udHlwZSkgcmV0dXJuICExO3N3aXRjaCAodHlwZW9mIHQpIHtjYXNlICJmdW5jdGlvbiI6Y2FzZSAic3ltYm9sIjpyZXR1cm4gITA7Y2FzZSAiYm9vbGVhbiI6cmV0dXJuICFyICYmIChudWxsICE9PSBuID8gIW4uYWNjZXB0c0Jvb2xlYW5zIDogImRhdGEtIiAhPT0gKGUgPSBlLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSkpICYmICJhcmlhLSIgIT09IGUpO2RlZmF1bHQ6cmV0dXJuICExfX0oZSwgdCwgbiwgcikpIHJldHVybiAhMDtpZiAocikgcmV0dXJuICExO2lmIChudWxsICE9PSBuKSBzd2l0Y2ggKG4udHlwZSkge2Nhc2UgMzpyZXR1cm4gIXQ7Y2FzZSA0OnJldHVybiAhMSA9PT0gdDtjYXNlIDU6cmV0dXJuIGlzTmFOKHQpO2Nhc2UgNjpyZXR1cm4gaXNOYU4odCkgfHwgMSA+IHR9cmV0dXJuICExfSh0LCBuLCBsLCByKSAmJiAobiA9IG51bGwpLCByIHx8IG51bGwgPT09IGwgPyBmdW5jdGlvbihlKSB7cmV0dXJuICEhZi5jYWxsKGgsIGUpIHx8ICFmLmNhbGwocCwgZSkgJiYgKGQudGVzdChlKSA/IGhbZV0gPSAhMCA6IChwW2VdID0gITAsICExKSl9KHQpICYmIChudWxsID09PSBuID8gZS5yZW1vdmVBdHRyaWJ1dGUodCkgOiBlLnNldEF0dHJpYnV0ZSh0LCAiIiArIG4pKSA6IGwubXVzdFVzZVByb3BlcnR5ID8gZVtsLnByb3BlcnR5TmFtZV0gPSBudWxsID09PSBuID8gMyAhPT0gbC50eXBlICYmICIiIDogbiA6ICh0ID0gbC5hdHRyaWJ1dGVOYW1lLCByID0gbC5hdHRyaWJ1dGVOYW1lc3BhY2UsIG51bGwgPT09IG4gPyBlLnJlbW92ZUF0dHJpYnV0ZSh0KSA6IChuID0gMyA9PT0gKGwgPSBsLnR5cGUpIHx8IDQgPT09IGwgJiYgITAgPT09IG4gPyAiIiA6ICIiICsgbiwgciA/IGUuc2V0QXR0cmlidXRlTlMociwgdCwgbikgOiBlLnNldEF0dHJpYnV0ZSh0LCBuKSkpKX0iYWNjZW50LWhlaWdodCBhbGlnbm1lbnQtYmFzZWxpbmUgYXJhYmljLWZvcm0gYmFzZWxpbmUtc2hpZnQgY2FwLWhlaWdodCBjbGlwLXBhdGggY2xpcC1ydWxlIGNvbG9yLWludGVycG9sYXRpb24gY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIGNvbG9yLXByb2ZpbGUgY29sb3ItcmVuZGVyaW5nIGRvbWluYW50LWJhc2VsaW5lIGVuYWJsZS1iYWNrZ3JvdW5kIGZpbGwtb3BhY2l0eSBmaWxsLXJ1bGUgZmxvb2QtY29sb3IgZmxvb2Qtb3BhY2l0eSBmb250LWZhbWlseSBmb250LXNpemUgZm9udC1zaXplLWFkanVzdCBmb250LXN0cmV0Y2ggZm9udC1zdHlsZSBmb250LXZhcmlhbnQgZm9udC13ZWlnaHQgZ2x5cGgtbmFtZSBnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsIGdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsIGhvcml6LWFkdi14IGhvcml6LW9yaWdpbi14IGltYWdlLXJlbmRlcmluZyBsZXR0ZXItc3BhY2luZyBsaWdodGluZy1jb2xvciBtYXJrZXItZW5kIG1hcmtlci1taWQgbWFya2VyLXN0YXJ0IG92ZXJsaW5lLXBvc2l0aW9uIG92ZXJsaW5lLXRoaWNrbmVzcyBwYWludC1vcmRlciBwYW5vc2UtMSBwb2ludGVyLWV2ZW50cyByZW5kZXJpbmctaW50ZW50IHNoYXBlLXJlbmRlcmluZyBzdG9wLWNvbG9yIHN0b3Atb3BhY2l0eSBzdHJpa2V0aHJvdWdoLXBvc2l0aW9uIHN0cmlrZXRocm91Z2gtdGhpY2tuZXNzIHN0cm9rZS1kYXNoYXJyYXkgc3Ryb2tlLWRhc2hvZmZzZXQgc3Ryb2tlLWxpbmVjYXAgc3Ryb2tlLWxpbmVqb2luIHN0cm9rZS1taXRlcmxpbWl0IHN0cm9rZS1vcGFjaXR5IHN0cm9rZS13aWR0aCB0ZXh0LWFuY2hvciB0ZXh0LWRlY29yYXRpb24gdGV4dC1yZW5kZXJpbmcgdW5kZXJsaW5lLXBvc2l0aW9uIHVuZGVybGluZS10aGlja25lc3MgdW5pY29kZS1iaWRpIHVuaWNvZGUtcmFuZ2UgdW5pdHMtcGVyLWVtIHYtYWxwaGFiZXRpYyB2LWhhbmdpbmcgdi1pZGVvZ3JhcGhpYyB2LW1hdGhlbWF0aWNhbCB2ZWN0b3ItZWZmZWN0IHZlcnQtYWR2LXkgdmVydC1vcmlnaW4teCB2ZXJ0LW9yaWdpbi15IHdvcmQtc3BhY2luZyB3cml0aW5nLW1vZGUgeG1sbnM6eGxpbmsgeC1oZWlnaHQiLnNwbGl0KCIgIikuZm9yRWFjaCgoZnVuY3Rpb24oZSkge3ZhciB0ID0gZS5yZXBsYWNlKGcsIHkpO3ZbdF0gPSBuZXcgbSh0LCAxLCAhMSwgZSwgbnVsbCwgITEsICExKX0pKSwgInhsaW5rOmFjdHVhdGUgeGxpbms6YXJjcm9sZSB4bGluazpyb2xlIHhsaW5rOnNob3cgeGxpbms6dGl0bGUgeGxpbms6dHlwZSIuc3BsaXQoIiAiKS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dmFyIHQgPSBlLnJlcGxhY2UoZywgeSk7dlt0XSA9IG5ldyBtKHQsIDEsICExLCBlLCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsICExLCAhMSl9KSksIFsieG1sOmJhc2UiLCAieG1sOmxhbmciLCAieG1sOnNwYWNlIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSkge3ZhciB0ID0gZS5yZXBsYWNlKGcsIHkpO3ZbdF0gPSBuZXcgbSh0LCAxLCAhMSwgZSwgImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsICExLCAhMSl9KSksIFsidGFiSW5kZXgiLCAiY3Jvc3NPcmlnaW4iXS5mb3JFYWNoKChmdW5jdGlvbihlKSB7dltlXSA9IG5ldyBtKGUsIDEsICExLCBlLnRvTG93ZXJDYXNlKCksIG51bGwsICExLCAhMSl9KSksIHYueGxpbmtIcmVmID0gbmV3IG0oInhsaW5rSHJlZiIsIDEsICExLCAieGxpbms6aHJlZiIsICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwgITAsICExKSwgWyJzcmMiLCAiaHJlZiIsICJhY3Rpb24iLCAiZm9ybUFjdGlvbiJdLmZvckVhY2goKGZ1bmN0aW9uKGUpIHt2W2VdID0gbmV3IG0oZSwgMSwgITEsIGUudG9Mb3dlckNhc2UoKSwgbnVsbCwgITAsICEwKX0pKTt2YXIgayA9IHIuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQsdyA9IFN5bWJvbC5mb3IoInJlYWN0LmVsZW1lbnQiKSx4ID0gU3ltYm9sLmZvcigicmVhY3QucG9ydGFsIiksUyA9IFN5bWJvbC5mb3IoInJlYWN0LmZyYWdtZW50IiksQyA9IFN5bWJvbC5mb3IoInJlYWN0LnN0cmljdF9tb2RlIiksRSA9IFN5bWJvbC5mb3IoInJlYWN0LnByb2ZpbGVyIiksXyA9IFN5bWJvbC5mb3IoInJlYWN0LnByb3ZpZGVyIiksTiA9IFN5bWJvbC5mb3IoInJlYWN0LmNvbnRleHQiKSxQID0gU3ltYm9sLmZvcigicmVhY3QuZm9yd2FyZF9yZWYiKSxMID0gU3ltYm9sLmZvcigicmVhY3Quc3VzcGVuc2UiKSx6ID0gU3ltYm9sLmZvcigicmVhY3Quc3VzcGVuc2VfbGlzdCIpLE0gPSBTeW1ib2wuZm9yKCJyZWFjdC5tZW1vIiksRiA9IFN5bWJvbC5mb3IoInJlYWN0LmxhenkiKTtTeW1ib2wuZm9yKCJyZWFjdC5zY29wZSIpLCBTeW1ib2wuZm9yKCJyZWFjdC5kZWJ1Z190cmFjZV9tb2RlIik7dmFyIFQgPSBTeW1ib2wuZm9yKCJyZWFjdC5vZmZzY3JlZW4iKTtTeW1ib2wuZm9yKCJyZWFjdC5sZWdhY3lfaGlkZGVuIiksIFN5bWJvbC5mb3IoInJlYWN0LmNhY2hlIiksIFN5bWJvbC5mb3IoInJlYWN0LnRyYWNpbmdfbWFya2VyIik7dmFyIFYgPSBTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gSChlKSB7cmV0dXJuIG51bGwgPT09IGUgfHwgIm9iamVjdCIgIT09IHR5cGVvZiBlID8gbnVsbCA6ICJmdW5jdGlvbiIgPT09IHR5cGVvZihlID0gViAmJiBlW1ZdIHx8IGVbIkBAaXRlcmF0b3IiXSkgPyBlIDogbnVsbH12YXIgaiwgRCA9IE9iamVjdC5hc3NpZ247ZnVuY3Rpb24gQihlKSB7aWYgKHZvaWQgMCA9PT0gaikgdHJ5IHt0aHJvdyBFcnJvcigpfSBjYXRjaCAobikge3ZhciB0ID0gbi5zdGFjay50cmltKCkubWF0Y2goL1xuKCAqKGF0ICk/KS8pO2ogPSB0ICYmIHRbMV0gfHwgIiJ9cmV0dXJuICJcbiIgKyBqICsgZX12YXIgUiA9ICExO2Z1bmN0aW9uIE8oZSwgdCkge2lmICghZSB8fCBSKSByZXR1cm4gIiI7UiA9ICEwO3ZhciBuID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7RXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7dHJ5IHtpZiAodClpZiAodCA9IGZ1bmN0aW9uKCkge3Rocm93IEVycm9yKCl9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsICJwcm9wcyIsIHtzZXQ6IGZ1bmN0aW9uKCkge3Rocm93IEVycm9yKCl9fSksICJvYmplY3QiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge3RyeSB7UmVmbGVjdC5jb25zdHJ1Y3QodCwgW10pfSBjYXRjaCAocykge3ZhciByID0gc31SZWZsZWN0LmNvbnN0cnVjdChlLCBbXSwgdCl9IGVsc2Uge3RyeSB7dC5jYWxsKCl9IGNhdGNoIChzKSB7ciA9IHN9ZS5jYWxsKHQucHJvdG90eXBlKX1lbHNlIHt0cnkge3Rocm93IEVycm9yKCl9IGNhdGNoIChzKSB7ciA9IHN9ZSgpfX0gY2F0Y2ggKHMpIHtpZiAocyAmJiByICYmICJzdHJpbmciID09PSB0eXBlb2Ygcy5zdGFjaykge2ZvciAodmFyIGwgPSBzLnN0YWNrLnNwbGl0KCJcbiIpLCBhID0gci5zdGFjay5zcGxpdCgiXG4iKSwgbyA9IGwubGVuZ3RoIC0gMSwgaSA9IGEubGVuZ3RoIC0gMTsgMSA8PSBvICYmIDAgPD0gaSAmJiBsW29dICE9PSBhW2ldOykgaS0tO2ZvciAoOyAxIDw9IG8gJiYgMCA8PSBpOyBvLS0sIGktLSlpZiAobFtvXSAhPT0gYVtpXSkge2lmICgxICE9PSBvIHx8IDEgIT09IGkpZG8ge2lmIChvLS0sIDAgPiAtLWkgfHwgbFtvXSAhPT0gYVtpXSkge3ZhciB1ID0gIlxuIiArIGxbb10ucmVwbGFjZSgiIGF0IG5ldyAiLCAiIGF0ICIpO3JldHVybiBlLmRpc3BsYXlOYW1lICYmIHUuaW5jbHVkZXMoIjxhbm9ueW1vdXM+IikgJiYgKHUgPSB1LnJlcGxhY2UoIjxhbm9ueW1vdXM+IiwgZS5kaXNwbGF5TmFtZSkpLCB1fX0gd2hpbGUgKDEgPD0gbyAmJiAwIDw9IGkpO2JyZWFrfX19IGZpbmFsbHkge1IgPSAhMSwgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBufXJldHVybiAoZSA9IGUgPyBlLmRpc3BsYXlOYW1lIHx8IGUubmFtZSA6ICIiKSA/IEIoZSkgOiAiIn1mdW5jdGlvbiBJKGUpIHtzd2l0Y2ggKGUudGFnKSB7Y2FzZSA1OnJldHVybiBCKGUudHlwZSk7Y2FzZSAxNjpyZXR1cm4gQigiTGF6eSIpO2Nhc2UgMTM6cmV0dXJuIEIoIlN1c3BlbnNlIik7Y2FzZSAxOTpyZXR1cm4gQigiU3VzcGVuc2VMaXN0Iik7Y2FzZSAwOmNhc2UgMjpjYXNlIDE1OnJldHVybiBlID0gTyhlLnR5cGUsICExKTtjYXNlIDExOnJldHVybiBlID0gTyhlLnR5cGUucmVuZGVyLCAhMSk7Y2FzZSAxOnJldHVybiBlID0gTyhlLnR5cGUsICEwKTtkZWZhdWx0OnJldHVybiAiIn19ZnVuY3Rpb24gQShlKSB7aWYgKG51bGwgPT0gZSkgcmV0dXJuIG51bGw7aWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiBlKSByZXR1cm4gZS5kaXNwbGF5TmFtZSB8fCBlLm5hbWUgfHwgbnVsbDtpZiAoInN0cmluZyIgPT09IHR5cGVvZiBlKSByZXR1cm4gZTtzd2l0Y2ggKGUpIHtjYXNlIFM6cmV0dXJuICJGcmFnbWVudCI7Y2FzZSB4OnJldHVybiAiUG9ydGFsIjtjYXNlIEU6cmV0dXJuICJQcm9maWxlciI7Y2FzZSBDOnJldHVybiAiU3RyaWN0TW9kZSI7Y2FzZSBMOnJldHVybiAiU3VzcGVuc2UiO2Nhc2UgejpyZXR1cm4gIlN1c3BlbnNlTGlzdCJ9aWYgKCJvYmplY3QiID09PSB0eXBlb2YgZSkgc3dpdGNoIChlLiQkdHlwZW9mKSB7Y2FzZSBOOnJldHVybiAoZS5kaXNwbGF5TmFtZSB8fCAiQ29udGV4dCIpICsgIi5Db25zdW1lciI7Y2FzZSBfOnJldHVybiAoZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCAiQ29udGV4dCIpICsgIi5Qcm92aWRlciI7Y2FzZSBQOnZhciB0ID0gZS5yZW5kZXI7cmV0dXJuIChlID0gZS5kaXNwbGF5TmFtZSkgfHwgKGUgPSAiIiAhPT0gKGUgPSB0LmRpc3BsYXlOYW1lIHx8IHQubmFtZSB8fCAiIikgPyAiRm9yd2FyZFJlZigiICsgZSArICIpIiA6ICJGb3J3YXJkUmVmIiksIGU7Y2FzZSBNOnJldHVybiBudWxsICE9PSAodCA9IGUuZGlzcGxheU5hbWUgfHwgbnVsbCkgPyB0IDogQShlLnR5cGUpIHx8ICJNZW1vIjtjYXNlIEY6dCA9IGUuX3BheWxvYWQsIGUgPSBlLl9pbml0O3RyeSB7cmV0dXJuIEEoZSh0KSl9IGNhdGNoIChuKSB7fX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBVKGUpIHt2YXIgdCA9IGUudHlwZTtzd2l0Y2ggKGUudGFnKSB7Y2FzZSAyNDpyZXR1cm4gIkNhY2hlIjtjYXNlIDk6cmV0dXJuICh0LmRpc3BsYXlOYW1lIHx8ICJDb250ZXh0IikgKyAiLkNvbnN1bWVyIjtjYXNlIDEwOnJldHVybiAodC5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCAiQ29udGV4dCIpICsgIi5Qcm92aWRlciI7Y2FzZSAxODpyZXR1cm4gIkRlaHlkcmF0ZWRGcmFnbWVudCI7Y2FzZSAxMTpyZXR1cm4gZSA9IChlID0gdC5yZW5kZXIpLmRpc3BsYXlOYW1lIHx8IGUubmFtZSB8fCAiIiwgdC5kaXNwbGF5TmFtZSB8fCAoIiIgIT09IGUgPyAiRm9yd2FyZFJlZigiICsgZSArICIpIiA6ICJGb3J3YXJkUmVmIik7Y2FzZSA3OnJldHVybiAiRnJhZ21lbnQiO2Nhc2UgNTpyZXR1cm4gdDtjYXNlIDQ6cmV0dXJuICJQb3J0YWwiO2Nhc2UgMzpyZXR1cm4gIlJvb3QiO2Nhc2UgNjpyZXR1cm4gIlRleHQiO2Nhc2UgMTY6cmV0dXJuIEEodCk7Y2FzZSA4OnJldHVybiB0ID09PSBDID8gIlN0cmljdE1vZGUiIDogIk1vZGUiO2Nhc2UgMjI6cmV0dXJuICJPZmZzY3JlZW4iO2Nhc2UgMTI6cmV0dXJuICJQcm9maWxlciI7Y2FzZSAyMTpyZXR1cm4gIlNjb3BlIjtjYXNlIDEzOnJldHVybiAiU3VzcGVuc2UiO2Nhc2UgMTk6cmV0dXJuICJTdXNwZW5zZUxpc3QiO2Nhc2UgMjU6cmV0dXJuICJUcmFjaW5nTWFya2VyIjtjYXNlIDE6Y2FzZSAwOmNhc2UgMTc6Y2FzZSAyOmNhc2UgMTQ6Y2FzZSAxNTppZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHQpIHJldHVybiB0LmRpc3BsYXlOYW1lIHx8IHQubmFtZSB8fCBudWxsO2lmICgic3RyaW5nIiA9PT0gdHlwZW9mIHQpIHJldHVybiB0fXJldHVybiBudWxsfWZ1bmN0aW9uIFEoZSkge3N3aXRjaCAodHlwZW9mIGUpIHtjYXNlICJib29sZWFuIjpjYXNlICJudW1iZXIiOmNhc2UgInN0cmluZyI6Y2FzZSAidW5kZWZpbmVkIjpjYXNlICJvYmplY3QiOnJldHVybiBlO2RlZmF1bHQ6cmV0dXJuICIifX1mdW5jdGlvbiBXKGUpIHt2YXIgdCA9IGUudHlwZTtyZXR1cm4gKGUgPSBlLm5vZGVOYW1lKSAmJiAiaW5wdXQiID09PSBlLnRvTG93ZXJDYXNlKCkgJiYgKCJjaGVja2JveCIgPT09IHQgfHwgInJhZGlvIiA9PT0gdCl9ZnVuY3Rpb24gJChlKSB7ZS5fdmFsdWVUcmFja2VyIHx8IChlLl92YWx1ZVRyYWNrZXIgPSBmdW5jdGlvbihlKSB7dmFyIHQgPSBXKGUpID8gImNoZWNrZWQiIDogInZhbHVlIixuID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwgdCksciA9ICIiICsgZVt0XTtpZiAoIWUuaGFzT3duUHJvcGVydHkodCkgJiYgInVuZGVmaW5lZCIgIT09IHR5cGVvZiBuICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBuLmdldCAmJiAiZnVuY3Rpb24iID09PSB0eXBlb2Ygbi5zZXQpIHt2YXIgbCA9IG4uZ2V0LGEgPSBuLnNldDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHQsIHtjb25maWd1cmFibGU6ICEwLGdldDogZnVuY3Rpb24oKSB7cmV0dXJuIGwuY2FsbCh0aGlzKX0sc2V0OiBmdW5jdGlvbihlKSB7ciA9ICIiICsgZSwgYS5jYWxsKHRoaXMsIGUpfX0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgdCwge2VudW1lcmFibGU6IG4uZW51bWVyYWJsZX0pLCB7Z2V0VmFsdWU6IGZ1bmN0aW9uKCkge3JldHVybiByfSxzZXRWYWx1ZTogZnVuY3Rpb24oZSkge3IgPSAiIiArIGV9LHN0b3BUcmFja2luZzogZnVuY3Rpb24oKSB7ZS5fdmFsdWVUcmFja2VyID0gbnVsbCwgZGVsZXRlIGVbdF19fX19KGUpKX1mdW5jdGlvbiBaKGUpIHtpZiAoIWUpIHJldHVybiAhMTt2YXIgdCA9IGUuX3ZhbHVlVHJhY2tlcjtpZiAoIXQpIHJldHVybiAhMDt2YXIgbiA9IHQuZ2V0VmFsdWUoKSxyID0gIiI7cmV0dXJuIGUgJiYgKHIgPSBXKGUpID8gZS5jaGVja2VkID8gInRydWUiIDogImZhbHNlIiA6IGUudmFsdWUpLCAoZSA9IHIpICE9PSBuICYmICh0LnNldFZhbHVlKGUpLCAhMCl9ZnVuY3Rpb24gSyhlKSB7aWYgKCJ1bmRlZmluZWQiID09PSB0eXBlb2YoZSA9IGUgfHwgKCJ1bmRlZmluZWQiICE9PSB0eXBlb2YgZG9jdW1lbnQgPyBkb2N1bWVudCA6IHZvaWQgMCkpKSByZXR1cm4gbnVsbDt0cnkge3JldHVybiBlLmFjdGl2ZUVsZW1lbnQgfHwgZS5ib2R5fSBjYXRjaCAodCkge3JldHVybiBlLmJvZHl9fWZ1bmN0aW9uIHEoZSwgdCkge3ZhciBuID0gdC5jaGVja2VkO3JldHVybiBEKHt9LCB0LCB7ZGVmYXVsdENoZWNrZWQ6IHZvaWQgMCxkZWZhdWx0VmFsdWU6IHZvaWQgMCx2YWx1ZTogdm9pZCAwLGNoZWNrZWQ6IG51bGwgIT0gbiA/IG4gOiBlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWR9KX1mdW5jdGlvbiBZKGUsIHQpIHt2YXIgbiA9IG51bGwgPT0gdC5kZWZhdWx0VmFsdWUgPyAiIiA6IHQuZGVmYXVsdFZhbHVlLHIgPSBudWxsICE9IHQuY2hlY2tlZCA/IHQuY2hlY2tlZCA6IHQuZGVmYXVsdENoZWNrZWQ7biA9IFEobnVsbCAhPSB0LnZhbHVlID8gdC52YWx1ZSA6IG4pLCBlLl93cmFwcGVyU3RhdGUgPSB7aW5pdGlhbENoZWNrZWQ6IHIsaW5pdGlhbFZhbHVlOiBuLGNvbnRyb2xsZWQ6ICJjaGVja2JveCIgPT09IHQudHlwZSB8fCAicmFkaW8iID09PSB0LnR5cGUgPyBudWxsICE9IHQuY2hlY2tlZCA6IG51bGwgIT0gdC52YWx1ZX19ZnVuY3Rpb24gWChlLCB0KSB7bnVsbCAhPSAodCA9IHQuY2hlY2tlZCkgJiYgYihlLCAiY2hlY2tlZCIsIHQsICExKX1mdW5jdGlvbiBHKGUsIHQpIHtYKGUsIHQpO3ZhciBuID0gUSh0LnZhbHVlKSxyID0gdC50eXBlO2lmIChudWxsICE9IG4pICJudW1iZXIiID09PSByID8gKDAgPT09IG4gJiYgIiIgPT09IGUudmFsdWUgfHwgZS52YWx1ZSAhPSBuKSAmJiAoZS52YWx1ZSA9ICIiICsgbikgOiBlLnZhbHVlICE9PSAiIiArIG4gJiYgKGUudmFsdWUgPSAiIiArIG4pO2Vsc2UgaWYgKCJzdWJtaXQiID09PSByIHx8ICJyZXNldCIgPT09IHIpIHJldHVybiB2b2lkIGUucmVtb3ZlQXR0cmlidXRlKCJ2YWx1ZSIpO3QuaGFzT3duUHJvcGVydHkoInZhbHVlIikgPyBlZShlLCB0LnR5cGUsIG4pIDogdC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdFZhbHVlIikgJiYgZWUoZSwgdC50eXBlLCBRKHQuZGVmYXVsdFZhbHVlKSksIG51bGwgPT0gdC5jaGVja2VkICYmIG51bGwgIT0gdC5kZWZhdWx0Q2hlY2tlZCAmJiAoZS5kZWZhdWx0Q2hlY2tlZCA9ICEhdC5kZWZhdWx0Q2hlY2tlZCl9ZnVuY3Rpb24gSihlLCB0LCBuKSB7aWYgKHQuaGFzT3duUHJvcGVydHkoInZhbHVlIikgfHwgdC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdFZhbHVlIikpIHt2YXIgciA9IHQudHlwZTtpZiAoISgic3VibWl0IiAhPT0gciAmJiAicmVzZXQiICE9PSByIHx8IHZvaWQgMCAhPT0gdC52YWx1ZSAmJiBudWxsICE9PSB0LnZhbHVlKSkgcmV0dXJuO3QgPSAiIiArIGUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsIG4gfHwgdCA9PT0gZS52YWx1ZSB8fCAoZS52YWx1ZSA9IHQpLCBlLmRlZmF1bHRWYWx1ZSA9IHR9IiIgIT09IChuID0gZS5uYW1lKSAmJiAoZS5uYW1lID0gIiIpLCBlLmRlZmF1bHRDaGVja2VkID0gISFlLl93cmFwcGVyU3RhdGUuaW5pdGlhbENoZWNrZWQsICIiICE9PSBuICYmIChlLm5hbWUgPSBuKX1mdW5jdGlvbiBlZShlLCB0LCBuKSB7Im51bWJlciIgPT09IHQgJiYgSyhlLm93bmVyRG9jdW1lbnQpID09PSBlIHx8IChudWxsID09IG4gPyBlLmRlZmF1bHRWYWx1ZSA9ICIiICsgZS5fd3JhcHBlclN0YXRlLmluaXRpYWxWYWx1ZSA6IGUuZGVmYXVsdFZhbHVlICE9PSAiIiArIG4gJiYgKGUuZGVmYXVsdFZhbHVlID0gIiIgKyBuKSl9dmFyIHRlID0gQXJyYXkuaXNBcnJheTtmdW5jdGlvbiBuZShlLCB0LCBuLCByKSB7aWYgKGUgPSBlLm9wdGlvbnMsIHQpIHt0ID0ge307Zm9yICh2YXIgbCA9IDA7IGwgPCBuLmxlbmd0aDsgbCsrKSB0WyIkIiArIG5bbF1dID0gITA7Zm9yIChuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIGwgPSB0Lmhhc093blByb3BlcnR5KCIkIiArIGVbbl0udmFsdWUpLCBlW25dLnNlbGVjdGVkICE9PSBsICYmIChlW25dLnNlbGVjdGVkID0gbCksIGwgJiYgciAmJiAoZVtuXS5kZWZhdWx0U2VsZWN0ZWQgPSAhMCl9IGVsc2Uge2ZvciAobiA9ICIiICsgUShuKSwgdCA9IG51bGwsIGwgPSAwOyBsIDwgZS5sZW5ndGg7IGwrKykge2lmIChlW2xdLnZhbHVlID09PSBuKSByZXR1cm4gZVtsXS5zZWxlY3RlZCA9ICEwLCB2b2lkKHIgJiYgKGVbbF0uZGVmYXVsdFNlbGVjdGVkID0gITApKTtudWxsICE9PSB0IHx8IGVbbF0uZGlzYWJsZWQgfHwgKHQgPSBlW2xdKX1udWxsICE9PSB0ICYmICh0LnNlbGVjdGVkID0gITApfX1mdW5jdGlvbiByZShlLCB0KSB7aWYgKG51bGwgIT0gdC5kYW5nZXJvdXNseVNldElubmVySFRNTCkgdGhyb3cgRXJyb3IoYSg5MSkpO3JldHVybiBEKHt9LCB0LCB7dmFsdWU6IHZvaWQgMCxkZWZhdWx0VmFsdWU6IHZvaWQgMCxjaGlsZHJlbjogIiIgKyBlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlfSl9ZnVuY3Rpb24gbGUoZSwgdCkge3ZhciBuID0gdC52YWx1ZTtpZiAobnVsbCA9PSBuKSB7aWYgKG4gPSB0LmNoaWxkcmVuLCB0ID0gdC5kZWZhdWx0VmFsdWUsIG51bGwgIT0gbikge2lmIChudWxsICE9IHQpIHRocm93IEVycm9yKGEoOTIpKTtpZiAodGUobikpIHtpZiAoMSA8IG4ubGVuZ3RoKSB0aHJvdyBFcnJvcihhKDkzKSk7biA9IG5bMF19dCA9IG59bnVsbCA9PSB0ICYmICh0ID0gIiIpLCBuID0gdH1lLl93cmFwcGVyU3RhdGUgPSB7aW5pdGlhbFZhbHVlOiBRKG4pfX1mdW5jdGlvbiBhZShlLCB0KSB7dmFyIG4gPSBRKHQudmFsdWUpLHIgPSBRKHQuZGVmYXVsdFZhbHVlKTtudWxsICE9IG4gJiYgKChuID0gIiIgKyBuKSAhPT0gZS52YWx1ZSAmJiAoZS52YWx1ZSA9IG4pLCBudWxsID09IHQuZGVmYXVsdFZhbHVlICYmIGUuZGVmYXVsdFZhbHVlICE9PSBuICYmIChlLmRlZmF1bHRWYWx1ZSA9IG4pKSwgbnVsbCAhPSByICYmIChlLmRlZmF1bHRWYWx1ZSA9ICIiICsgcil9ZnVuY3Rpb24gb2UoZSkge3ZhciB0ID0gZS50ZXh0Q29udGVudDt0ID09PSBlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlICYmICIiICE9PSB0ICYmIG51bGwgIT09IHQgJiYgKGUudmFsdWUgPSB0KX1mdW5jdGlvbiBpZShlKSB7c3dpdGNoIChlKSB7Y2FzZSAic3ZnIjpyZXR1cm4gImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjtjYXNlICJtYXRoIjpyZXR1cm4gImh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwiO2RlZmF1bHQ6cmV0dXJuICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIn19ZnVuY3Rpb24gdWUoZSwgdCkge3JldHVybiBudWxsID09IGUgfHwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiID09PSBlID8gaWUodCkgOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciID09PSBlICYmICJmb3JlaWduT2JqZWN0IiA9PT0gdCA/ICJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIiA6IGV9dmFyIHNlLCBjZSwgZmUgPSAoY2UgPSBmdW5jdGlvbihlLCB0KSB7aWYgKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgIT09IGUubmFtZXNwYWNlVVJJIHx8ICJpbm5lckhUTUwiIGluIGUpIGUuaW5uZXJIVE1MID0gdDtlbHNlIHtmb3IgKChzZSA9IHNlIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUwgPSAiPHN2Zz4iICsgdC52YWx1ZU9mKCkudG9TdHJpbmcoKSArICI8L3N2Zz4iLCB0ID0gc2UuZmlyc3RDaGlsZDsgZS5maXJzdENoaWxkOykgZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpO2ZvciAoOyB0LmZpcnN0Q2hpbGQ7KSBlLmFwcGVuZENoaWxkKHQuZmlyc3RDaGlsZCl9fSwgInVuZGVmaW5lZCIgIT09IHR5cGVvZiBNU0FwcCAmJiBNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbiA/IGZ1bmN0aW9uKGUsIHQsIG4sIHIpIHtNU0FwcC5leGVjVW5zYWZlTG9jYWxGdW5jdGlvbigoZnVuY3Rpb24oKSB7cmV0dXJuIGNlKGUsIHQpfSkpfSA6IGNlKTtmdW5jdGlvbiBkZShlLCB0KSB7aWYgKHQpIHt2YXIgbiA9IGUuZmlyc3RDaGlsZDtpZiAobiAmJiBuID09PSBlLmxhc3RDaGlsZCAmJiAzID09PSBuLm5vZGVUeXBlKSByZXR1cm4gdm9pZChuLm5vZGVWYWx1ZSA9IHQpfWUudGV4dENvbnRlbnQgPSB0fXZhciBwZSA9IHthbmltYXRpb25JdGVyYXRpb25Db3VudDogITAsYXNwZWN0UmF0aW86ICEwLGJvcmRlckltYWdlT3V0c2V0OiAhMCxib3JkZXJJbWFnZVNsaWNlOiAhMCxib3JkZXJJbWFnZVdpZHRoOiAhMCxib3hGbGV4OiAhMCxib3hGbGV4R3JvdXA6ICEwLGJveE9yZGluYWxHcm91cDogITAsY29sdW1uQ291bnQ6ICEwLGNvbHVtbnM6ICEwLGZsZXg6ICEwLGZsZXhHcm93OiAhMCxmbGV4UG9zaXRpdmU6ICEwLGZsZXhTaHJpbms6ICEwLGZsZXhOZWdhdGl2ZTogITAsZmxleE9yZGVyOiAhMCxncmlkQXJlYTogITAsZ3JpZFJvdzogITAsZ3JpZFJvd0VuZDogITAsZ3JpZFJvd1NwYW46ICEwLGdyaWRSb3dTdGFydDogITAsZ3JpZENvbHVtbjogITAsZ3JpZENvbHVtbkVuZDogITAsZ3JpZENvbHVtblNwYW46ICEwLGdyaWRDb2x1bW5TdGFydDogITAsZm9udFdlaWdodDogITAsbGluZUNsYW1wOiAhMCxsaW5lSGVpZ2h0OiAhMCxvcGFjaXR5OiAhMCxvcmRlcjogITAsb3JwaGFuczogITAsdGFiU2l6ZTogITAsd2lkb3dzOiAhMCx6SW5kZXg6ICEwLHpvb206ICEwLGZpbGxPcGFjaXR5OiAhMCxmbG9vZE9wYWNpdHk6ICEwLHN0b3BPcGFjaXR5OiAhMCxzdHJva2VEYXNoYXJyYXk6ICEwLHN0cm9rZURhc2hvZmZzZXQ6ICEwLHN0cm9rZU1pdGVybGltaXQ6ICEwLHN0cm9rZU9wYWNpdHk6ICEwLHN0cm9rZVdpZHRoOiAhMH0saGUgPSBbIldlYmtpdCIsICJtcyIsICJNb3oiLCAiTyJdO2Z1bmN0aW9uIG1lKGUsIHQsIG4pIHtyZXR1cm4gbnVsbCA9PSB0IHx8ICJib29sZWFuIiA9PT0gdHlwZW9mIHQgfHwgIiIgPT09IHQgPyAiIiA6IG4gfHwgIm51bWJlciIgIT09IHR5cGVvZiB0IHx8IDAgPT09IHQgfHwgcGUuaGFzT3duUHJvcGVydHkoZSkgJiYgcGVbZV0gPyAoIiIgKyB0KS50cmltKCkgOiB0ICsgInB4In1mdW5jdGlvbiB2ZShlLCB0KSB7Zm9yICh2YXIgbiBpbiBlID0gZS5zdHlsZSwgdClpZiAodC5oYXNPd25Qcm9wZXJ0eShuKSkge3ZhciByID0gMCA9PT0gbi5pbmRleE9mKCItLSIpLGwgPSBtZShuLCB0W25dLCByKTsiZmxvYXQiID09PSBuICYmIChuID0gImNzc0Zsb2F0IiksIHIgPyBlLnNldFByb3BlcnR5KG4sIGwpIDogZVtuXSA9IGx9fU9iamVjdC5rZXlzKHBlKS5mb3JFYWNoKChmdW5jdGlvbihlKSB7aGUuZm9yRWFjaCgoZnVuY3Rpb24odCkge3QgPSB0ICsgZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIGUuc3Vic3RyaW5nKDEpLCBwZVt0XSA9IHBlW2VdfSkpfSkpO3ZhciBnZSA9IEQoe21lbnVpdGVtOiAhMH0sIHthcmVhOiAhMCxiYXNlOiAhMCxicjogITAsY29sOiAhMCxlbWJlZDogITAsaHI6ICEwLGltZzogITAsaW5wdXQ6ICEwLGtleWdlbjogITAsbGluazogITAsbWV0YTogITAscGFyYW06ICEwLHNvdXJjZTogITAsdHJhY2s6ICEwLHdicjogITB9KTtmdW5jdGlvbiB5ZShlLCB0KSB7aWYgKHQpIHtpZiAoZ2VbZV0gJiYgKG51bGwgIT0gdC5jaGlsZHJlbiB8fCBudWxsICE9IHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKSB0aHJvdyBFcnJvcihhKDEzNywgZSkpO2lmIChudWxsICE9IHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpIHtpZiAobnVsbCAhPSB0LmNoaWxkcmVuKSB0aHJvdyBFcnJvcihhKDYwKSk7aWYgKCJvYmplY3QiICE9PSB0eXBlb2YgdC5kYW5nZXJvdXNseVNldElubmVySFRNTCB8fCAhKCJfX2h0bWwiIGluIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKSB0aHJvdyBFcnJvcihhKDYxKSl9aWYgKG51bGwgIT0gdC5zdHlsZSAmJiAib2JqZWN0IiAhPT0gdHlwZW9mIHQuc3R5bGUpIHRocm93IEVycm9yKGEoNjIpKX19ZnVuY3Rpb24gYmUoZSwgdCkge2lmICgtMSA9PT0gZS5pbmRleE9mKCItIikpIHJldHVybiAic3RyaW5nIiA9PT0gdHlwZW9mIHQuaXM7c3dpdGNoIChlKSB7Y2FzZSAiYW5ub3RhdGlvbi14bWwiOmNhc2UgImNvbG9yLXByb2ZpbGUiOmNhc2UgImZvbnQtZmFjZSI6Y2FzZSAiZm9udC1mYWNlLXNyYyI6Y2FzZSAiZm9udC1mYWNlLXVyaSI6Y2FzZSAiZm9udC1mYWNlLWZvcm1hdCI6Y2FzZSAiZm9udC1mYWNlLW5hbWUiOmNhc2UgIm1pc3NpbmctZ2x5cGgiOnJldHVybiAhMTtkZWZhdWx0OnJldHVybiAhMH19dmFyIGtlID0gbnVsbDtmdW5jdGlvbiB3ZShlKSB7cmV0dXJuIChlID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50IHx8IHdpbmRvdykuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQgJiYgKGUgPSBlLmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KSwgMyA9PT0gZS5ub2RlVHlwZSA/IGUucGFyZW50Tm9kZSA6IGV9dmFyIHhlID0gbnVsbCxTZSA9IG51bGwsQ2UgPSBudWxsO2Z1bmN0aW9uIEVlKGUpIHtpZiAoZSA9IGJsKGUpKSB7aWYgKCJmdW5jdGlvbiIgIT09IHR5cGVvZiB4ZSkgdGhyb3cgRXJyb3IoYSgyODApKTt2YXIgdCA9IGUuc3RhdGVOb2RlO3QgJiYgKHQgPSB3bCh0KSwgeGUoZS5zdGF0ZU5vZGUsIGUudHlwZSwgdCkpfX1mdW5jdGlvbiBfZShlKSB7U2UgPyBDZSA/IENlLnB1c2goZSkgOiBDZSA9IFtlXSA6IFNlID0gZX1mdW5jdGlvbiBOZSgpIHtpZiAoU2UpIHt2YXIgZSA9IFNlLHQgPSBDZTtpZiAoQ2UgPSBTZSA9IG51bGwsIEVlKGUpLCB0KWZvciAoZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSBFZSh0W2VdKX19ZnVuY3Rpb24gUGUoZSwgdCkge3JldHVybiBlKHQpfWZ1bmN0aW9uIExlKCkge312YXIgemUgPSAhMTtmdW5jdGlvbiBNZShlLCB0LCBuKSB7aWYgKHplKSByZXR1cm4gZSh0LCBuKTt6ZSA9ICEwO3RyeSB7cmV0dXJuIFBlKGUsIHQsIG4pfSBmaW5hbGx5IHt6ZSA9ICExLCAobnVsbCAhPT0gU2UgfHwgbnVsbCAhPT0gQ2UpICYmIChMZSgpLCBOZSgpKX19ZnVuY3Rpb24gRmUoZSwgdCkge3ZhciBuID0gZS5zdGF0ZU5vZGU7aWYgKG51bGwgPT09IG4pIHJldHVybiBudWxsO3ZhciByID0gd2wobik7aWYgKG51bGwgPT09IHIpIHJldHVybiBudWxsO24gPSByW3RdO2U6IHN3aXRjaCAodCkge2Nhc2UgIm9uQ2xpY2siOmNhc2UgIm9uQ2xpY2tDYXB0dXJlIjpjYXNlICJvbkRvdWJsZUNsaWNrIjpjYXNlICJvbkRvdWJsZUNsaWNrQ2FwdHVyZSI6Y2FzZSAib25Nb3VzZURvd24iOmNhc2UgIm9uTW91c2VEb3duQ2FwdHVyZSI6Y2FzZSAib25Nb3VzZU1vdmUiOmNhc2UgIm9uTW91c2VNb3ZlQ2FwdHVyZSI6Y2FzZSAib25Nb3VzZVVwIjpjYXNlICJvbk1vdXNlVXBDYXB0dXJlIjpjYXNlICJvbk1vdXNlRW50ZXIiOihyID0gIXIuZGlzYWJsZWQpIHx8IChyID0gISgiYnV0dG9uIiA9PT0gKGUgPSBlLnR5cGUpIHx8ICJpbnB1dCIgPT09IGUgfHwgInNlbGVjdCIgPT09IGUgfHwgInRleHRhcmVhIiA9PT0gZSkpLCBlID0gIXI7YnJlYWsgZTtkZWZhdWx0OmUgPSAhMX1pZiAoZSkgcmV0dXJuIG51bGw7aWYgKG4gJiYgImZ1bmN0aW9uIiAhPT0gdHlwZW9mIG4pIHRocm93IEVycm9yKGEoMjMxLCB0LCB0eXBlb2YgbikpO3JldHVybiBufXZhciBUZSA9ICExO2lmIChjKSB0cnkge3ZhciBWZSA9IHt9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShWZSwgInBhc3NpdmUiLCB7Z2V0OiBmdW5jdGlvbigpIHtUZSA9ICEwfX0pLCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdCIsIFZlLCBWZSksIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJ0ZXN0IiwgVmUsIFZlKX0gY2F0Y2ggKGNlKSB7VGUgPSAhMX1mdW5jdGlvbiBIZShlLCB0LCBuLCByLCBsLCBhLCBvLCBpLCB1KSB7dmFyIHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDMpO3RyeSB7dC5hcHBseShuLCBzKX0gY2F0Y2ggKGMpIHt0aGlzLm9uRXJyb3IoYyl9fXZhciBqZSA9ICExLERlID0gbnVsbCxCZSA9ICExLFJlID0gbnVsbCxPZSA9IHtvbkVycm9yOiBmdW5jdGlvbihlKSB7amUgPSAhMCwgRGUgPSBlfX07ZnVuY3Rpb24gSWUoZSwgdCwgbiwgciwgbCwgYSwgbywgaSwgdSkge2plID0gITEsIERlID0gbnVsbCwgSGUuYXBwbHkoT2UsIGFyZ3VtZW50cyl9ZnVuY3Rpb24gQWUoZSkge3ZhciB0ID0gZSxuID0gZTtpZiAoZS5hbHRlcm5hdGUpZm9yICg7IHQucmV0dXJuOykgdCA9IHQucmV0dXJuO2Vsc2Uge2UgPSB0O2RvIHswICE9PSAoNDA5OCAmICh0ID0gZSkuZmxhZ3MpICYmIChuID0gdC5yZXR1cm4pLCBlID0gdC5yZXR1cm59IHdoaWxlIChlKX1yZXR1cm4gMyA9PT0gdC50YWcgPyBuIDogbnVsbH1mdW5jdGlvbiBVZShlKSB7aWYgKDEzID09PSBlLnRhZykge3ZhciB0ID0gZS5tZW1vaXplZFN0YXRlO2lmIChudWxsID09PSB0ICYmIChudWxsICE9PSAoZSA9IGUuYWx0ZXJuYXRlKSAmJiAodCA9IGUubWVtb2l6ZWRTdGF0ZSkpLCBudWxsICE9PSB0KSByZXR1cm4gdC5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIFFlKGUpIHtpZiAoQWUoZSkgIT09IGUpIHRocm93IEVycm9yKGEoMTg4KSl9ZnVuY3Rpb24gV2UoZSkge3JldHVybiBudWxsICE9PSAoZSA9IGZ1bmN0aW9uKGUpIHt2YXIgdCA9IGUuYWx0ZXJuYXRlO2lmICghdCkge2lmIChudWxsID09PSAodCA9IEFlKGUpKSkgdGhyb3cgRXJyb3IoYSgxODgpKTtyZXR1cm4gdCAhPT0gZSA/IG51bGwgOiBlfWZvciAodmFyIG4gPSBlLCByID0gdDs7KSB7dmFyIGwgPSBuLnJldHVybjtpZiAobnVsbCA9PT0gbCkgYnJlYWs7dmFyIG8gPSBsLmFsdGVybmF0ZTtpZiAobnVsbCA9PT0gbykge2lmIChudWxsICE9PSAociA9IGwucmV0dXJuKSkge24gPSByO2NvbnRpbnVlfWJyZWFrfWlmIChsLmNoaWxkID09PSBvLmNoaWxkKSB7Zm9yIChvID0gbC5jaGlsZDsgbzspIHtpZiAobyA9PT0gbikgcmV0dXJuIFFlKGwpLCBlO2lmIChvID09PSByKSByZXR1cm4gUWUobCksIHQ7byA9IG8uc2libGluZ310aHJvdyBFcnJvcihhKDE4OCkpfWlmIChuLnJldHVybiAhPT0gci5yZXR1cm4pIG4gPSBsLCByID0gbztlbHNlIHtmb3IgKHZhciBpID0gITEsIHUgPSBsLmNoaWxkOyB1Oykge2lmICh1ID09PSBuKSB7aSA9ICEwLCBuID0gbCwgciA9IG87YnJlYWt9aWYgKHUgPT09IHIpIHtpID0gITAsIHIgPSBsLCBuID0gbzticmVha311ID0gdS5zaWJsaW5nfWlmICghaSkge2ZvciAodSA9IG8uY2hpbGQ7IHU7KSB7aWYgKHUgPT09IG4pIHtpID0gITAsIG4gPSBvLCByID0gbDticmVha31pZiAodSA9PT0gcikge2kgPSAhMCwgciA9IG8sIG4gPSBsO2JyZWFrfXUgPSB1LnNpYmxpbmd9aWYgKCFpKSB0aHJvdyBFcnJvcihhKDE4OSkpfX1pZiAobi5hbHRlcm5hdGUgIT09IHIpIHRocm93IEVycm9yKGEoMTkwKSl9aWYgKDMgIT09IG4udGFnKSB0aHJvdyBFcnJvcihhKDE4OCkpO3JldHVybiBuLnN0YXRlTm9kZS5jdXJyZW50ID09PSBuID8gZSA6IHR9KGUpKSA/ICRlKGUpIDogbnVsbH1mdW5jdGlvbiAkZShlKSB7aWYgKDUgPT09IGUudGFnIHx8IDYgPT09IGUudGFnKSByZXR1cm4gZTtmb3IgKGUgPSBlLmNoaWxkOyBudWxsICE9PSBlOykge3ZhciB0ID0gJGUoZSk7aWYgKG51bGwgIT09IHQpIHJldHVybiB0O2UgPSBlLnNpYmxpbmd9cmV0dXJuIG51bGx9dmFyIFplID0gbC51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLEtlID0gbC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayxxZSA9IGwudW5zdGFibGVfc2hvdWxkWWllbGQsWWUgPSBsLnVuc3RhYmxlX3JlcXVlc3RQYWludCxYZSA9IGwudW5zdGFibGVfbm93LEdlID0gbC51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCxKZSA9IGwudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHksZXQgPSBsLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LHR0ID0gbC51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxudCA9IGwudW5zdGFibGVfTG93UHJpb3JpdHkscnQgPSBsLnVuc3RhYmxlX0lkbGVQcmlvcml0eSxsdCA9IG51bGwsYXQgPSBudWxsO3ZhciBvdCA9IE1hdGguY2x6MzIgPyBNYXRoLmNsejMyIDogZnVuY3Rpb24oZSkge3JldHVybiBlID4+Pj0gMCwgMCA9PT0gZSA/IDMyIDogMzEgLSAoaXQoZSkgLyB1dCB8IDApIHwgMH0saXQgPSBNYXRoLmxvZyx1dCA9IE1hdGguTE4yO3ZhciBzdCA9IDY0LGN0ID0gNDE5NDMwNDtmdW5jdGlvbiBmdChlKSB7c3dpdGNoIChlICYgLWUpIHtjYXNlIDE6cmV0dXJuIDE7Y2FzZSAyOnJldHVybiAyO2Nhc2UgNDpyZXR1cm4gNDtjYXNlIDg6cmV0dXJuIDg7Y2FzZSAxNjpyZXR1cm4gMTY7Y2FzZSAzMjpyZXR1cm4gMzI7Y2FzZSA2NDpjYXNlIDEyODpjYXNlIDI1NjpjYXNlIDUxMjpjYXNlIDEwMjQ6Y2FzZSAyMDQ4OmNhc2UgNDA5NjpjYXNlIDgxOTI6Y2FzZSAxNjM4NDpjYXNlIDMyNzY4OmNhc2UgNjU1MzY6Y2FzZSAxMzEwNzI6Y2FzZSAyNjIxNDQ6Y2FzZSA1MjQyODg6Y2FzZSAxMDQ4NTc2OmNhc2UgMjA5NzE1MjpyZXR1cm4gNDE5NDI0MCAmIGU7Y2FzZSA0MTk0MzA0OmNhc2UgODM4ODYwODpjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6Y2FzZSA2NzEwODg2NDpyZXR1cm4gMTMwMDIzNDI0ICYgZTtjYXNlIDEzNDIxNzcyODpyZXR1cm4gMTM0MjE3NzI4O2Nhc2UgMjY4NDM1NDU2OnJldHVybiAyNjg0MzU0NTY7Y2FzZSA1MzY4NzA5MTI6cmV0dXJuIDUzNjg3MDkxMjtjYXNlIDEwNzM3NDE4MjQ6cmV0dXJuIDEwNzM3NDE4MjQ7ZGVmYXVsdDpyZXR1cm4gZX19ZnVuY3Rpb24gZHQoZSwgdCkge3ZhciBuID0gZS5wZW5kaW5nTGFuZXM7aWYgKDAgPT09IG4pIHJldHVybiAwO3ZhciByID0gMCxsID0gZS5zdXNwZW5kZWRMYW5lcyxhID0gZS5waW5nZWRMYW5lcyxvID0gMjY4NDM1NDU1ICYgbjtpZiAoMCAhPT0gbykge3ZhciBpID0gbyAmIH5sOzAgIT09IGkgPyByID0gZnQoaSkgOiAwICE9PSAoYSAmPSBvKSAmJiAociA9IGZ0KGEpKX0gZWxzZSAwICE9PSAobyA9IG4gJiB+bCkgPyByID0gZnQobykgOiAwICE9PSBhICYmIChyID0gZnQoYSkpO2lmICgwID09PSByKSByZXR1cm4gMDtpZiAoMCAhPT0gdCAmJiB0ICE9PSByICYmIDAgPT09ICh0ICYgbCkgJiYgKChsID0gciAmIC1yKSA+PSAoYSA9IHQgJiAtdCkgfHwgMTYgPT09IGwgJiYgMCAhPT0gKDQxOTQyNDAgJiBhKSkpIHJldHVybiB0O2lmICgwICE9PSAoNCAmIHIpICYmIChyIHw9IDE2ICYgbiksIDAgIT09ICh0ID0gZS5lbnRhbmdsZWRMYW5lcykpZm9yIChlID0gZS5lbnRhbmdsZW1lbnRzLCB0ICY9IHI7IDAgPCB0OykgbCA9IDEgPDwgKG4gPSAzMSAtIG90KHQpKSwgciB8PSBlW25dLCB0ICY9IH5sO3JldHVybiByfWZ1bmN0aW9uIHB0KGUsIHQpIHtzd2l0Y2ggKGUpIHtjYXNlIDE6Y2FzZSAyOmNhc2UgNDpyZXR1cm4gdCArIDI1MDtjYXNlIDg6Y2FzZSAxNjpjYXNlIDMyOmNhc2UgNjQ6Y2FzZSAxMjg6Y2FzZSAyNTY6Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDQwOTY6Y2FzZSA4MTkyOmNhc2UgMTYzODQ6Y2FzZSAzMjc2ODpjYXNlIDY1NTM2OmNhc2UgMTMxMDcyOmNhc2UgMjYyMTQ0OmNhc2UgNTI0Mjg4OmNhc2UgMTA0ODU3NjpjYXNlIDIwOTcxNTI6cmV0dXJuIHQgKyA1ZTM7ZGVmYXVsdDpyZXR1cm4gLTF9fWZ1bmN0aW9uIGh0KGUpIHtyZXR1cm4gMCAhPT0gKGUgPSAtMTA3Mzc0MTgyNSAmIGUucGVuZGluZ0xhbmVzKSA/IGUgOiAxMDczNzQxODI0ICYgZSA/IDEwNzM3NDE4MjQgOiAwfWZ1bmN0aW9uIG10KCkge3ZhciBlID0gc3Q7cmV0dXJuIDAgPT09ICg0MTk0MjQwICYgKHN0IDw8PSAxKSkgJiYgKHN0ID0gNjQpLCBlfWZ1bmN0aW9uIHZ0KGUpIHtmb3IgKHZhciB0ID0gW10sIG4gPSAwOyAzMSA+IG47IG4rKykgdC5wdXNoKGUpO3JldHVybiB0fWZ1bmN0aW9uIGd0KGUsIHQsIG4pIHtlLnBlbmRpbmdMYW5lcyB8PSB0LCA1MzY4NzA5MTIgIT09IHQgJiYgKGUuc3VzcGVuZGVkTGFuZXMgPSAwLCBlLnBpbmdlZExhbmVzID0gMCksIChlID0gZS5ldmVudFRpbWVzKVt0ID0gMzEgLSBvdCh0KV0gPSBufWZ1bmN0aW9uIHl0KGUsIHQpIHt2YXIgbiA9IGUuZW50YW5nbGVkTGFuZXMgfD0gdDtmb3IgKGUgPSBlLmVudGFuZ2xlbWVudHM7IG47KSB7dmFyIHIgPSAzMSAtIG90KG4pLGwgPSAxIDw8IHI7bCAmIHQgfCBlW3JdICYgdCAmJiAoZVtyXSB8PSB0KSwgbiAmPSB+bH19dmFyIGJ0ID0gMDtmdW5jdGlvbiBrdChlKSB7cmV0dXJuIDEgPCAoZSAmPSAtZSkgPyA0IDwgZSA/IDAgIT09ICgyNjg0MzU0NTUgJiBlKSA/IDE2IDogNTM2ODcwOTEyIDogNCA6IDF9dmFyIHd0LCB4dCwgU3QsIEN0LCBFdCwgX3QgPSAhMSxOdCA9IFtdLFB0ID0gbnVsbCxMdCA9IG51bGwsenQgPSBudWxsLE10ID0gbmV3IE1hcCxGdCA9IG5ldyBNYXAsVHQgPSBbXSxWdCA9ICJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjb3B5IGN1dCBwYXN0ZSBjbGljayBjaGFuZ2UgY29udGV4dG1lbnUgcmVzZXQgc3VibWl0Ii5zcGxpdCgiICIpO2Z1bmN0aW9uIEh0KGUsIHQpIHtzd2l0Y2ggKGUpIHtjYXNlICJmb2N1c2luIjpjYXNlICJmb2N1c291dCI6UHQgPSBudWxsO2JyZWFrO2Nhc2UgImRyYWdlbnRlciI6Y2FzZSAiZHJhZ2xlYXZlIjpMdCA9IG51bGw7YnJlYWs7Y2FzZSAibW91c2VvdmVyIjpjYXNlICJtb3VzZW91dCI6enQgPSBudWxsO2JyZWFrO2Nhc2UgInBvaW50ZXJvdmVyIjpjYXNlICJwb2ludGVyb3V0IjpNdC5kZWxldGUodC5wb2ludGVySWQpO2JyZWFrO2Nhc2UgImdvdHBvaW50ZXJjYXB0dXJlIjpjYXNlICJsb3N0cG9pbnRlcmNhcHR1cmUiOkZ0LmRlbGV0ZSh0LnBvaW50ZXJJZCl9fWZ1bmN0aW9uIGp0KGUsIHQsIG4sIHIsIGwsIGEpIHtyZXR1cm4gbnVsbCA9PT0gZSB8fCBlLm5hdGl2ZUV2ZW50ICE9PSBhID8gKGUgPSB7YmxvY2tlZE9uOiB0LGRvbUV2ZW50TmFtZTogbixldmVudFN5c3RlbUZsYWdzOiByLG5hdGl2ZUV2ZW50OiBhLHRhcmdldENvbnRhaW5lcnM6IFtsXX0sIG51bGwgIT09IHQgJiYgKG51bGwgIT09ICh0ID0gYmwodCkpICYmIHh0KHQpKSwgZSkgOiAoZS5ldmVudFN5c3RlbUZsYWdzIHw9IHIsIHQgPSBlLnRhcmdldENvbnRhaW5lcnMsIG51bGwgIT09IGwgJiYgLTEgPT09IHQuaW5kZXhPZihsKSAmJiB0LnB1c2gobCksIGUpfWZ1bmN0aW9uIER0KGUpIHt2YXIgdCA9IHlsKGUudGFyZ2V0KTtpZiAobnVsbCAhPT0gdCkge3ZhciBuID0gQWUodCk7aWYgKG51bGwgIT09IG4paWYgKDEzID09PSAodCA9IG4udGFnKSkge2lmIChudWxsICE9PSAodCA9IFVlKG4pKSkgcmV0dXJuIGUuYmxvY2tlZE9uID0gdCwgdm9pZCBFdChlLnByaW9yaXR5LCAoZnVuY3Rpb24oKSB7U3Qobil9KSl9IGVsc2UgaWYgKDMgPT09IHQgJiYgbi5zdGF0ZU5vZGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCkgcmV0dXJuIHZvaWQoZS5ibG9ja2VkT24gPSAzID09PSBuLnRhZyA/IG4uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gOiBudWxsKX1lLmJsb2NrZWRPbiA9IG51bGx9ZnVuY3Rpb24gQnQoZSkge2lmIChudWxsICE9PSBlLmJsb2NrZWRPbikgcmV0dXJuICExO2ZvciAodmFyIHQgPSBlLnRhcmdldENvbnRhaW5lcnM7IDAgPCB0Lmxlbmd0aDspIHt2YXIgbiA9IHF0KGUuZG9tRXZlbnROYW1lLCBlLmV2ZW50U3lzdGVtRmxhZ3MsIHRbMF0sIGUubmF0aXZlRXZlbnQpO2lmIChudWxsICE9PSBuKSByZXR1cm4gbnVsbCAhPT0gKHQgPSBibChuKSkgJiYgeHQodCksIGUuYmxvY2tlZE9uID0gbiwgITE7dmFyIHIgPSBuZXcobiA9IGUubmF0aXZlRXZlbnQpLmNvbnN0cnVjdG9yKG4udHlwZSwgbik7a2UgPSByLCBuLnRhcmdldC5kaXNwYXRjaEV2ZW50KHIpLCBrZSA9IG51bGwsIHQuc2hpZnQoKX1yZXR1cm4gITB9ZnVuY3Rpb24gUnQoZSwgdCwgbikge0J0KGUpICYmIG4uZGVsZXRlKHQpfWZ1bmN0aW9uIE90KCkge190ID0gITEsIG51bGwgIT09IFB0ICYmIEJ0KFB0KSAmJiAoUHQgPSBudWxsKSwgbnVsbCAhPT0gTHQgJiYgQnQoTHQpICYmIChMdCA9IG51bGwpLCBudWxsICE9PSB6dCAmJiBCdCh6dCkgJiYgKHp0ID0gbnVsbCksIE10LmZvckVhY2goUnQpLCBGdC5mb3JFYWNoKFJ0KX1mdW5jdGlvbiBJdChlLCB0KSB7ZS5ibG9ja2VkT24gPT09IHQgJiYgKGUuYmxvY2tlZE9uID0gbnVsbCwgX3QgfHwgKF90ID0gITAsIGwudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhsLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LCBPdCkpKX1mdW5jdGlvbiBBdChlKSB7ZnVuY3Rpb24gdCh0KSB7cmV0dXJuIEl0KHQsIGUpfWlmICgwIDwgTnQubGVuZ3RoKSB7SXQoTnRbMF0sIGUpO2ZvciAodmFyIG4gPSAxOyBuIDwgTnQubGVuZ3RoOyBuKyspIHt2YXIgciA9IE50W25dO3IuYmxvY2tlZE9uID09PSBlICYmIChyLmJsb2NrZWRPbiA9IG51bGwpfX1mb3IgKG51bGwgIT09IFB0ICYmIEl0KFB0LCBlKSwgbnVsbCAhPT0gTHQgJiYgSXQoTHQsIGUpLCBudWxsICE9PSB6dCAmJiBJdCh6dCwgZSksIE10LmZvckVhY2godCksIEZ0LmZvckVhY2godCksIG4gPSAwOyBuIDwgVHQubGVuZ3RoOyBuKyspKHIgPSBUdFtuXSkuYmxvY2tlZE9uID09PSBlICYmIChyLmJsb2NrZWRPbiA9IG51bGwpO2ZvciAoOyAwIDwgVHQubGVuZ3RoICYmIG51bGwgPT09IChuID0gVHRbMF0pLmJsb2NrZWRPbjspIER0KG4pLCBudWxsID09PSBuLmJsb2NrZWRPbiAmJiBUdC5zaGlmdCgpfXZhciBVdCA9IGsuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsUXQgPSAhMDtmdW5jdGlvbiBXdChlLCB0LCBuLCByKSB7dmFyIGwgPSBidCxhID0gVXQudHJhbnNpdGlvbjtVdC50cmFuc2l0aW9uID0gbnVsbDt0cnkge2J0ID0gMSwgWnQoZSwgdCwgbiwgcil9IGZpbmFsbHkge2J0ID0gbCwgVXQudHJhbnNpdGlvbiA9IGF9fWZ1bmN0aW9uICR0KGUsIHQsIG4sIHIpIHt2YXIgbCA9IGJ0LGEgPSBVdC50cmFuc2l0aW9uO1V0LnRyYW5zaXRpb24gPSBudWxsO3RyeSB7YnQgPSA0LCBadChlLCB0LCBuLCByKX0gZmluYWxseSB7YnQgPSBsLCBVdC50cmFuc2l0aW9uID0gYX19ZnVuY3Rpb24gWnQoZSwgdCwgbiwgcikge2lmIChRdCkge3ZhciBsID0gcXQoZSwgdCwgbiwgcik7aWYgKG51bGwgPT09IGwpIFFyKGUsIHQsIHIsIEt0LCBuKSwgSHQoZSwgcik7ZWxzZSBpZiAoZnVuY3Rpb24oZSwgdCwgbiwgciwgbCkge3N3aXRjaCAodCkge2Nhc2UgImZvY3VzaW4iOnJldHVybiBQdCA9IGp0KFB0LCBlLCB0LCBuLCByLCBsKSwgITA7Y2FzZSAiZHJhZ2VudGVyIjpyZXR1cm4gTHQgPSBqdChMdCwgZSwgdCwgbiwgciwgbCksICEwO2Nhc2UgIm1vdXNlb3ZlciI6cmV0dXJuIHp0ID0ganQoenQsIGUsIHQsIG4sIHIsIGwpLCAhMDtjYXNlICJwb2ludGVyb3ZlciI6dmFyIGEgPSBsLnBvaW50ZXJJZDtyZXR1cm4gTXQuc2V0KGEsIGp0KE10LmdldChhKSB8fCBudWxsLCBlLCB0LCBuLCByLCBsKSksICEwO2Nhc2UgImdvdHBvaW50ZXJjYXB0dXJlIjpyZXR1cm4gYSA9IGwucG9pbnRlcklkLCBGdC5zZXQoYSwganQoRnQuZ2V0KGEpIHx8IG51bGwsIGUsIHQsIG4sIHIsIGwpKSwgITB9cmV0dXJuICExfShsLCBlLCB0LCBuLCByKSkgci5zdG9wUHJvcGFnYXRpb24oKTtlbHNlIGlmIChIdChlLCByKSwgNCAmIHQgJiYgLTEgPCBWdC5pbmRleE9mKGUpKSB7Zm9yICg7IG51bGwgIT09IGw7KSB7dmFyIGEgPSBibChsKTtpZiAobnVsbCAhPT0gYSAmJiB3dChhKSwgbnVsbCA9PT0gKGEgPSBxdChlLCB0LCBuLCByKSkgJiYgUXIoZSwgdCwgciwgS3QsIG4pLCBhID09PSBsKSBicmVhaztsID0gYX1udWxsICE9PSBsICYmIHIuc3RvcFByb3BhZ2F0aW9uKCl9IGVsc2UgUXIoZSwgdCwgciwgbnVsbCwgbil9fXZhciBLdCA9IG51bGw7ZnVuY3Rpb24gcXQoZSwgdCwgbiwgcikge2lmIChLdCA9IG51bGwsIG51bGwgIT09IChlID0geWwoZSA9IHdlKHIpKSkpaWYgKG51bGwgPT09ICh0ID0gQWUoZSkpKSBlID0gbnVsbDtlbHNlIGlmICgxMyA9PT0gKG4gPSB0LnRhZykpIHtpZiAobnVsbCAhPT0gKGUgPSBVZSh0KSkpIHJldHVybiBlO2UgPSBudWxsfSBlbHNlIGlmICgzID09PSBuKSB7aWYgKHQuc3RhdGVOb2RlLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpIHJldHVybiAzID09PSB0LnRhZyA/IHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gOiBudWxsO2UgPSBudWxsfSBlbHNlIHQgIT09IGUgJiYgKGUgPSBudWxsKTtyZXR1cm4gS3QgPSBlLCBudWxsfWZ1bmN0aW9uIFl0KGUpIHtzd2l0Y2ggKGUpIHtjYXNlICJjYW5jZWwiOmNhc2UgImNsaWNrIjpjYXNlICJjbG9zZSI6Y2FzZSAiY29udGV4dG1lbnUiOmNhc2UgImNvcHkiOmNhc2UgImN1dCI6Y2FzZSAiYXV4Y2xpY2siOmNhc2UgImRibGNsaWNrIjpjYXNlICJkcmFnZW5kIjpjYXNlICJkcmFnc3RhcnQiOmNhc2UgImRyb3AiOmNhc2UgImZvY3VzaW4iOmNhc2UgImZvY3Vzb3V0IjpjYXNlICJpbnB1dCI6Y2FzZSAiaW52YWxpZCI6Y2FzZSAia2V5ZG93biI6Y2FzZSAia2V5cHJlc3MiOmNhc2UgImtleXVwIjpjYXNlICJtb3VzZWRvd24iOmNhc2UgIm1vdXNldXAiOmNhc2UgInBhc3RlIjpjYXNlICJwYXVzZSI6Y2FzZSAicGxheSI6Y2FzZSAicG9pbnRlcmNhbmNlbCI6Y2FzZSAicG9pbnRlcmRvd24iOmNhc2UgInBvaW50ZXJ1cCI6Y2FzZSAicmF0ZWNoYW5nZSI6Y2FzZSAicmVzZXQiOmNhc2UgInJlc2l6ZSI6Y2FzZSAic2Vla2VkIjpjYXNlICJzdWJtaXQiOmNhc2UgInRvdWNoY2FuY2VsIjpjYXNlICJ0b3VjaGVuZCI6Y2FzZSAidG91Y2hzdGFydCI6Y2FzZSAidm9sdW1lY2hhbmdlIjpjYXNlICJjaGFuZ2UiOmNhc2UgInNlbGVjdGlvbmNoYW5nZSI6Y2FzZSAidGV4dElucHV0IjpjYXNlICJjb21wb3NpdGlvbnN0YXJ0IjpjYXNlICJjb21wb3NpdGlvbmVuZCI6Y2FzZSAiY29tcG9zaXRpb251cGRhdGUiOmNhc2UgImJlZm9yZWJsdXIiOmNhc2UgImFmdGVyYmx1ciI6Y2FzZSAiYmVmb3JlaW5wdXQiOmNhc2UgImJsdXIiOmNhc2UgImZ1bGxzY3JlZW5jaGFuZ2UiOmNhc2UgImZvY3VzIjpjYXNlICJoYXNoY2hhbmdlIjpjYXNlICJwb3BzdGF0ZSI6Y2FzZSAic2VsZWN0IjpjYXNlICJzZWxlY3RzdGFydCI6cmV0dXJuIDE7Y2FzZSAiZHJhZyI6Y2FzZSAiZHJhZ2VudGVyIjpjYXNlICJkcmFnZXhpdCI6Y2FzZSAiZHJhZ2xlYXZlIjpjYXNlICJkcmFnb3ZlciI6Y2FzZSAibW91c2Vtb3ZlIjpjYXNlICJtb3VzZW91dCI6Y2FzZSAibW91c2VvdmVyIjpjYXNlICJwb2ludGVybW92ZSI6Y2FzZSAicG9pbnRlcm91dCI6Y2FzZSAicG9pbnRlcm92ZXIiOmNhc2UgInNjcm9sbCI6Y2FzZSAidG9nZ2xlIjpjYXNlICJ0b3VjaG1vdmUiOmNhc2UgIndoZWVsIjpjYXNlICJtb3VzZWVudGVyIjpjYXNlICJtb3VzZWxlYXZlIjpjYXNlICJwb2ludGVyZW50ZXIiOmNhc2UgInBvaW50ZXJsZWF2ZSI6cmV0dXJuIDQ7Y2FzZSAibWVzc2FnZSI6c3dpdGNoIChHZSgpKSB7Y2FzZSBKZTpyZXR1cm4gMTtjYXNlIGV0OnJldHVybiA0O2Nhc2UgdHQ6Y2FzZSBudDpyZXR1cm4gMTY7Y2FzZSBydDpyZXR1cm4gNTM2ODcwOTEyO2RlZmF1bHQ6cmV0dXJuIDE2fWRlZmF1bHQ6cmV0dXJuIDE2fX12YXIgWHQgPSBudWxsLEd0ID0gbnVsbCxKdCA9IG51bGw7ZnVuY3Rpb24gZW4oKSB7aWYgKEp0KSByZXR1cm4gSnQ7dmFyIGUsIHQsIG4gPSBHdCxyID0gbi5sZW5ndGgsbCA9ICJ2YWx1ZSIgaW4gWHQgPyBYdC52YWx1ZSA6IFh0LnRleHRDb250ZW50LGEgPSBsLmxlbmd0aDtmb3IgKGUgPSAwOyBlIDwgciAmJiBuW2VdID09PSBsW2VdOyBlKyspO3ZhciBvID0gciAtIGU7Zm9yICh0ID0gMTsgdCA8PSBvICYmIG5bciAtIHRdID09PSBsW2EgLSB0XTsgdCsrKTtyZXR1cm4gSnQgPSBsLnNsaWNlKGUsIDEgPCB0ID8gMSAtIHQgOiB2b2lkIDApfWZ1bmN0aW9uIHRuKGUpIHt2YXIgdCA9IGUua2V5Q29kZTtyZXR1cm4gImNoYXJDb2RlIiBpbiBlID8gMCA9PT0gKGUgPSBlLmNoYXJDb2RlKSAmJiAxMyA9PT0gdCAmJiAoZSA9IDEzKSA6IGUgPSB0LCAxMCA9PT0gZSAmJiAoZSA9IDEzKSwgMzIgPD0gZSB8fCAxMyA9PT0gZSA/IGUgOiAwfWZ1bmN0aW9uIG5uKCkge3JldHVybiAhMH1mdW5jdGlvbiBybigpIHtyZXR1cm4gITF9ZnVuY3Rpb24gbG4oZSkge2Z1bmN0aW9uIHQodCwgbiwgciwgbCwgYSkge2ZvciAodmFyIG8gaW4gdGhpcy5fcmVhY3ROYW1lID0gdCwgdGhpcy5fdGFyZ2V0SW5zdCA9IHIsIHRoaXMudHlwZSA9IG4sIHRoaXMubmF0aXZlRXZlbnQgPSBsLCB0aGlzLnRhcmdldCA9IGEsIHRoaXMuY3VycmVudFRhcmdldCA9IG51bGwsIGUpIGUuaGFzT3duUHJvcGVydHkobykgJiYgKHQgPSBlW29dLCB0aGlzW29dID0gdCA/IHQobCkgOiBsW29dKTtyZXR1cm4gdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSAobnVsbCAhPSBsLmRlZmF1bHRQcmV2ZW50ZWQgPyBsLmRlZmF1bHRQcmV2ZW50ZWQgOiAhMSA9PT0gbC5yZXR1cm5WYWx1ZSkgPyBubiA6IHJuLCB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcm4sIHRoaXN9cmV0dXJuIEQodC5wcm90b3R5cGUsIHtwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7dGhpcy5kZWZhdWx0UHJldmVudGVkID0gITA7dmFyIGUgPSB0aGlzLm5hdGl2ZUV2ZW50O2UgJiYgKGUucHJldmVudERlZmF1bHQgPyBlLnByZXZlbnREZWZhdWx0KCkgOiAidW5rbm93biIgIT09IHR5cGVvZiBlLnJldHVyblZhbHVlICYmIChlLnJldHVyblZhbHVlID0gITEpLCB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IG5uKX0sc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHt2YXIgZSA9IHRoaXMubmF0aXZlRXZlbnQ7ZSAmJiAoZS5zdG9wUHJvcGFnYXRpb24gPyBlLnN0b3BQcm9wYWdhdGlvbigpIDogInVua25vd24iICE9PSB0eXBlb2YgZS5jYW5jZWxCdWJibGUgJiYgKGUuY2FuY2VsQnViYmxlID0gITApLCB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gbm4pfSxwZXJzaXN0OiBmdW5jdGlvbigpIHt9LGlzUGVyc2lzdGVudDogbm59KSwgdH12YXIgYW4sIG9uLCB1biwgc24gPSB7ZXZlbnRQaGFzZTogMCxidWJibGVzOiAwLGNhbmNlbGFibGU6IDAsdGltZVN0YW1wOiBmdW5jdGlvbihlKSB7cmV0dXJuIGUudGltZVN0YW1wIHx8IERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6IDAsaXNUcnVzdGVkOiAwfSxjbiA9IGxuKHNuKSxmbiA9IEQoe30sIHNuLCB7dmlldzogMCxkZXRhaWw6IDB9KSxkbiA9IGxuKGZuKSxwbiA9IEQoe30sIGZuLCB7c2NyZWVuWDogMCxzY3JlZW5ZOiAwLGNsaWVudFg6IDAsY2xpZW50WTogMCxwYWdlWDogMCxwYWdlWTogMCxjdHJsS2V5OiAwLHNoaWZ0S2V5OiAwLGFsdEtleTogMCxtZXRhS2V5OiAwLGdldE1vZGlmaWVyU3RhdGU6IEVuLGJ1dHRvbjogMCxidXR0b25zOiAwLHJlbGF0ZWRUYXJnZXQ6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gdm9pZCAwID09PSBlLnJlbGF0ZWRUYXJnZXQgPyBlLmZyb21FbGVtZW50ID09PSBlLnNyY0VsZW1lbnQgPyBlLnRvRWxlbWVudCA6IGUuZnJvbUVsZW1lbnQgOiBlLnJlbGF0ZWRUYXJnZXR9LG1vdmVtZW50WDogZnVuY3Rpb24oZSkge3JldHVybiAibW92ZW1lbnRYIiBpbiBlID8gZS5tb3ZlbWVudFggOiAoZSAhPT0gdW4gJiYgKHVuICYmICJtb3VzZW1vdmUiID09PSBlLnR5cGUgPyAoYW4gPSBlLnNjcmVlblggLSB1bi5zY3JlZW5YLCBvbiA9IGUuc2NyZWVuWSAtIHVuLnNjcmVlblkpIDogb24gPSBhbiA9IDAsIHVuID0gZSksIGFuKX0sbW92ZW1lbnRZOiBmdW5jdGlvbihlKSB7cmV0dXJuICJtb3ZlbWVudFkiIGluIGUgPyBlLm1vdmVtZW50WSA6IG9ufX0pLGhuID0gbG4ocG4pLG1uID0gbG4oRCh7fSwgcG4sIHtkYXRhVHJhbnNmZXI6IDB9KSksdm4gPSBsbihEKHt9LCBmbiwge3JlbGF0ZWRUYXJnZXQ6IDB9KSksZ24gPSBsbihEKHt9LCBzbiwge2FuaW1hdGlvbk5hbWU6IDAsZWxhcHNlZFRpbWU6IDAscHNldWRvRWxlbWVudDogMH0pKSx5biA9IEQoe30sIHNuLCB7Y2xpcGJvYXJkRGF0YTogZnVuY3Rpb24oZSkge3JldHVybiAiY2xpcGJvYXJkRGF0YSIgaW4gZSA/IGUuY2xpcGJvYXJkRGF0YSA6IHdpbmRvdy5jbGlwYm9hcmREYXRhfX0pLGJuID0gbG4oeW4pLGtuID0gbG4oRCh7fSwgc24sIHtkYXRhOiAwfSkpLHduID0ge0VzYzogIkVzY2FwZSIsU3BhY2ViYXI6ICIgIixMZWZ0OiAiQXJyb3dMZWZ0IixVcDogIkFycm93VXAiLFJpZ2h0OiAiQXJyb3dSaWdodCIsRG93bjogIkFycm93RG93biIsRGVsOiAiRGVsZXRlIixXaW46ICJPUyIsTWVudTogIkNvbnRleHRNZW51IixBcHBzOiAiQ29udGV4dE1lbnUiLFNjcm9sbDogIlNjcm9sbExvY2siLE1velByaW50YWJsZUtleTogIlVuaWRlbnRpZmllZCJ9LHhuID0gezg6ICJCYWNrc3BhY2UiLDk6ICJUYWIiLDEyOiAiQ2xlYXIiLDEzOiAiRW50ZXIiLDE2OiAiU2hpZnQiLDE3OiAiQ29udHJvbCIsMTg6ICJBbHQiLDE5OiAiUGF1c2UiLDIwOiAiQ2Fwc0xvY2siLDI3OiAiRXNjYXBlIiwzMjogIiAiLDMzOiAiUGFnZVVwIiwzNDogIlBhZ2VEb3duIiwzNTogIkVuZCIsMzY6ICJIb21lIiwzNzogIkFycm93TGVmdCIsMzg6ICJBcnJvd1VwIiwzOTogIkFycm93UmlnaHQiLDQwOiAiQXJyb3dEb3duIiw0NTogIkluc2VydCIsNDY6ICJEZWxldGUiLDExMjogIkYxIiwxMTM6ICJGMiIsMTE0OiAiRjMiLDExNTogIkY0IiwxMTY6ICJGNSIsMTE3OiAiRjYiLDExODogIkY3IiwxMTk6ICJGOCIsMTIwOiAiRjkiLDEyMTogIkYxMCIsMTIyOiAiRjExIiwxMjM6ICJGMTIiLDE0NDogIk51bUxvY2siLDE0NTogIlNjcm9sbExvY2siLDIyNDogIk1ldGEifSxTbiA9IHtBbHQ6ICJhbHRLZXkiLENvbnRyb2w6ICJjdHJsS2V5IixNZXRhOiAibWV0YUtleSIsU2hpZnQ6ICJzaGlmdEtleSJ9O2Z1bmN0aW9uIENuKGUpIHt2YXIgdCA9IHRoaXMubmF0aXZlRXZlbnQ7cmV0dXJuIHQuZ2V0TW9kaWZpZXJTdGF0ZSA/IHQuZ2V0TW9kaWZpZXJTdGF0ZShlKSA6ICEhKGUgPSBTbltlXSkgJiYgISF0W2VdfWZ1bmN0aW9uIEVuKCkge3JldHVybiBDbn12YXIgX24gPSBEKHt9LCBmbiwge2tleTogZnVuY3Rpb24oZSkge2lmIChlLmtleSkge3ZhciB0ID0gd25bZS5rZXldIHx8IGUua2V5O2lmICgiVW5pZGVudGlmaWVkIiAhPT0gdCkgcmV0dXJuIHR9cmV0dXJuICJrZXlwcmVzcyIgPT09IGUudHlwZSA/IDEzID09PSAoZSA9IHRuKGUpKSA/ICJFbnRlciIgOiBTdHJpbmcuZnJvbUNoYXJDb2RlKGUpIDogImtleWRvd24iID09PSBlLnR5cGUgfHwgImtleXVwIiA9PT0gZS50eXBlID8geG5bZS5rZXlDb2RlXSB8fCAiVW5pZGVudGlmaWVkIiA6ICIifSxjb2RlOiAwLGxvY2F0aW9uOiAwLGN0cmxLZXk6IDAsc2hpZnRLZXk6IDAsYWx0S2V5OiAwLG1ldGFLZXk6IDAscmVwZWF0OiAwLGxvY2FsZTogMCxnZXRNb2RpZmllclN0YXRlOiBFbixjaGFyQ29kZTogZnVuY3Rpb24oZSkge3JldHVybiAia2V5cHJlc3MiID09PSBlLnR5cGUgPyB0bihlKSA6IDB9LGtleUNvZGU6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gImtleWRvd24iID09PSBlLnR5cGUgfHwgImtleXVwIiA9PT0gZS50eXBlID8gZS5rZXlDb2RlIDogMH0sd2hpY2g6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gImtleXByZXNzIiA9PT0gZS50eXBlID8gdG4oZSkgOiAia2V5ZG93biIgPT09IGUudHlwZSB8fCAia2V5dXAiID09PSBlLnR5cGUgPyBlLmtleUNvZGUgOiAwfX0pLE5uID0gbG4oX24pLFBuID0gbG4oRCh7fSwgcG4sIHtwb2ludGVySWQ6IDAsd2lkdGg6IDAsaGVpZ2h0OiAwLHByZXNzdXJlOiAwLHRhbmdlbnRpYWxQcmVzc3VyZTogMCx0aWx0WDogMCx0aWx0WTogMCx0d2lzdDogMCxwb2ludGVyVHlwZTogMCxpc1ByaW1hcnk6IDB9KSksTG4gPSBsbihEKHt9LCBmbiwge3RvdWNoZXM6IDAsdGFyZ2V0VG91Y2hlczogMCxjaGFuZ2VkVG91Y2hlczogMCxhbHRLZXk6IDAsbWV0YUtleTogMCxjdHJsS2V5OiAwLHNoaWZ0S2V5OiAwLGdldE1vZGlmaWVyU3RhdGU6IEVufSkpLHpuID0gbG4oRCh7fSwgc24sIHtwcm9wZXJ0eU5hbWU6IDAsZWxhcHNlZFRpbWU6IDAscHNldWRvRWxlbWVudDogMH0pKSxNbiA9IEQoe30sIHBuLCB7ZGVsdGFYOiBmdW5jdGlvbihlKSB7cmV0dXJuICJkZWx0YVgiIGluIGUgPyBlLmRlbHRhWCA6ICJ3aGVlbERlbHRhWCIgaW4gZSA/IC1lLndoZWVsRGVsdGFYIDogMH0sZGVsdGFZOiBmdW5jdGlvbihlKSB7cmV0dXJuICJkZWx0YVkiIGluIGUgPyBlLmRlbHRhWSA6ICJ3aGVlbERlbHRhWSIgaW4gZSA/IC1lLndoZWVsRGVsdGFZIDogIndoZWVsRGVsdGEiIGluIGUgPyAtZS53aGVlbERlbHRhIDogMH0sZGVsdGFaOiAwLGRlbHRhTW9kZTogMH0pLEZuID0gbG4oTW4pLFRuID0gWzksIDEzLCAyNywgMzJdLFZuID0gYyAmJiAiQ29tcG9zaXRpb25FdmVudCIgaW4gd2luZG93LEhuID0gbnVsbDtjICYmICJkb2N1bWVudE1vZGUiIGluIGRvY3VtZW50ICYmIChIbiA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIGpuID0gYyAmJiAiVGV4dEV2ZW50IiBpbiB3aW5kb3cgJiYgIUhuLERuID0gYyAmJiAoIVZuIHx8IEhuICYmIDggPCBIbiAmJiAxMSA+PSBIbiksQm4gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxSbiA9ICExO2Z1bmN0aW9uIE9uKGUsIHQpIHtzd2l0Y2ggKGUpIHtjYXNlICJrZXl1cCI6cmV0dXJuIC0xICE9PSBUbi5pbmRleE9mKHQua2V5Q29kZSk7Y2FzZSAia2V5ZG93biI6cmV0dXJuIDIyOSAhPT0gdC5rZXlDb2RlO2Nhc2UgImtleXByZXNzIjpjYXNlICJtb3VzZWRvd24iOmNhc2UgImZvY3Vzb3V0IjpyZXR1cm4gITA7ZGVmYXVsdDpyZXR1cm4gITF9fWZ1bmN0aW9uIEluKGUpIHtyZXR1cm4gIm9iamVjdCIgPT09IHR5cGVvZihlID0gZS5kZXRhaWwpICYmICJkYXRhIiBpbiBlID8gZS5kYXRhIDogbnVsbH12YXIgQW4gPSAhMTt2YXIgVW4gPSB7Y29sb3I6ICEwLGRhdGU6ICEwLGRhdGV0aW1lOiAhMCwiZGF0ZXRpbWUtbG9jYWwiOiAhMCxlbWFpbDogITAsbW9udGg6ICEwLG51bWJlcjogITAscGFzc3dvcmQ6ICEwLHJhbmdlOiAhMCxzZWFyY2g6ICEwLHRlbDogITAsdGV4dDogITAsdGltZTogITAsdXJsOiAhMCx3ZWVrOiAhMH07ZnVuY3Rpb24gUW4oZSkge3ZhciB0ID0gZSAmJiBlLm5vZGVOYW1lICYmIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gImlucHV0IiA9PT0gdCA/ICEhVW5bZS50eXBlXSA6ICJ0ZXh0YXJlYSIgPT09IHR9ZnVuY3Rpb24gV24oZSwgdCwgbiwgcikge19lKHIpLCAwIDwgKHQgPSAkcih0LCAib25DaGFuZ2UiKSkubGVuZ3RoICYmIChuID0gbmV3IGNuKCJvbkNoYW5nZSIsICJjaGFuZ2UiLCBudWxsLCBuLCByKSwgZS5wdXNoKHtldmVudDogbixsaXN0ZW5lcnM6IHR9KSl9dmFyICRuID0gbnVsbCxabiA9IG51bGw7ZnVuY3Rpb24gS24oZSkge0JyKGUsIDApfWZ1bmN0aW9uIHFuKGUpIHtpZiAoWihrbChlKSkpIHJldHVybiBlfWZ1bmN0aW9uIFluKGUsIHQpIHtpZiAoImNoYW5nZSIgPT09IGUpIHJldHVybiB0fXZhciBYbiA9ICExO2lmIChjKSB7dmFyIEduO2lmIChjKSB7dmFyIEpuID0gIm9uaW5wdXQiIGluIGRvY3VtZW50O2lmICghSm4pIHt2YXIgZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlci5zZXRBdHRyaWJ1dGUoIm9uaW5wdXQiLCAicmV0dXJuOyIpLCBKbiA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBlci5vbmlucHV0fUduID0gSm59IGVsc2UgR24gPSAhMTtYbiA9IEduICYmICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IDkgPCBkb2N1bWVudC5kb2N1bWVudE1vZGUpfWZ1bmN0aW9uIHRyKCkgeyRuICYmICgkbi5kZXRhY2hFdmVudCgib25wcm9wZXJ0eWNoYW5nZSIsIG5yKSwgWm4gPSAkbiA9IG51bGwpfWZ1bmN0aW9uIG5yKGUpIHtpZiAoInZhbHVlIiA9PT0gZS5wcm9wZXJ0eU5hbWUgJiYgcW4oWm4pKSB7dmFyIHQgPSBbXTtXbih0LCBabiwgZSwgd2UoZSkpLCBNZShLbiwgdCl9fWZ1bmN0aW9uIHJyKGUsIHQsIG4pIHsiZm9jdXNpbiIgPT09IGUgPyAodHIoKSwgWm4gPSBuLCAoJG4gPSB0KS5hdHRhY2hFdmVudCgib25wcm9wZXJ0eWNoYW5nZSIsIG5yKSkgOiAiZm9jdXNvdXQiID09PSBlICYmIHRyKCl9ZnVuY3Rpb24gbHIoZSkge2lmICgic2VsZWN0aW9uY2hhbmdlIiA9PT0gZSB8fCAia2V5dXAiID09PSBlIHx8ICJrZXlkb3duIiA9PT0gZSkgcmV0dXJuIHFuKFpuKX1mdW5jdGlvbiBhcihlLCB0KSB7aWYgKCJjbGljayIgPT09IGUpIHJldHVybiBxbih0KX1mdW5jdGlvbiBvcihlLCB0KSB7aWYgKCJpbnB1dCIgPT09IGUgfHwgImNoYW5nZSIgPT09IGUpIHJldHVybiBxbih0KX12YXIgaXIgPSAiZnVuY3Rpb24iID09PSB0eXBlb2YgT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogZnVuY3Rpb24oZSwgdCkge3JldHVybiBlID09PSB0ICYmICgwICE9PSBlIHx8IDEgLyBlID09PSAxIC8gdCkgfHwgZSAhPT0gZSAmJiB0ICE9PSB0fTtmdW5jdGlvbiB1cihlLCB0KSB7aWYgKGlyKGUsIHQpKSByZXR1cm4gITA7aWYgKCJvYmplY3QiICE9PSB0eXBlb2YgZSB8fCBudWxsID09PSBlIHx8ICJvYmplY3QiICE9PSB0eXBlb2YgdCB8fCBudWxsID09PSB0KSByZXR1cm4gITE7dmFyIG4gPSBPYmplY3Qua2V5cyhlKSxyID0gT2JqZWN0LmtleXModCk7aWYgKG4ubGVuZ3RoICE9PSByLmxlbmd0aCkgcmV0dXJuICExO2ZvciAociA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSB7dmFyIGwgPSBuW3JdO2lmICghZi5jYWxsKHQsIGwpIHx8ICFpcihlW2xdLCB0W2xdKSkgcmV0dXJuICExfXJldHVybiAhMH1mdW5jdGlvbiBzcihlKSB7Zm9yICg7IGUgJiYgZS5maXJzdENoaWxkOykgZSA9IGUuZmlyc3RDaGlsZDtyZXR1cm4gZX1mdW5jdGlvbiBjcihlLCB0KSB7dmFyIG4sIHIgPSBzcihlKTtmb3IgKGUgPSAwOyByOykge2lmICgzID09PSByLm5vZGVUeXBlKSB7aWYgKG4gPSBlICsgci50ZXh0Q29udGVudC5sZW5ndGgsIGUgPD0gdCAmJiBuID49IHQpIHJldHVybiB7bm9kZTogcixvZmZzZXQ6IHQgLSBlfTtlID0gbn1lOiB7Zm9yICg7IHI7KSB7aWYgKHIubmV4dFNpYmxpbmcpIHtyID0gci5uZXh0U2libGluZzticmVhayBlfXIgPSByLnBhcmVudE5vZGV9ciA9IHZvaWQgMH1yID0gc3Iocil9fWZ1bmN0aW9uIGZyKGUsIHQpIHtyZXR1cm4gISghZSB8fCAhdCkgJiYgKGUgPT09IHQgfHwgKCFlIHx8IDMgIT09IGUubm9kZVR5cGUpICYmICh0ICYmIDMgPT09IHQubm9kZVR5cGUgPyBmcihlLCB0LnBhcmVudE5vZGUpIDogImNvbnRhaW5zIiBpbiBlID8gZS5jb250YWlucyh0KSA6ICEhZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiAhISgxNiAmIGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24odCkpKSl9ZnVuY3Rpb24gZHIoKSB7Zm9yICh2YXIgZSA9IHdpbmRvdywgdCA9IEsoKTsgdCBpbnN0YW5jZW9mIGUuSFRNTElGcmFtZUVsZW1lbnQ7KSB7dHJ5IHt2YXIgbiA9ICJzdHJpbmciID09PSB0eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9IGNhdGNoIChyKSB7biA9ICExfWlmICghbikgYnJlYWs7dCA9IEsoKGUgPSB0LmNvbnRlbnRXaW5kb3cpLmRvY3VtZW50KX1yZXR1cm4gdH1mdW5jdGlvbiBwcihlKSB7dmFyIHQgPSBlICYmIGUubm9kZU5hbWUgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybiB0ICYmICgiaW5wdXQiID09PSB0ICYmICgidGV4dCIgPT09IGUudHlwZSB8fCAic2VhcmNoIiA9PT0gZS50eXBlIHx8ICJ0ZWwiID09PSBlLnR5cGUgfHwgInVybCIgPT09IGUudHlwZSB8fCAicGFzc3dvcmQiID09PSBlLnR5cGUpIHx8ICJ0ZXh0YXJlYSIgPT09IHQgfHwgInRydWUiID09PSBlLmNvbnRlbnRFZGl0YWJsZSl9ZnVuY3Rpb24gaHIoZSkge3ZhciB0ID0gZHIoKSxuID0gZS5mb2N1c2VkRWxlbSxyID0gZS5zZWxlY3Rpb25SYW5nZTtpZiAodCAhPT0gbiAmJiBuICYmIG4ub3duZXJEb2N1bWVudCAmJiBmcihuLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBuKSkge2lmIChudWxsICE9PSByICYmIHByKG4pKWlmICh0ID0gci5zdGFydCwgdm9pZCAwID09PSAoZSA9IHIuZW5kKSAmJiAoZSA9IHQpLCAic2VsZWN0aW9uU3RhcnQiIGluIG4pIG4uc2VsZWN0aW9uU3RhcnQgPSB0LCBuLnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKGUsIG4udmFsdWUubGVuZ3RoKTtlbHNlIGlmICgoZSA9ICh0ID0gbi5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSAmJiB0LmRlZmF1bHRWaWV3IHx8IHdpbmRvdykuZ2V0U2VsZWN0aW9uKSB7ZSA9IGUuZ2V0U2VsZWN0aW9uKCk7dmFyIGwgPSBuLnRleHRDb250ZW50Lmxlbmd0aCxhID0gTWF0aC5taW4oci5zdGFydCwgbCk7ciA9IHZvaWQgMCA9PT0gci5lbmQgPyBhIDogTWF0aC5taW4oci5lbmQsIGwpLCAhZS5leHRlbmQgJiYgYSA+IHIgJiYgKGwgPSByLCByID0gYSwgYSA9IGwpLCBsID0gY3IobiwgYSk7dmFyIG8gPSBjcihuLCByKTtsICYmIG8gJiYgKDEgIT09IGUucmFuZ2VDb3VudCB8fCBlLmFuY2hvck5vZGUgIT09IGwubm9kZSB8fCBlLmFuY2hvck9mZnNldCAhPT0gbC5vZmZzZXQgfHwgZS5mb2N1c05vZGUgIT09IG8ubm9kZSB8fCBlLmZvY3VzT2Zmc2V0ICE9PSBvLm9mZnNldCkgJiYgKCh0ID0gdC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChsLm5vZGUsIGwub2Zmc2V0KSwgZS5yZW1vdmVBbGxSYW5nZXMoKSwgYSA+IHIgPyAoZS5hZGRSYW5nZSh0KSwgZS5leHRlbmQoby5ub2RlLCBvLm9mZnNldCkpIDogKHQuc2V0RW5kKG8ubm9kZSwgby5vZmZzZXQpLCBlLmFkZFJhbmdlKHQpKSl9Zm9yICh0ID0gW10sIGUgPSBuOyBlID0gZS5wYXJlbnROb2RlOykgMSA9PT0gZS5ub2RlVHlwZSAmJiB0LnB1c2goe2VsZW1lbnQ6IGUsbGVmdDogZS5zY3JvbGxMZWZ0LHRvcDogZS5zY3JvbGxUb3B9KTtmb3IgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiBuLmZvY3VzICYmIG4uZm9jdXMoKSwgbiA9IDA7IG4gPCB0Lmxlbmd0aDsgbisrKShlID0gdFtuXSkuZWxlbWVudC5zY3JvbGxMZWZ0ID0gZS5sZWZ0LCBlLmVsZW1lbnQuc2Nyb2xsVG9wID0gZS50b3B9fXZhciBtciA9IGMgJiYgImRvY3VtZW50TW9kZSIgaW4gZG9jdW1lbnQgJiYgMTEgPj0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlLHZyID0gbnVsbCxnciA9IG51bGwseXIgPSBudWxsLGJyID0gITE7ZnVuY3Rpb24ga3IoZSwgdCwgbikge3ZhciByID0gbi53aW5kb3cgPT09IG4gPyBuLmRvY3VtZW50IDogOSA9PT0gbi5ub2RlVHlwZSA/IG4gOiBuLm93bmVyRG9jdW1lbnQ7YnIgfHwgbnVsbCA9PSB2ciB8fCB2ciAhPT0gSyhyKSB8fCAoInNlbGVjdGlvblN0YXJ0IiBpbiAociA9IHZyKSAmJiBwcihyKSA/IHIgPSB7c3RhcnQ6IHIuc2VsZWN0aW9uU3RhcnQsZW5kOiByLnNlbGVjdGlvbkVuZH0gOiByID0ge2FuY2hvck5vZGU6IChyID0gKHIub3duZXJEb2N1bWVudCAmJiByLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRTZWxlY3Rpb24oKSkuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6IHIuYW5jaG9yT2Zmc2V0LGZvY3VzTm9kZTogci5mb2N1c05vZGUsZm9jdXNPZmZzZXQ6IHIuZm9jdXNPZmZzZXR9LCB5ciAmJiB1cih5ciwgcikgfHwgKHlyID0gciwgMCA8IChyID0gJHIoZ3IsICJvblNlbGVjdCIpKS5sZW5ndGggJiYgKHQgPSBuZXcgY24oIm9uU2VsZWN0IiwgInNlbGVjdCIsIG51bGwsIHQsIG4pLCBlLnB1c2goe2V2ZW50OiB0LGxpc3RlbmVyczogcn0pLCB0LnRhcmdldCA9IHZyKSkpfWZ1bmN0aW9uIHdyKGUsIHQpIHt2YXIgbiA9IHt9O3JldHVybiBuW2UudG9Mb3dlckNhc2UoKV0gPSB0LnRvTG93ZXJDYXNlKCksIG5bIldlYmtpdCIgKyBlXSA9ICJ3ZWJraXQiICsgdCwgblsiTW96IiArIGVdID0gIm1veiIgKyB0LCBufXZhciB4ciA9IHthbmltYXRpb25lbmQ6IHdyKCJBbmltYXRpb24iLCAiQW5pbWF0aW9uRW5kIiksYW5pbWF0aW9uaXRlcmF0aW9uOiB3cigiQW5pbWF0aW9uIiwgIkFuaW1hdGlvbkl0ZXJhdGlvbiIpLGFuaW1hdGlvbnN0YXJ0OiB3cigiQW5pbWF0aW9uIiwgIkFuaW1hdGlvblN0YXJ0IiksdHJhbnNpdGlvbmVuZDogd3IoIlRyYW5zaXRpb24iLCAiVHJhbnNpdGlvbkVuZCIpfSxTciA9IHt9LENyID0ge307ZnVuY3Rpb24gRXIoZSkge2lmIChTcltlXSkgcmV0dXJuIFNyW2VdO2lmICgheHJbZV0pIHJldHVybiBlO3ZhciB0LCBuID0geHJbZV07Zm9yICh0IGluIG4paWYgKG4uaGFzT3duUHJvcGVydHkodCkgJiYgdCBpbiBDcikgcmV0dXJuIFNyW2VdID0gblt0XTtyZXR1cm4gZX1jICYmIChDciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLCAiQW5pbWF0aW9uRXZlbnQiIGluIHdpbmRvdyB8fCAoZGVsZXRlIHhyLmFuaW1hdGlvbmVuZC5hbmltYXRpb24sIGRlbGV0ZSB4ci5hbmltYXRpb25pdGVyYXRpb24uYW5pbWF0aW9uLCBkZWxldGUgeHIuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSwgIlRyYW5zaXRpb25FdmVudCIgaW4gd2luZG93IHx8IGRlbGV0ZSB4ci50cmFuc2l0aW9uZW5kLnRyYW5zaXRpb24pO3ZhciBfciA9IEVyKCJhbmltYXRpb25lbmQiKSxOciA9IEVyKCJhbmltYXRpb25pdGVyYXRpb24iKSxQciA9IEVyKCJhbmltYXRpb25zdGFydCIpLExyID0gRXIoInRyYW5zaXRpb25lbmQiKSx6ciA9IG5ldyBNYXAsTXIgPSAiYWJvcnQgYXV4Q2xpY2sgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZ290UG9pbnRlckNhcHR1cmUgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbG9zdFBvaW50ZXJDYXB0dXJlIG1vdXNlRG93biBtb3VzZU1vdmUgbW91c2VPdXQgbW91c2VPdmVyIG1vdXNlVXAgcGFzdGUgcGF1c2UgcGxheSBwbGF5aW5nIHBvaW50ZXJDYW5jZWwgcG9pbnRlckRvd24gcG9pbnRlck1vdmUgcG9pbnRlck91dCBwb2ludGVyT3ZlciBwb2ludGVyVXAgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvdWNoQ2FuY2VsIHRvdWNoRW5kIHRvdWNoU3RhcnQgdm9sdW1lQ2hhbmdlIHNjcm9sbCB0b2dnbGUgdG91Y2hNb3ZlIHdhaXRpbmcgd2hlZWwiLnNwbGl0KCIgIik7ZnVuY3Rpb24gRnIoZSwgdCkge3pyLnNldChlLCB0KSwgdSh0LCBbZV0pfWZvciAodmFyIFRyID0gMDsgVHIgPCBNci5sZW5ndGg7IFRyKyspIHt2YXIgVnIgPSBNcltUcl07RnIoVnIudG9Mb3dlckNhc2UoKSwgIm9uIiArIChWclswXS50b1VwcGVyQ2FzZSgpICsgVnIuc2xpY2UoMSkpKX1GcihfciwgIm9uQW5pbWF0aW9uRW5kIiksIEZyKE5yLCAib25BbmltYXRpb25JdGVyYXRpb24iKSwgRnIoUHIsICJvbkFuaW1hdGlvblN0YXJ0IiksIEZyKCJkYmxjbGljayIsICJvbkRvdWJsZUNsaWNrIiksIEZyKCJmb2N1c2luIiwgIm9uRm9jdXMiKSwgRnIoImZvY3Vzb3V0IiwgIm9uQmx1ciIpLCBGcihMciwgIm9uVHJhbnNpdGlvbkVuZCIpLCBzKCJvbk1vdXNlRW50ZXIiLCBbIm1vdXNlb3V0IiwgIm1vdXNlb3ZlciJdKSwgcygib25Nb3VzZUxlYXZlIiwgWyJtb3VzZW91dCIsICJtb3VzZW92ZXIiXSksIHMoIm9uUG9pbnRlckVudGVyIiwgWyJwb2ludGVyb3V0IiwgInBvaW50ZXJvdmVyIl0pLCBzKCJvblBvaW50ZXJMZWF2ZSIsIFsicG9pbnRlcm91dCIsICJwb2ludGVyb3ZlciJdKSwgdSgib25DaGFuZ2UiLCAiY2hhbmdlIGNsaWNrIGZvY3VzaW4gZm9jdXNvdXQgaW5wdXQga2V5ZG93biBrZXl1cCBzZWxlY3Rpb25jaGFuZ2UiLnNwbGl0KCIgIikpLCB1KCJvblNlbGVjdCIsICJmb2N1c291dCBjb250ZXh0bWVudSBkcmFnZW5kIGZvY3VzaW4ga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2UiLnNwbGl0KCIgIikpLCB1KCJvbkJlZm9yZUlucHV0IiwgWyJjb21wb3NpdGlvbmVuZCIsICJrZXlwcmVzcyIsICJ0ZXh0SW5wdXQiLCAicGFzdGUiXSksIHUoIm9uQ29tcG9zaXRpb25FbmQiLCAiY29tcG9zaXRpb25lbmQgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd24iLnNwbGl0KCIgIikpLCB1KCJvbkNvbXBvc2l0aW9uU3RhcnQiLCAiY29tcG9zaXRpb25zdGFydCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93biIuc3BsaXQoIiAiKSksIHUoIm9uQ29tcG9zaXRpb25VcGRhdGUiLCAiY29tcG9zaXRpb251cGRhdGUgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd24iLnNwbGl0KCIgIikpO3ZhciBIciA9ICJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1c3BlbmQgdGltZXVwZGF0ZSB2b2x1bWVjaGFuZ2Ugd2FpdGluZyIuc3BsaXQoIiAiKSxqciA9IG5ldyBTZXQoImNhbmNlbCBjbG9zZSBpbnZhbGlkIGxvYWQgc2Nyb2xsIHRvZ2dsZSIuc3BsaXQoIiAiKS5jb25jYXQoSHIpKTtmdW5jdGlvbiBEcihlLCB0LCBuKSB7dmFyIHIgPSBlLnR5cGUgfHwgInVua25vd24tZXZlbnQiO2UuY3VycmVudFRhcmdldCA9IG4sZnVuY3Rpb24oZSwgdCwgbiwgciwgbCwgbywgaSwgdSwgcykge2lmIChJZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpLCBqZSkge2lmICghamUpIHRocm93IEVycm9yKGEoMTk4KSk7dmFyIGMgPSBEZTtqZSA9ICExLCBEZSA9IG51bGwsIEJlIHx8IChCZSA9ICEwLCBSZSA9IGMpfX0ociwgdCwgdm9pZCAwLCBlKSwgZS5jdXJyZW50VGFyZ2V0ID0gbnVsbH1mdW5jdGlvbiBCcihlLCB0KSB7dCA9IDAgIT09ICg0ICYgdCk7Zm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7dmFyIHIgPSBlW25dLGwgPSByLmV2ZW50O3IgPSByLmxpc3RlbmVycztlOiB7dmFyIGEgPSB2b2lkIDA7aWYgKHQpZm9yICh2YXIgbyA9IHIubGVuZ3RoIC0gMTsgMCA8PSBvOyBvLS0pIHt2YXIgaSA9IHJbb10sdSA9IGkuaW5zdGFuY2UscyA9IGkuY3VycmVudFRhcmdldDtpZiAoaSA9IGkubGlzdGVuZXIsIHUgIT09IGEgJiYgbC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKSBicmVhayBlO0RyKGwsIGksIHMpLCBhID0gdX0gZWxzZWZvciAobyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSB7aWYgKHUgPSAoaSA9IHJbb10pLmluc3RhbmNlLCBzID0gaS5jdXJyZW50VGFyZ2V0LCBpID0gaS5saXN0ZW5lciwgdSAhPT0gYSAmJiBsLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpIGJyZWFrIGU7RHIobCwgaSwgcyksIGEgPSB1fX19aWYgKEJlKSB0aHJvdyBlID0gUmUsIEJlID0gITEsIFJlID0gbnVsbCwgZX1mdW5jdGlvbiBScihlLCB0KSB7dmFyIG4gPSB0W21sXTt2b2lkIDAgPT09IG4gJiYgKG4gPSB0W21sXSA9IG5ldyBTZXQpO3ZhciByID0gZSArICJfX2J1YmJsZSI7bi5oYXMocikgfHwgKFVyKHQsIGUsIDIsICExKSwgbi5hZGQocikpfWZ1bmN0aW9uIE9yKGUsIHQsIG4pIHt2YXIgciA9IDA7dCAmJiAociB8PSA0KSwgVXIobiwgZSwgciwgdCl9dmFyIElyID0gIl9yZWFjdExpc3RlbmluZyIgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKTtmdW5jdGlvbiBBcihlKSB7aWYgKCFlW0lyXSkge2VbSXJdID0gITAsIG8uZm9yRWFjaCgoZnVuY3Rpb24odCkgeyJzZWxlY3Rpb25jaGFuZ2UiICE9PSB0ICYmIChqci5oYXModCkgfHwgT3IodCwgITEsIGUpLCBPcih0LCAhMCwgZSkpfSkpO3ZhciB0ID0gOSA9PT0gZS5ub2RlVHlwZSA/IGUgOiBlLm93bmVyRG9jdW1lbnQ7bnVsbCA9PT0gdCB8fCB0W0lyXSB8fCAodFtJcl0gPSAhMCwgT3IoInNlbGVjdGlvbmNoYW5nZSIsICExLCB0KSl9fWZ1bmN0aW9uIFVyKGUsIHQsIG4sIHIpIHtzd2l0Y2ggKFl0KHQpKSB7Y2FzZSAxOnZhciBsID0gV3Q7YnJlYWs7Y2FzZSA0OmwgPSAkdDticmVhaztkZWZhdWx0OmwgPSBadH1uID0gbC5iaW5kKG51bGwsIHQsIG4sIGUpLCBsID0gdm9pZCAwLCAhVGUgfHwgInRvdWNoc3RhcnQiICE9PSB0ICYmICJ0b3VjaG1vdmUiICE9PSB0ICYmICJ3aGVlbCIgIT09IHQgfHwgKGwgPSAhMCksIHIgPyB2b2lkIDAgIT09IGwgPyBlLmFkZEV2ZW50TGlzdGVuZXIodCwgbiwge2NhcHR1cmU6ICEwLHBhc3NpdmU6IGx9KSA6IGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBuLCAhMCkgOiB2b2lkIDAgIT09IGwgPyBlLmFkZEV2ZW50TGlzdGVuZXIodCwgbiwge3Bhc3NpdmU6IGx9KSA6IGUuYWRkRXZlbnRMaXN0ZW5lcih0LCBuLCAhMSl9ZnVuY3Rpb24gUXIoZSwgdCwgbiwgciwgbCkge3ZhciBhID0gcjtpZiAoMCA9PT0gKDEgJiB0KSAmJiAwID09PSAoMiAmIHQpICYmIG51bGwgIT09IHIpIGU6IGZvciAoOzspIHtpZiAobnVsbCA9PT0gcikgcmV0dXJuO3ZhciBvID0gci50YWc7aWYgKDMgPT09IG8gfHwgNCA9PT0gbykge3ZhciBpID0gci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztpZiAoaSA9PT0gbCB8fCA4ID09PSBpLm5vZGVUeXBlICYmIGkucGFyZW50Tm9kZSA9PT0gbCkgYnJlYWs7aWYgKDQgPT09IG8pZm9yIChvID0gci5yZXR1cm47IG51bGwgIT09IG87KSB7dmFyIHUgPSBvLnRhZztpZiAoKDMgPT09IHUgfHwgNCA9PT0gdSkgJiYgKCh1ID0gby5zdGF0ZU5vZGUuY29udGFpbmVySW5mbykgPT09IGwgfHwgOCA9PT0gdS5ub2RlVHlwZSAmJiB1LnBhcmVudE5vZGUgPT09IGwpKSByZXR1cm47byA9IG8ucmV0dXJufWZvciAoOyBudWxsICE9PSBpOykge2lmIChudWxsID09PSAobyA9IHlsKGkpKSkgcmV0dXJuO2lmICg1ID09PSAodSA9IG8udGFnKSB8fCA2ID09PSB1KSB7ciA9IGEgPSBvO2NvbnRpbnVlIGV9aSA9IGkucGFyZW50Tm9kZX19ciA9IHIucmV0dXJufU1lKChmdW5jdGlvbigpIHt2YXIgciA9IGEsbCA9IHdlKG4pLG8gPSBbXTtlOiB7dmFyIGkgPSB6ci5nZXQoZSk7aWYgKHZvaWQgMCAhPT0gaSkge3ZhciB1ID0gY24scyA9IGU7c3dpdGNoIChlKSB7Y2FzZSAia2V5cHJlc3MiOmlmICgwID09PSB0bihuKSkgYnJlYWsgZTtjYXNlICJrZXlkb3duIjpjYXNlICJrZXl1cCI6dSA9IE5uO2JyZWFrO2Nhc2UgImZvY3VzaW4iOnMgPSAiZm9jdXMiLCB1ID0gdm47YnJlYWs7Y2FzZSAiZm9jdXNvdXQiOnMgPSAiYmx1ciIsIHUgPSB2bjticmVhaztjYXNlICJiZWZvcmVibHVyIjpjYXNlICJhZnRlcmJsdXIiOnUgPSB2bjticmVhaztjYXNlICJjbGljayI6aWYgKDIgPT09IG4uYnV0dG9uKSBicmVhayBlO2Nhc2UgImF1eGNsaWNrIjpjYXNlICJkYmxjbGljayI6Y2FzZSAibW91c2Vkb3duIjpjYXNlICJtb3VzZW1vdmUiOmNhc2UgIm1vdXNldXAiOmNhc2UgIm1vdXNlb3V0IjpjYXNlICJtb3VzZW92ZXIiOmNhc2UgImNvbnRleHRtZW51Ijp1ID0gaG47YnJlYWs7Y2FzZSAiZHJhZyI6Y2FzZSAiZHJhZ2VuZCI6Y2FzZSAiZHJhZ2VudGVyIjpjYXNlICJkcmFnZXhpdCI6Y2FzZSAiZHJhZ2xlYXZlIjpjYXNlICJkcmFnb3ZlciI6Y2FzZSAiZHJhZ3N0YXJ0IjpjYXNlICJkcm9wIjp1ID0gbW47YnJlYWs7Y2FzZSAidG91Y2hjYW5jZWwiOmNhc2UgInRvdWNoZW5kIjpjYXNlICJ0b3VjaG1vdmUiOmNhc2UgInRvdWNoc3RhcnQiOnUgPSBMbjticmVhaztjYXNlIF9yOmNhc2UgTnI6Y2FzZSBQcjp1ID0gZ247YnJlYWs7Y2FzZSBMcjp1ID0gem47YnJlYWs7Y2FzZSAic2Nyb2xsIjp1ID0gZG47YnJlYWs7Y2FzZSAid2hlZWwiOnUgPSBGbjticmVhaztjYXNlICJjb3B5IjpjYXNlICJjdXQiOmNhc2UgInBhc3RlIjp1ID0gYm47YnJlYWs7Y2FzZSAiZ290cG9pbnRlcmNhcHR1cmUiOmNhc2UgImxvc3Rwb2ludGVyY2FwdHVyZSI6Y2FzZSAicG9pbnRlcmNhbmNlbCI6Y2FzZSAicG9pbnRlcmRvd24iOmNhc2UgInBvaW50ZXJtb3ZlIjpjYXNlICJwb2ludGVyb3V0IjpjYXNlICJwb2ludGVyb3ZlciI6Y2FzZSAicG9pbnRlcnVwIjp1ID0gUG59dmFyIGMgPSAwICE9PSAoNCAmIHQpLGYgPSAhYyAmJiAic2Nyb2xsIiA9PT0gZSxkID0gYyA/IG51bGwgIT09IGkgPyBpICsgIkNhcHR1cmUiIDogbnVsbCA6IGk7YyA9IFtdO2ZvciAodmFyIHAsIGggPSByOyBudWxsICE9PSBoOykge3ZhciBtID0gKHAgPSBoKS5zdGF0ZU5vZGU7aWYgKDUgPT09IHAudGFnICYmIG51bGwgIT09IG0gJiYgKHAgPSBtLCBudWxsICE9PSBkICYmIChudWxsICE9IChtID0gRmUoaCwgZCkpICYmIGMucHVzaChXcihoLCBtLCBwKSkpKSwgZikgYnJlYWs7aCA9IGgucmV0dXJufTAgPCBjLmxlbmd0aCAmJiAoaSA9IG5ldyB1KGksIHMsIG51bGwsIG4sIGwpLCBvLnB1c2goe2V2ZW50OiBpLGxpc3RlbmVyczogY30pKX19aWYgKDAgPT09ICg3ICYgdCkpIHtpZiAodSA9ICJtb3VzZW91dCIgPT09IGUgfHwgInBvaW50ZXJvdXQiID09PSBlLCAoIShpID0gIm1vdXNlb3ZlciIgPT09IGUgfHwgInBvaW50ZXJvdmVyIiA9PT0gZSkgfHwgbiA9PT0ga2UgfHwgIShzID0gbi5yZWxhdGVkVGFyZ2V0IHx8IG4uZnJvbUVsZW1lbnQpIHx8ICF5bChzKSAmJiAhc1tobF0pICYmICh1IHx8IGkpICYmIChpID0gbC53aW5kb3cgPT09IGwgPyBsIDogKGkgPSBsLm93bmVyRG9jdW1lbnQpID8gaS5kZWZhdWx0VmlldyB8fCBpLnBhcmVudFdpbmRvdyA6IHdpbmRvdywgdSA/ICh1ID0gciwgbnVsbCAhPT0gKHMgPSAocyA9IG4ucmVsYXRlZFRhcmdldCB8fCBuLnRvRWxlbWVudCkgPyB5bChzKSA6IG51bGwpICYmIChzICE9PSAoZiA9IEFlKHMpKSB8fCA1ICE9PSBzLnRhZyAmJiA2ICE9PSBzLnRhZykgJiYgKHMgPSBudWxsKSkgOiAodSA9IG51bGwsIHMgPSByKSwgdSAhPT0gcykpIHtpZiAoYyA9IGhuLCBtID0gIm9uTW91c2VMZWF2ZSIsIGQgPSAib25Nb3VzZUVudGVyIiwgaCA9ICJtb3VzZSIsICJwb2ludGVyb3V0IiAhPT0gZSAmJiAicG9pbnRlcm92ZXIiICE9PSBlIHx8IChjID0gUG4sIG0gPSAib25Qb2ludGVyTGVhdmUiLCBkID0gIm9uUG9pbnRlckVudGVyIiwgaCA9ICJwb2ludGVyIiksIGYgPSBudWxsID09IHUgPyBpIDoga2wodSksIHAgPSBudWxsID09IHMgPyBpIDoga2wocyksIChpID0gbmV3IGMobSwgaCArICJsZWF2ZSIsIHUsIG4sIGwpKS50YXJnZXQgPSBmLCBpLnJlbGF0ZWRUYXJnZXQgPSBwLCBtID0gbnVsbCwgeWwobCkgPT09IHIgJiYgKChjID0gbmV3IGMoZCwgaCArICJlbnRlciIsIHMsIG4sIGwpKS50YXJnZXQgPSBwLCBjLnJlbGF0ZWRUYXJnZXQgPSBmLCBtID0gYyksIGYgPSBtLCB1ICYmIHMpIGU6IHtmb3IgKGQgPSBzLCBoID0gMCwgcCA9IGMgPSB1OyBwOyBwID0gWnIocCkpIGgrKztmb3IgKHAgPSAwLCBtID0gZDsgbTsgbSA9IFpyKG0pKSBwKys7Zm9yICg7IDAgPCBoIC0gcDspIGMgPSBacihjKSxoLS07Zm9yICg7IDAgPCBwIC0gaDspIGQgPSBacihkKSxwLS07Zm9yICg7IGgtLTspIHtpZiAoYyA9PT0gZCB8fCBudWxsICE9PSBkICYmIGMgPT09IGQuYWx0ZXJuYXRlKSBicmVhayBlO2MgPSBacihjKSwgZCA9IFpyKGQpfWMgPSBudWxsfWVsc2UgYyA9IG51bGw7bnVsbCAhPT0gdSAmJiBLcihvLCBpLCB1LCBjLCAhMSksIG51bGwgIT09IHMgJiYgbnVsbCAhPT0gZiAmJiBLcihvLCBmLCBzLCBjLCAhMCl9aWYgKCJzZWxlY3QiID09PSAodSA9IChpID0gciA/IGtsKHIpIDogd2luZG93KS5ub2RlTmFtZSAmJiBpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpIHx8ICJpbnB1dCIgPT09IHUgJiYgImZpbGUiID09PSBpLnR5cGUpIHZhciB2ID0gWW47ZWxzZSBpZiAoUW4oaSkpaWYgKFhuKSB2ID0gb3I7ZWxzZSB7diA9IGxyO3ZhciBnID0gcnJ9ZWxzZSh1ID0gaS5ub2RlTmFtZSkgJiYgImlucHV0IiA9PT0gdS50b0xvd2VyQ2FzZSgpICYmICgiY2hlY2tib3giID09PSBpLnR5cGUgfHwgInJhZGlvIiA9PT0gaS50eXBlKSAmJiAodiA9IGFyKTtzd2l0Y2ggKHYgJiYgKHYgPSB2KGUsIHIpKSA/IFduKG8sIHYsIG4sIGwpIDogKGcgJiYgZyhlLCBpLCByKSwgImZvY3Vzb3V0IiA9PT0gZSAmJiAoZyA9IGkuX3dyYXBwZXJTdGF0ZSkgJiYgZy5jb250cm9sbGVkICYmICJudW1iZXIiID09PSBpLnR5cGUgJiYgZWUoaSwgIm51bWJlciIsIGkudmFsdWUpKSwgZyA9IHIgPyBrbChyKSA6IHdpbmRvdywgZSkge2Nhc2UgImZvY3VzaW4iOihRbihnKSB8fCAidHJ1ZSIgPT09IGcuY29udGVudEVkaXRhYmxlKSAmJiAodnIgPSBnLCBnciA9IHIsIHlyID0gbnVsbCk7YnJlYWs7Y2FzZSAiZm9jdXNvdXQiOnlyID0gZ3IgPSB2ciA9IG51bGw7YnJlYWs7Y2FzZSAibW91c2Vkb3duIjpiciA9ICEwO2JyZWFrO2Nhc2UgImNvbnRleHRtZW51IjpjYXNlICJtb3VzZXVwIjpjYXNlICJkcmFnZW5kIjpiciA9ICExLCBrcihvLCBuLCBsKTticmVhaztjYXNlICJzZWxlY3Rpb25jaGFuZ2UiOmlmIChtcikgYnJlYWs7Y2FzZSAia2V5ZG93biI6Y2FzZSAia2V5dXAiOmtyKG8sIG4sIGwpfXZhciB5O2lmIChWbikgZToge3N3aXRjaCAoZSkge2Nhc2UgImNvbXBvc2l0aW9uc3RhcnQiOnZhciBiID0gIm9uQ29tcG9zaXRpb25TdGFydCI7YnJlYWsgZTtjYXNlICJjb21wb3NpdGlvbmVuZCI6YiA9ICJvbkNvbXBvc2l0aW9uRW5kIjticmVhayBlO2Nhc2UgImNvbXBvc2l0aW9udXBkYXRlIjpiID0gIm9uQ29tcG9zaXRpb25VcGRhdGUiO2JyZWFrIGV9YiA9IHZvaWQgMH1lbHNlIEFuID8gT24oZSwgbikgJiYgKGIgPSAib25Db21wb3NpdGlvbkVuZCIpIDogImtleWRvd24iID09PSBlICYmIDIyOSA9PT0gbi5rZXlDb2RlICYmIChiID0gIm9uQ29tcG9zaXRpb25TdGFydCIpO2IgJiYgKERuICYmICJrbyIgIT09IG4ubG9jYWxlICYmIChBbiB8fCAib25Db21wb3NpdGlvblN0YXJ0IiAhPT0gYiA/ICJvbkNvbXBvc2l0aW9uRW5kIiA9PT0gYiAmJiBBbiAmJiAoeSA9IGVuKCkpIDogKEd0ID0gInZhbHVlIiBpbiAoWHQgPSBsKSA/IFh0LnZhbHVlIDogWHQudGV4dENvbnRlbnQsIEFuID0gITApKSwgMCA8IChnID0gJHIociwgYikpLmxlbmd0aCAmJiAoYiA9IG5ldyBrbihiLCBlLCBudWxsLCBuLCBsKSwgby5wdXNoKHtldmVudDogYixsaXN0ZW5lcnM6IGd9KSwgeSA/IGIuZGF0YSA9IHkgOiBudWxsICE9PSAoeSA9IEluKG4pKSAmJiAoYi5kYXRhID0geSkpKSwgKHkgPSBqbiA/IGZ1bmN0aW9uKGUsIHQpIHtzd2l0Y2ggKGUpIHtjYXNlICJjb21wb3NpdGlvbmVuZCI6cmV0dXJuIEluKHQpO2Nhc2UgImtleXByZXNzIjpyZXR1cm4gMzIgIT09IHQud2hpY2ggPyBudWxsIDogKFJuID0gITAsIEJuKTtjYXNlICJ0ZXh0SW5wdXQiOnJldHVybiAoZSA9IHQuZGF0YSkgPT09IEJuICYmIFJuID8gbnVsbCA6IGU7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsIG4pIDogZnVuY3Rpb24oZSwgdCkge2lmIChBbikgcmV0dXJuICJjb21wb3NpdGlvbmVuZCIgPT09IGUgfHwgIVZuICYmIE9uKGUsIHQpID8gKGUgPSBlbigpLCBKdCA9IEd0ID0gWHQgPSBudWxsLCBBbiA9ICExLCBlKSA6IG51bGw7c3dpdGNoIChlKSB7Y2FzZSAicGFzdGUiOmRlZmF1bHQ6cmV0dXJuIG51bGw7Y2FzZSAia2V5cHJlc3MiOmlmICghKHQuY3RybEtleSB8fCB0LmFsdEtleSB8fCB0Lm1ldGFLZXkpIHx8IHQuY3RybEtleSAmJiB0LmFsdEtleSkge2lmICh0LmNoYXIgJiYgMSA8IHQuY2hhci5sZW5ndGgpIHJldHVybiB0LmNoYXI7aWYgKHQud2hpY2gpIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHQud2hpY2gpfXJldHVybiBudWxsO2Nhc2UgImNvbXBvc2l0aW9uZW5kIjpyZXR1cm4gRG4gJiYgImtvIiAhPT0gdC5sb2NhbGUgPyBudWxsIDogdC5kYXRhfX0oZSwgbikpICYmICgwIDwgKHIgPSAkcihyLCAib25CZWZvcmVJbnB1dCIpKS5sZW5ndGggJiYgKGwgPSBuZXcga24oIm9uQmVmb3JlSW5wdXQiLCAiYmVmb3JlaW5wdXQiLCBudWxsLCBuLCBsKSwgby5wdXNoKHtldmVudDogbCxsaXN0ZW5lcnM6IHJ9KSwgbC5kYXRhID0geSkpfUJyKG8sIHQpfSkpfWZ1bmN0aW9uIFdyKGUsIHQsIG4pIHtyZXR1cm4ge2luc3RhbmNlOiBlLGxpc3RlbmVyOiB0LGN1cnJlbnRUYXJnZXQ6IG59fWZ1bmN0aW9uICRyKGUsIHQpIHtmb3IgKHZhciBuID0gdCArICJDYXB0dXJlIiwgciA9IFtdOyBudWxsICE9PSBlOykge3ZhciBsID0gZSxhID0gbC5zdGF0ZU5vZGU7NSA9PT0gbC50YWcgJiYgbnVsbCAhPT0gYSAmJiAobCA9IGEsIG51bGwgIT0gKGEgPSBGZShlLCBuKSkgJiYgci51bnNoaWZ0KFdyKGUsIGEsIGwpKSwgbnVsbCAhPSAoYSA9IEZlKGUsIHQpKSAmJiByLnB1c2goV3IoZSwgYSwgbCkpKSwgZSA9IGUucmV0dXJufXJldHVybiByfWZ1bmN0aW9uIFpyKGUpIHtpZiAobnVsbCA9PT0gZSkgcmV0dXJuIG51bGw7ZG8ge2UgPSBlLnJldHVybn0gd2hpbGUgKGUgJiYgNSAhPT0gZS50YWcpO3JldHVybiBlIHx8IG51bGx9ZnVuY3Rpb24gS3IoZSwgdCwgbiwgciwgbCkge2ZvciAodmFyIGEgPSB0Ll9yZWFjdE5hbWUsIG8gPSBbXTsgbnVsbCAhPT0gbiAmJiBuICE9PSByOykge3ZhciBpID0gbix1ID0gaS5hbHRlcm5hdGUscyA9IGkuc3RhdGVOb2RlO2lmIChudWxsICE9PSB1ICYmIHUgPT09IHIpIGJyZWFrOzUgPT09IGkudGFnICYmIG51bGwgIT09IHMgJiYgKGkgPSBzLCBsID8gbnVsbCAhPSAodSA9IEZlKG4sIGEpKSAmJiBvLnVuc2hpZnQoV3IobiwgdSwgaSkpIDogbCB8fCBudWxsICE9ICh1ID0gRmUobiwgYSkpICYmIG8ucHVzaChXcihuLCB1LCBpKSkpLCBuID0gbi5yZXR1cm59MCAhPT0gby5sZW5ndGggJiYgZS5wdXNoKHtldmVudDogdCxsaXN0ZW5lcnM6IG99KX12YXIgcXIgPSAvXHJcbj8vZyxZciA9IC9cdTAwMDB8XHVGRkZEL2c7ZnVuY3Rpb24gWHIoZSkge3JldHVybiAoInN0cmluZyIgPT09IHR5cGVvZiBlID8gZSA6ICIiICsgZSkucmVwbGFjZShxciwgIlxuIikucmVwbGFjZShZciwgIiIpfWZ1bmN0aW9uIEdyKGUsIHQsIG4pIHtpZiAodCA9IFhyKHQpLCBYcihlKSAhPT0gdCAmJiBuKSB0aHJvdyBFcnJvcihhKDQyNSkpfWZ1bmN0aW9uIEpyKCkge312YXIgZWwgPSBudWxsLHRsID0gbnVsbDtmdW5jdGlvbiBubChlLCB0KSB7cmV0dXJuICJ0ZXh0YXJlYSIgPT09IGUgfHwgIm5vc2NyaXB0IiA9PT0gZSB8fCAic3RyaW5nIiA9PT0gdHlwZW9mIHQuY2hpbGRyZW4gfHwgIm51bWJlciIgPT09IHR5cGVvZiB0LmNoaWxkcmVuIHx8ICJvYmplY3QiID09PSB0eXBlb2YgdC5kYW5nZXJvdXNseVNldElubmVySFRNTCAmJiBudWxsICE9PSB0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmIG51bGwgIT0gdC5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9dmFyIHJsID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogdm9pZCAwLGxsID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IHZvaWQgMCxhbCA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBQcm9taXNlID8gUHJvbWlzZSA6IHZvaWQgMCxvbCA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBxdWV1ZU1pY3JvdGFzayA/IHF1ZXVlTWljcm90YXNrIDogInVuZGVmaW5lZCIgIT09IHR5cGVvZiBhbCA/IGZ1bmN0aW9uKGUpIHtyZXR1cm4gYWwucmVzb2x2ZShudWxsKS50aGVuKGUpLmNhdGNoKGlsKX0gOiBybDtmdW5jdGlvbiBpbChlKSB7c2V0VGltZW91dCgoZnVuY3Rpb24oKSB7dGhyb3cgZX0pKX1mdW5jdGlvbiB1bChlLCB0KSB7dmFyIG4gPSB0LHIgPSAwO2RvIHt2YXIgbCA9IG4ubmV4dFNpYmxpbmc7aWYgKGUucmVtb3ZlQ2hpbGQobiksIGwgJiYgOCA9PT0gbC5ub2RlVHlwZSlpZiAoIi8kIiA9PT0gKG4gPSBsLmRhdGEpKSB7aWYgKDAgPT09IHIpIHJldHVybiBlLnJlbW92ZUNoaWxkKGwpLCB2b2lkIEF0KHQpO3ItLX0gZWxzZSAiJCIgIT09IG4gJiYgIiQ/IiAhPT0gbiAmJiAiJCEiICE9PSBuIHx8IHIrKztuID0gbH0gd2hpbGUgKG4pO0F0KHQpfWZ1bmN0aW9uIHNsKGUpIHtmb3IgKDsgbnVsbCAhPSBlOyBlID0gZS5uZXh0U2libGluZykge3ZhciB0ID0gZS5ub2RlVHlwZTtpZiAoMSA9PT0gdCB8fCAzID09PSB0KSBicmVhaztpZiAoOCA9PT0gdCkge2lmICgiJCIgPT09ICh0ID0gZS5kYXRhKSB8fCAiJCEiID09PSB0IHx8ICIkPyIgPT09IHQpIGJyZWFrO2lmICgiLyQiID09PSB0KSByZXR1cm4gbnVsbH19cmV0dXJuIGV9ZnVuY3Rpb24gY2woZSkge2UgPSBlLnByZXZpb3VzU2libGluZztmb3IgKHZhciB0ID0gMDsgZTspIHtpZiAoOCA9PT0gZS5ub2RlVHlwZSkge3ZhciBuID0gZS5kYXRhO2lmICgiJCIgPT09IG4gfHwgIiQhIiA9PT0gbiB8fCAiJD8iID09PSBuKSB7aWYgKDAgPT09IHQpIHJldHVybiBlO3QtLX0gZWxzZSAiLyQiID09PSBuICYmIHQrK31lID0gZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIGZsID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksZGwgPSAiX19yZWFjdEZpYmVyJCIgKyBmbCxwbCA9ICJfX3JlYWN0UHJvcHMkIiArIGZsLGhsID0gIl9fcmVhY3RDb250YWluZXIkIiArIGZsLG1sID0gIl9fcmVhY3RFdmVudHMkIiArIGZsLHZsID0gIl9fcmVhY3RMaXN0ZW5lcnMkIiArIGZsLGdsID0gIl9fcmVhY3RIYW5kbGVzJCIgKyBmbDtmdW5jdGlvbiB5bChlKSB7dmFyIHQgPSBlW2RsXTtpZiAodCkgcmV0dXJuIHQ7Zm9yICh2YXIgbiA9IGUucGFyZW50Tm9kZTsgbjspIHtpZiAodCA9IG5baGxdIHx8IG5bZGxdKSB7aWYgKG4gPSB0LmFsdGVybmF0ZSwgbnVsbCAhPT0gdC5jaGlsZCB8fCBudWxsICE9PSBuICYmIG51bGwgIT09IG4uY2hpbGQpZm9yIChlID0gY2woZSk7IG51bGwgIT09IGU7KSB7aWYgKG4gPSBlW2RsXSkgcmV0dXJuIG47ZSA9IGNsKGUpfXJldHVybiB0fW4gPSAoZSA9IG4pLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmwoZSkge3JldHVybiAhKGUgPSBlW2RsXSB8fCBlW2hsXSkgfHwgNSAhPT0gZS50YWcgJiYgNiAhPT0gZS50YWcgJiYgMTMgIT09IGUudGFnICYmIDMgIT09IGUudGFnID8gbnVsbCA6IGV9ZnVuY3Rpb24ga2woZSkge2lmICg1ID09PSBlLnRhZyB8fCA2ID09PSBlLnRhZykgcmV0dXJuIGUuc3RhdGVOb2RlO3Rocm93IEVycm9yKGEoMzMpKX1mdW5jdGlvbiB3bChlKSB7cmV0dXJuIGVbcGxdIHx8IG51bGx9dmFyIHhsID0gW10sU2wgPSAtMTtmdW5jdGlvbiBDbChlKSB7cmV0dXJuIHtjdXJyZW50OiBlfX1mdW5jdGlvbiBFbChlKSB7MCA+IFNsIHx8IChlLmN1cnJlbnQgPSB4bFtTbF0sIHhsW1NsXSA9IG51bGwsIFNsLS0pfWZ1bmN0aW9uIF9sKGUsIHQpIHtTbCsrLCB4bFtTbF0gPSBlLmN1cnJlbnQsIGUuY3VycmVudCA9IHR9dmFyIE5sID0ge30sUGwgPSBDbChObCksTGwgPSBDbCghMSksemwgPSBObDtmdW5jdGlvbiBNbChlLCB0KSB7dmFyIG4gPSBlLnR5cGUuY29udGV4dFR5cGVzO2lmICghbikgcmV0dXJuIE5sO3ZhciByID0gZS5zdGF0ZU5vZGU7aWYgKHIgJiYgci5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0ID09PSB0KSByZXR1cm4gci5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dDt2YXIgbCwgYSA9IHt9O2ZvciAobCBpbiBuKSBhW2xdID0gdFtsXTtyZXR1cm4gciAmJiAoKGUgPSBlLnN0YXRlTm9kZSkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dCA9IHQsIGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQgPSBhKSwgYX1mdW5jdGlvbiBGbChlKSB7cmV0dXJuIG51bGwgIT09IChlID0gZS5jaGlsZENvbnRleHRUeXBlcykgJiYgdm9pZCAwICE9PSBlfWZ1bmN0aW9uIFRsKCkge0VsKExsKSwgRWwoUGwpfWZ1bmN0aW9uIFZsKGUsIHQsIG4pIHtpZiAoUGwuY3VycmVudCAhPT0gTmwpIHRocm93IEVycm9yKGEoMTY4KSk7X2woUGwsIHQpLCBfbChMbCwgbil9ZnVuY3Rpb24gSGwoZSwgdCwgbikge3ZhciByID0gZS5zdGF0ZU5vZGU7aWYgKHQgPSB0LmNoaWxkQ29udGV4dFR5cGVzLCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygci5nZXRDaGlsZENvbnRleHQpIHJldHVybiBuO2ZvciAodmFyIGwgaW4gciA9IHIuZ2V0Q2hpbGRDb250ZXh0KCkpaWYgKCEobCBpbiB0KSkgdGhyb3cgRXJyb3IoYSgxMDgsIFUoZSkgfHwgIlVua25vd24iLCBsKSk7cmV0dXJuIEQoe30sIG4sIHIpfWZ1bmN0aW9uIGpsKGUpIHtyZXR1cm4gZSA9IChlID0gZS5zdGF0ZU5vZGUpICYmIGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgfHwgTmwsIHpsID0gUGwuY3VycmVudCwgX2woUGwsIGUpLCBfbChMbCwgTGwuY3VycmVudCksICEwfWZ1bmN0aW9uIERsKGUsIHQsIG4pIHt2YXIgciA9IGUuc3RhdGVOb2RlO2lmICghcikgdGhyb3cgRXJyb3IoYSgxNjkpKTtuID8gKGUgPSBIbChlLCB0LCB6bCksIHIuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQgPSBlLCBFbChMbCksIEVsKFBsKSwgX2woUGwsIGUpKSA6IEVsKExsKSwgX2woTGwsIG4pfXZhciBCbCA9IG51bGwsUmwgPSAhMSxPbCA9ICExO2Z1bmN0aW9uIElsKGUpIHtudWxsID09PSBCbCA/IEJsID0gW2VdIDogQmwucHVzaChlKX1mdW5jdGlvbiBBbCgpIHtpZiAoIU9sICYmIG51bGwgIT09IEJsKSB7T2wgPSAhMDt2YXIgZSA9IDAsdCA9IGJ0O3RyeSB7dmFyIG4gPSBCbDtmb3IgKGJ0ID0gMTsgZSA8IG4ubGVuZ3RoOyBlKyspIHt2YXIgciA9IG5bZV07ZG8ge3IgPSByKCEwKX0gd2hpbGUgKG51bGwgIT09IHIpfUJsID0gbnVsbCwgUmwgPSAhMX0gY2F0Y2ggKGwpIHt0aHJvdyBudWxsICE9PSBCbCAmJiAoQmwgPSBCbC5zbGljZShlICsgMSkpLCBaZShKZSwgQWwpLCBsfSBmaW5hbGx5IHtidCA9IHQsIE9sID0gITF9fXJldHVybiBudWxsfXZhciBVbCA9IFtdLFFsID0gMCxXbCA9IG51bGwsJGwgPSAwLFpsID0gW10sS2wgPSAwLHFsID0gbnVsbCxZbCA9IDEsWGwgPSAiIjtmdW5jdGlvbiBHbChlLCB0KSB7VWxbUWwrK10gPSAkbCwgVWxbUWwrK10gPSBXbCwgV2wgPSBlLCAkbCA9IHR9ZnVuY3Rpb24gSmwoZSwgdCwgbikge1psW0tsKytdID0gWWwsIFpsW0tsKytdID0gWGwsIFpsW0tsKytdID0gcWwsIHFsID0gZTt2YXIgciA9IFlsO2UgPSBYbDt2YXIgbCA9IDMyIC0gb3QocikgLSAxO3IgJj0gfigxIDw8IGwpLCBuICs9IDE7dmFyIGEgPSAzMiAtIG90KHQpICsgbDtpZiAoMzAgPCBhKSB7dmFyIG8gPSBsIC0gbCAlIDU7YSA9IChyICYgKDEgPDwgbykgLSAxKS50b1N0cmluZygzMiksIHIgPj49IG8sIGwgLT0gbywgWWwgPSAxIDw8IDMyIC0gb3QodCkgKyBsIHwgbiA8PCBsIHwgciwgWGwgPSBhICsgZX0gZWxzZSBZbCA9IDEgPDwgYSB8IG4gPDwgbCB8IHIsIFhsID0gZX1mdW5jdGlvbiBlYShlKSB7bnVsbCAhPT0gZS5yZXR1cm4gJiYgKEdsKGUsIDEpLCBKbChlLCAxLCAwKSl9ZnVuY3Rpb24gdGEoZSkge2ZvciAoOyBlID09PSBXbDspIFdsID0gVWxbLS1RbF0sIFVsW1FsXSA9IG51bGwsICRsID0gVWxbLS1RbF0sIFVsW1FsXSA9IG51bGw7Zm9yICg7IGUgPT09IHFsOykgcWwgPSBabFstLUtsXSwgWmxbS2xdID0gbnVsbCwgWGwgPSBabFstLUtsXSwgWmxbS2xdID0gbnVsbCwgWWwgPSBabFstLUtsXSwgWmxbS2xdID0gbnVsbH12YXIgbmEgPSBudWxsLHJhID0gbnVsbCxsYSA9ICExLGFhID0gbnVsbDtmdW5jdGlvbiBvYShlLCB0KSB7dmFyIG4gPSBGcyg1LCBudWxsLCBudWxsLCAwKTtuLmVsZW1lbnRUeXBlID0gIkRFTEVURUQiLCBuLnN0YXRlTm9kZSA9IHQsIG4ucmV0dXJuID0gZSwgbnVsbCA9PT0gKHQgPSBlLmRlbGV0aW9ucykgPyAoZS5kZWxldGlvbnMgPSBbbl0sIGUuZmxhZ3MgfD0gMTYpIDogdC5wdXNoKG4pfWZ1bmN0aW9uIGlhKGUsIHQpIHtzd2l0Y2ggKGUudGFnKSB7Y2FzZSA1OnZhciBuID0gZS50eXBlO3JldHVybiBudWxsICE9PSAodCA9IDEgIT09IHQubm9kZVR5cGUgfHwgbi50b0xvd2VyQ2FzZSgpICE9PSB0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPyBudWxsIDogdCkgJiYgKGUuc3RhdGVOb2RlID0gdCwgbmEgPSBlLCByYSA9IHNsKHQuZmlyc3RDaGlsZCksICEwKTtjYXNlIDY6cmV0dXJuIG51bGwgIT09ICh0ID0gIiIgPT09IGUucGVuZGluZ1Byb3BzIHx8IDMgIT09IHQubm9kZVR5cGUgPyBudWxsIDogdCkgJiYgKGUuc3RhdGVOb2RlID0gdCwgbmEgPSBlLCByYSA9IG51bGwsICEwKTtjYXNlIDEzOnJldHVybiBudWxsICE9PSAodCA9IDggIT09IHQubm9kZVR5cGUgPyBudWxsIDogdCkgJiYgKG4gPSBudWxsICE9PSBxbCA/IHtpZDogWWwsb3ZlcmZsb3c6IFhsfSA6IG51bGwsIGUubWVtb2l6ZWRTdGF0ZSA9IHtkZWh5ZHJhdGVkOiB0LHRyZWVDb250ZXh0OiBuLHJldHJ5TGFuZTogMTA3Mzc0MTgyNH0sIChuID0gRnMoMTgsIG51bGwsIG51bGwsIDApKS5zdGF0ZU5vZGUgPSB0LCBuLnJldHVybiA9IGUsIGUuY2hpbGQgPSBuLCBuYSA9IGUsIHJhID0gbnVsbCwgITApO2RlZmF1bHQ6cmV0dXJuICExfX1mdW5jdGlvbiB1YShlKSB7cmV0dXJuIDAgIT09ICgxICYgZS5tb2RlKSAmJiAwID09PSAoMTI4ICYgZS5mbGFncyl9ZnVuY3Rpb24gc2EoZSkge2lmIChsYSkge3ZhciB0ID0gcmE7aWYgKHQpIHt2YXIgbiA9IHQ7aWYgKCFpYShlLCB0KSkge2lmICh1YShlKSkgdGhyb3cgRXJyb3IoYSg0MTgpKTt0ID0gc2wobi5uZXh0U2libGluZyk7dmFyIHIgPSBuYTt0ICYmIGlhKGUsIHQpID8gb2EociwgbikgOiAoZS5mbGFncyA9IC00MDk3ICYgZS5mbGFncyB8IDIsIGxhID0gITEsIG5hID0gZSl9fSBlbHNlIHtpZiAodWEoZSkpIHRocm93IEVycm9yKGEoNDE4KSk7ZS5mbGFncyA9IC00MDk3ICYgZS5mbGFncyB8IDIsIGxhID0gITEsIG5hID0gZX19fWZ1bmN0aW9uIGNhKGUpIHtmb3IgKGUgPSBlLnJldHVybjsgbnVsbCAhPT0gZSAmJiA1ICE9PSBlLnRhZyAmJiAzICE9PSBlLnRhZyAmJiAxMyAhPT0gZS50YWc7KSBlID0gZS5yZXR1cm47bmEgPSBlfWZ1bmN0aW9uIGZhKGUpIHtpZiAoZSAhPT0gbmEpIHJldHVybiAhMTtpZiAoIWxhKSByZXR1cm4gY2EoZSksIGxhID0gITAsICExO3ZhciB0O2lmICgodCA9IDMgIT09IGUudGFnKSAmJiAhKHQgPSA1ICE9PSBlLnRhZykgJiYgKHQgPSAiaGVhZCIgIT09ICh0ID0gZS50eXBlKSAmJiAiYm9keSIgIT09IHQgJiYgIW5sKGUudHlwZSwgZS5tZW1vaXplZFByb3BzKSksIHQgJiYgKHQgPSByYSkpIHtpZiAodWEoZSkpIHRocm93IGRhKCksIEVycm9yKGEoNDE4KSk7Zm9yICg7IHQ7KSBvYShlLCB0KSwgdCA9IHNsKHQubmV4dFNpYmxpbmcpfWlmIChjYShlKSwgMTMgPT09IGUudGFnKSB7aWYgKCEoZSA9IG51bGwgIT09IChlID0gZS5tZW1vaXplZFN0YXRlKSA/IGUuZGVoeWRyYXRlZCA6IG51bGwpKSB0aHJvdyBFcnJvcihhKDMxNykpO2U6IHtmb3IgKGUgPSBlLm5leHRTaWJsaW5nLCB0ID0gMDsgZTspIHtpZiAoOCA9PT0gZS5ub2RlVHlwZSkge3ZhciBuID0gZS5kYXRhO2lmICgiLyQiID09PSBuKSB7aWYgKDAgPT09IHQpIHtyYSA9IHNsKGUubmV4dFNpYmxpbmcpO2JyZWFrIGV9dC0tfSBlbHNlICIkIiAhPT0gbiAmJiAiJCEiICE9PSBuICYmICIkPyIgIT09IG4gfHwgdCsrfWUgPSBlLm5leHRTaWJsaW5nfXJhID0gbnVsbH19IGVsc2UgcmEgPSBuYSA/IHNsKGUuc3RhdGVOb2RlLm5leHRTaWJsaW5nKSA6IG51bGw7cmV0dXJuICEwfWZ1bmN0aW9uIGRhKCkge2ZvciAodmFyIGUgPSByYTsgZTspIGUgPSBzbChlLm5leHRTaWJsaW5nKX1mdW5jdGlvbiBwYSgpIHtyYSA9IG5hID0gbnVsbCwgbGEgPSAhMX1mdW5jdGlvbiBoYShlKSB7bnVsbCA9PT0gYWEgPyBhYSA9IFtlXSA6IGFhLnB1c2goZSl9dmFyIG1hID0gay5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZztmdW5jdGlvbiB2YShlLCB0KSB7aWYgKGUgJiYgZS5kZWZhdWx0UHJvcHMpIHtmb3IgKHZhciBuIGluIHQgPSBEKHt9LCB0KSwgZSA9IGUuZGVmYXVsdFByb3BzKSB2b2lkIDAgPT09IHRbbl0gJiYgKHRbbl0gPSBlW25dKTtyZXR1cm4gdH1yZXR1cm4gdH12YXIgZ2EgPSBDbChudWxsKSx5YSA9IG51bGwsYmEgPSBudWxsLGthID0gbnVsbDtmdW5jdGlvbiB3YSgpIHtrYSA9IGJhID0geWEgPSBudWxsfWZ1bmN0aW9uIHhhKGUpIHt2YXIgdCA9IGdhLmN1cnJlbnQ7RWwoZ2EpLCBlLl9jdXJyZW50VmFsdWUgPSB0fWZ1bmN0aW9uIFNhKGUsIHQsIG4pIHtmb3IgKDsgbnVsbCAhPT0gZTspIHt2YXIgciA9IGUuYWx0ZXJuYXRlO2lmICgoZS5jaGlsZExhbmVzICYgdCkgIT09IHQgPyAoZS5jaGlsZExhbmVzIHw9IHQsIG51bGwgIT09IHIgJiYgKHIuY2hpbGRMYW5lcyB8PSB0KSkgOiBudWxsICE9PSByICYmIChyLmNoaWxkTGFuZXMgJiB0KSAhPT0gdCAmJiAoci5jaGlsZExhbmVzIHw9IHQpLCBlID09PSBuKSBicmVhaztlID0gZS5yZXR1cm59fWZ1bmN0aW9uIENhKGUsIHQpIHt5YSA9IGUsIGthID0gYmEgPSBudWxsLCBudWxsICE9PSAoZSA9IGUuZGVwZW5kZW5jaWVzKSAmJiBudWxsICE9PSBlLmZpcnN0Q29udGV4dCAmJiAoMCAhPT0gKGUubGFuZXMgJiB0KSAmJiAoa2kgPSAhMCksIGUuZmlyc3RDb250ZXh0ID0gbnVsbCl9ZnVuY3Rpb24gRWEoZSkge3ZhciB0ID0gZS5fY3VycmVudFZhbHVlO2lmIChrYSAhPT0gZSlpZiAoZSA9IHtjb250ZXh0OiBlLG1lbW9pemVkVmFsdWU6IHQsbmV4dDogbnVsbH0sIG51bGwgPT09IGJhKSB7aWYgKG51bGwgPT09IHlhKSB0aHJvdyBFcnJvcihhKDMwOCkpO2JhID0gZSwgeWEuZGVwZW5kZW5jaWVzID0ge2xhbmVzOiAwLGZpcnN0Q29udGV4dDogZX19IGVsc2UgYmEgPSBiYS5uZXh0ID0gZTtyZXR1cm4gdH12YXIgX2EgPSBudWxsO2Z1bmN0aW9uIE5hKGUpIHtudWxsID09PSBfYSA/IF9hID0gW2VdIDogX2EucHVzaChlKX1mdW5jdGlvbiBQYShlLCB0LCBuLCByKSB7dmFyIGwgPSB0LmludGVybGVhdmVkO3JldHVybiBudWxsID09PSBsID8gKG4ubmV4dCA9IG4sIE5hKHQpKSA6IChuLm5leHQgPSBsLm5leHQsIGwubmV4dCA9IG4pLCB0LmludGVybGVhdmVkID0gbiwgTGEoZSwgcil9ZnVuY3Rpb24gTGEoZSwgdCkge2UubGFuZXMgfD0gdDt2YXIgbiA9IGUuYWx0ZXJuYXRlO2ZvciAobnVsbCAhPT0gbiAmJiAobi5sYW5lcyB8PSB0KSwgbiA9IGUsIGUgPSBlLnJldHVybjsgbnVsbCAhPT0gZTspIGUuY2hpbGRMYW5lcyB8PSB0LCBudWxsICE9PSAobiA9IGUuYWx0ZXJuYXRlKSAmJiAobi5jaGlsZExhbmVzIHw9IHQpLCBuID0gZSwgZSA9IGUucmV0dXJuO3JldHVybiAzID09PSBuLnRhZyA/IG4uc3RhdGVOb2RlIDogbnVsbH12YXIgemEgPSAhMTtmdW5jdGlvbiBNYShlKSB7ZS51cGRhdGVRdWV1ZSA9IHtiYXNlU3RhdGU6IGUubWVtb2l6ZWRTdGF0ZSxmaXJzdEJhc2VVcGRhdGU6IG51bGwsbGFzdEJhc2VVcGRhdGU6IG51bGwsc2hhcmVkOiB7cGVuZGluZzogbnVsbCxpbnRlcmxlYXZlZDogbnVsbCxsYW5lczogMH0sZWZmZWN0czogbnVsbH19ZnVuY3Rpb24gRmEoZSwgdCkge2UgPSBlLnVwZGF0ZVF1ZXVlLCB0LnVwZGF0ZVF1ZXVlID09PSBlICYmICh0LnVwZGF0ZVF1ZXVlID0ge2Jhc2VTdGF0ZTogZS5iYXNlU3RhdGUsZmlyc3RCYXNlVXBkYXRlOiBlLmZpcnN0QmFzZVVwZGF0ZSxsYXN0QmFzZVVwZGF0ZTogZS5sYXN0QmFzZVVwZGF0ZSxzaGFyZWQ6IGUuc2hhcmVkLGVmZmVjdHM6IGUuZWZmZWN0c30pfWZ1bmN0aW9uIFRhKGUsIHQpIHtyZXR1cm4ge2V2ZW50VGltZTogZSxsYW5lOiB0LHRhZzogMCxwYXlsb2FkOiBudWxsLGNhbGxiYWNrOiBudWxsLG5leHQ6IG51bGx9fWZ1bmN0aW9uIFZhKGUsIHQsIG4pIHt2YXIgciA9IGUudXBkYXRlUXVldWU7aWYgKG51bGwgPT09IHIpIHJldHVybiBudWxsO2lmIChyID0gci5zaGFyZWQsIDAgIT09ICgyICYgTHUpKSB7dmFyIGwgPSByLnBlbmRpbmc7cmV0dXJuIG51bGwgPT09IGwgPyB0Lm5leHQgPSB0IDogKHQubmV4dCA9IGwubmV4dCwgbC5uZXh0ID0gdCksIHIucGVuZGluZyA9IHQsIExhKGUsIG4pfXJldHVybiBudWxsID09PSAobCA9IHIuaW50ZXJsZWF2ZWQpID8gKHQubmV4dCA9IHQsIE5hKHIpKSA6ICh0Lm5leHQgPSBsLm5leHQsIGwubmV4dCA9IHQpLCByLmludGVybGVhdmVkID0gdCwgTGEoZSwgbil9ZnVuY3Rpb24gSGEoZSwgdCwgbikge2lmIChudWxsICE9PSAodCA9IHQudXBkYXRlUXVldWUpICYmICh0ID0gdC5zaGFyZWQsIDAgIT09ICg0MTk0MjQwICYgbikpKSB7dmFyIHIgPSB0LmxhbmVzO24gfD0gciAmPSBlLnBlbmRpbmdMYW5lcywgdC5sYW5lcyA9IG4sIHl0KGUsIG4pfX1mdW5jdGlvbiBqYShlLCB0KSB7dmFyIG4gPSBlLnVwZGF0ZVF1ZXVlLHIgPSBlLmFsdGVybmF0ZTtpZiAobnVsbCAhPT0gciAmJiBuID09PSAociA9IHIudXBkYXRlUXVldWUpKSB7dmFyIGwgPSBudWxsLGEgPSBudWxsO2lmIChudWxsICE9PSAobiA9IG4uZmlyc3RCYXNlVXBkYXRlKSkge2RvIHt2YXIgbyA9IHtldmVudFRpbWU6IG4uZXZlbnRUaW1lLGxhbmU6IG4ubGFuZSx0YWc6IG4udGFnLHBheWxvYWQ6IG4ucGF5bG9hZCxjYWxsYmFjazogbi5jYWxsYmFjayxuZXh0OiBudWxsfTtudWxsID09PSBhID8gbCA9IGEgPSBvIDogYSA9IGEubmV4dCA9IG8sIG4gPSBuLm5leHR9IHdoaWxlIChudWxsICE9PSBuKTtudWxsID09PSBhID8gbCA9IGEgPSB0IDogYSA9IGEubmV4dCA9IHR9IGVsc2UgbCA9IGEgPSB0O3JldHVybiBuID0ge2Jhc2VTdGF0ZTogci5iYXNlU3RhdGUsZmlyc3RCYXNlVXBkYXRlOiBsLGxhc3RCYXNlVXBkYXRlOiBhLHNoYXJlZDogci5zaGFyZWQsZWZmZWN0czogci5lZmZlY3RzfSwgdm9pZChlLnVwZGF0ZVF1ZXVlID0gbil9bnVsbCA9PT0gKGUgPSBuLmxhc3RCYXNlVXBkYXRlKSA/IG4uZmlyc3RCYXNlVXBkYXRlID0gdCA6IGUubmV4dCA9IHQsIG4ubGFzdEJhc2VVcGRhdGUgPSB0fWZ1bmN0aW9uIERhKGUsIHQsIG4sIHIpIHt2YXIgbCA9IGUudXBkYXRlUXVldWU7emEgPSAhMTt2YXIgYSA9IGwuZmlyc3RCYXNlVXBkYXRlLG8gPSBsLmxhc3RCYXNlVXBkYXRlLGkgPSBsLnNoYXJlZC5wZW5kaW5nO2lmIChudWxsICE9PSBpKSB7bC5zaGFyZWQucGVuZGluZyA9IG51bGw7dmFyIHUgPSBpLHMgPSB1Lm5leHQ7dS5uZXh0ID0gbnVsbCwgbnVsbCA9PT0gbyA/IGEgPSBzIDogby5uZXh0ID0gcywgbyA9IHU7dmFyIGMgPSBlLmFsdGVybmF0ZTtudWxsICE9PSBjICYmICgoaSA9IChjID0gYy51cGRhdGVRdWV1ZSkubGFzdEJhc2VVcGRhdGUpICE9PSBvICYmIChudWxsID09PSBpID8gYy5maXJzdEJhc2VVcGRhdGUgPSBzIDogaS5uZXh0ID0gcywgYy5sYXN0QmFzZVVwZGF0ZSA9IHUpKX1pZiAobnVsbCAhPT0gYSkge3ZhciBmID0gbC5iYXNlU3RhdGU7Zm9yIChvID0gMCwgYyA9IHMgPSB1ID0gbnVsbCwgaSA9IGE7Oykge3ZhciBkID0gaS5sYW5lLHAgPSBpLmV2ZW50VGltZTtpZiAoKHIgJiBkKSA9PT0gZCkge251bGwgIT09IGMgJiYgKGMgPSBjLm5leHQgPSB7ZXZlbnRUaW1lOiBwLGxhbmU6IDAsdGFnOiBpLnRhZyxwYXlsb2FkOiBpLnBheWxvYWQsY2FsbGJhY2s6IGkuY2FsbGJhY2ssbmV4dDogbnVsbH0pO2U6IHt2YXIgaCA9IGUsbSA9IGk7c3dpdGNoIChkID0gdCwgcCA9IG4sIG0udGFnKSB7Y2FzZSAxOmlmICgiZnVuY3Rpb24iID09PSB0eXBlb2YoaCA9IG0ucGF5bG9hZCkpIHtmID0gaC5jYWxsKHAsIGYsIGQpO2JyZWFrIGV9ZiA9IGg7YnJlYWsgZTtjYXNlIDM6aC5mbGFncyA9IC02NTUzNyAmIGguZmxhZ3MgfCAxMjg7Y2FzZSAwOmlmIChudWxsID09PSAoZCA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZihoID0gbS5wYXlsb2FkKSA/IGguY2FsbChwLCBmLCBkKSA6IGgpIHx8IHZvaWQgMCA9PT0gZCkgYnJlYWsgZTtmID0gRCh7fSwgZiwgZCk7YnJlYWsgZTtjYXNlIDI6emEgPSAhMH19bnVsbCAhPT0gaS5jYWxsYmFjayAmJiAwICE9PSBpLmxhbmUgJiYgKGUuZmxhZ3MgfD0gNjQsIG51bGwgPT09IChkID0gbC5lZmZlY3RzKSA/IGwuZWZmZWN0cyA9IFtpXSA6IGQucHVzaChpKSl9IGVsc2UgcCA9IHtldmVudFRpbWU6IHAsbGFuZTogZCx0YWc6IGkudGFnLHBheWxvYWQ6IGkucGF5bG9hZCxjYWxsYmFjazogaS5jYWxsYmFjayxuZXh0OiBudWxsfSwgbnVsbCA9PT0gYyA/IChzID0gYyA9IHAsIHUgPSBmKSA6IGMgPSBjLm5leHQgPSBwLCBvIHw9IGQ7aWYgKG51bGwgPT09IChpID0gaS5uZXh0KSkge2lmIChudWxsID09PSAoaSA9IGwuc2hhcmVkLnBlbmRpbmcpKSBicmVhaztpID0gKGQgPSBpKS5uZXh0LCBkLm5leHQgPSBudWxsLCBsLmxhc3RCYXNlVXBkYXRlID0gZCwgbC5zaGFyZWQucGVuZGluZyA9IG51bGx9fWlmIChudWxsID09PSBjICYmICh1ID0gZiksIGwuYmFzZVN0YXRlID0gdSwgbC5maXJzdEJhc2VVcGRhdGUgPSBzLCBsLmxhc3RCYXNlVXBkYXRlID0gYywgbnVsbCAhPT0gKHQgPSBsLnNoYXJlZC5pbnRlcmxlYXZlZCkpIHtsID0gdDtkbyB7byB8PSBsLmxhbmUsIGwgPSBsLm5leHR9IHdoaWxlIChsICE9PSB0KX0gZWxzZSBudWxsID09PSBhICYmIChsLnNoYXJlZC5sYW5lcyA9IDApO0R1IHw9IG8sIGUubGFuZXMgPSBvLCBlLm1lbW9pemVkU3RhdGUgPSBmfX1mdW5jdGlvbiBCYShlLCB0LCBuKSB7aWYgKGUgPSB0LmVmZmVjdHMsIHQuZWZmZWN0cyA9IG51bGwsIG51bGwgIT09IGUpZm9yICh0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspIHt2YXIgciA9IGVbdF0sbCA9IHIuY2FsbGJhY2s7aWYgKG51bGwgIT09IGwpIHtpZiAoci5jYWxsYmFjayA9IG51bGwsIHIgPSBuLCAiZnVuY3Rpb24iICE9PSB0eXBlb2YgbCkgdGhyb3cgRXJyb3IoYSgxOTEsIGwpKTtsLmNhbGwocil9fX12YXIgUmEgPSAobmV3IHIuQ29tcG9uZW50KS5yZWZzO2Z1bmN0aW9uIE9hKGUsIHQsIG4sIHIpIHtuID0gbnVsbCA9PT0gKG4gPSBuKHIsIHQgPSBlLm1lbW9pemVkU3RhdGUpKSB8fCB2b2lkIDAgPT09IG4gPyB0IDogRCh7fSwgdCwgbiksIGUubWVtb2l6ZWRTdGF0ZSA9IG4sIDAgPT09IGUubGFuZXMgJiYgKGUudXBkYXRlUXVldWUuYmFzZVN0YXRlID0gbil9dmFyIElhID0ge2lzTW91bnRlZDogZnVuY3Rpb24oZSkge3JldHVybiAhIShlID0gZS5fcmVhY3RJbnRlcm5hbHMpICYmIEFlKGUpID09PSBlfSxlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHtlID0gZS5fcmVhY3RJbnRlcm5hbHM7dmFyIHIgPSB0cygpLGwgPSBucyhlKSxhID0gVGEociwgbCk7YS5wYXlsb2FkID0gdCwgdm9pZCAwICE9PSBuICYmIG51bGwgIT09IG4gJiYgKGEuY2FsbGJhY2sgPSBuKSwgbnVsbCAhPT0gKHQgPSBWYShlLCBhLCBsKSkgJiYgKHJzKHQsIGUsIGwsIHIpLCBIYSh0LCBlLCBsKSl9LGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKGUsIHQsIG4pIHtlID0gZS5fcmVhY3RJbnRlcm5hbHM7dmFyIHIgPSB0cygpLGwgPSBucyhlKSxhID0gVGEociwgbCk7YS50YWcgPSAxLCBhLnBheWxvYWQgPSB0LCB2b2lkIDAgIT09IG4gJiYgbnVsbCAhPT0gbiAmJiAoYS5jYWxsYmFjayA9IG4pLCBudWxsICE9PSAodCA9IFZhKGUsIGEsIGwpKSAmJiAocnModCwgZSwgbCwgciksIEhhKHQsIGUsIGwpKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbihlLCB0KSB7ZSA9IGUuX3JlYWN0SW50ZXJuYWxzO3ZhciBuID0gdHMoKSxyID0gbnMoZSksbCA9IFRhKG4sIHIpO2wudGFnID0gMiwgdm9pZCAwICE9PSB0ICYmIG51bGwgIT09IHQgJiYgKGwuY2FsbGJhY2sgPSB0KSwgbnVsbCAhPT0gKHQgPSBWYShlLCBsLCByKSkgJiYgKHJzKHQsIGUsIHIsIG4pLCBIYSh0LCBlLCByKSl9fTtmdW5jdGlvbiBBYShlLCB0LCBuLCByLCBsLCBhLCBvKSB7cmV0dXJuICJmdW5jdGlvbiIgPT09IHR5cGVvZihlID0gZS5zdGF0ZU5vZGUpLnNob3VsZENvbXBvbmVudFVwZGF0ZSA/IGUuc2hvdWxkQ29tcG9uZW50VXBkYXRlKHIsIGEsIG8pIDogIXQucHJvdG90eXBlIHx8ICF0LnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCB8fCAoIXVyKG4sIHIpIHx8ICF1cihsLCBhKSl9ZnVuY3Rpb24gVWEoZSwgdCwgbikge3ZhciByID0gITEsbCA9IE5sLGEgPSB0LmNvbnRleHRUeXBlO3JldHVybiAib2JqZWN0IiA9PT0gdHlwZW9mIGEgJiYgbnVsbCAhPT0gYSA/IGEgPSBFYShhKSA6IChsID0gRmwodCkgPyB6bCA6IFBsLmN1cnJlbnQsIGEgPSAociA9IG51bGwgIT09IChyID0gdC5jb250ZXh0VHlwZXMpICYmIHZvaWQgMCAhPT0gcikgPyBNbChlLCBsKSA6IE5sKSwgdCA9IG5ldyB0KG4sIGEpLCBlLm1lbW9pemVkU3RhdGUgPSBudWxsICE9PSB0LnN0YXRlICYmIHZvaWQgMCAhPT0gdC5zdGF0ZSA/IHQuc3RhdGUgOiBudWxsLCB0LnVwZGF0ZXIgPSBJYSwgZS5zdGF0ZU5vZGUgPSB0LCB0Ll9yZWFjdEludGVybmFscyA9IGUsIHIgJiYgKChlID0gZS5zdGF0ZU5vZGUpLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQgPSBsLCBlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0ID0gYSksIHR9ZnVuY3Rpb24gUWEoZSwgdCwgbiwgcikge2UgPSB0LnN0YXRlLCAiZnVuY3Rpb24iID09PSB0eXBlb2YgdC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmIHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuLCByKSwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiYgdC5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuLCByKSwgdC5zdGF0ZSAhPT0gZSAmJiBJYS5lbnF1ZXVlUmVwbGFjZVN0YXRlKHQsIHQuc3RhdGUsIG51bGwpfWZ1bmN0aW9uIFdhKGUsIHQsIG4sIHIpIHt2YXIgbCA9IGUuc3RhdGVOb2RlO2wucHJvcHMgPSBuLCBsLnN0YXRlID0gZS5tZW1vaXplZFN0YXRlLCBsLnJlZnMgPSBSYSwgTWEoZSk7dmFyIGEgPSB0LmNvbnRleHRUeXBlOyJvYmplY3QiID09PSB0eXBlb2YgYSAmJiBudWxsICE9PSBhID8gbC5jb250ZXh0ID0gRWEoYSkgOiAoYSA9IEZsKHQpID8gemwgOiBQbC5jdXJyZW50LCBsLmNvbnRleHQgPSBNbChlLCBhKSksIGwuc3RhdGUgPSBlLm1lbW9pemVkU3RhdGUsICJmdW5jdGlvbiIgPT09IHR5cGVvZihhID0gdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpICYmIChPYShlLCB0LCBhLCBuKSwgbC5zdGF0ZSA9IGUubWVtb2l6ZWRTdGF0ZSksICJmdW5jdGlvbiIgPT09IHR5cGVvZiB0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB8fCAiZnVuY3Rpb24iID09PSB0eXBlb2YgbC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fCAiZnVuY3Rpb24iICE9PSB0eXBlb2YgbC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmICJmdW5jdGlvbiIgIT09IHR5cGVvZiBsLmNvbXBvbmVudFdpbGxNb3VudCB8fCAodCA9IGwuc3RhdGUsICJmdW5jdGlvbiIgPT09IHR5cGVvZiBsLmNvbXBvbmVudFdpbGxNb3VudCAmJiBsLmNvbXBvbmVudFdpbGxNb3VudCgpLCAiZnVuY3Rpb24iID09PSB0eXBlb2YgbC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmIGwuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLCB0ICE9PSBsLnN0YXRlICYmIElhLmVucXVldWVSZXBsYWNlU3RhdGUobCwgbC5zdGF0ZSwgbnVsbCksIERhKGUsIG4sIGwsIHIpLCBsLnN0YXRlID0gZS5tZW1vaXplZFN0YXRlKSwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGwuY29tcG9uZW50RGlkTW91bnQgJiYgKGUuZmxhZ3MgfD0gNDE5NDMwOCl9ZnVuY3Rpb24gJGEoZSwgdCwgbikge2lmIChudWxsICE9PSAoZSA9IG4ucmVmKSAmJiAiZnVuY3Rpb24iICE9PSB0eXBlb2YgZSAmJiAib2JqZWN0IiAhPT0gdHlwZW9mIGUpIHtpZiAobi5fb3duZXIpIHtpZiAobiA9IG4uX293bmVyKSB7aWYgKDEgIT09IG4udGFnKSB0aHJvdyBFcnJvcihhKDMwOSkpO3ZhciByID0gbi5zdGF0ZU5vZGV9aWYgKCFyKSB0aHJvdyBFcnJvcihhKDE0NywgZSkpO3ZhciBsID0gcixvID0gIiIgKyBlO3JldHVybiBudWxsICE9PSB0ICYmIG51bGwgIT09IHQucmVmICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiB0LnJlZiAmJiB0LnJlZi5fc3RyaW5nUmVmID09PSBvID8gdC5yZWYgOiAodCA9IGZ1bmN0aW9uKGUpIHt2YXIgdCA9IGwucmVmczt0ID09PSBSYSAmJiAodCA9IGwucmVmcyA9IHt9KSwgbnVsbCA9PT0gZSA/IGRlbGV0ZSB0W29dIDogdFtvXSA9IGV9LCB0Ll9zdHJpbmdSZWYgPSBvLCB0KX1pZiAoInN0cmluZyIgIT09IHR5cGVvZiBlKSB0aHJvdyBFcnJvcihhKDI4NCkpO2lmICghbi5fb3duZXIpIHRocm93IEVycm9yKGEoMjkwLCBlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gWmEoZSwgdCkge3Rocm93IGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCksIEVycm9yKGEoMzEsICJbb2JqZWN0IE9iamVjdF0iID09PSBlID8gIm9iamVjdCB3aXRoIGtleXMgeyIgKyBPYmplY3Qua2V5cyh0KS5qb2luKCIsICIpICsgIn0iIDogZSkpfWZ1bmN0aW9uIEthKGUpIHtyZXR1cm4gKDAsIGUuX2luaXQpKGUuX3BheWxvYWQpfWZ1bmN0aW9uIHFhKGUpIHtmdW5jdGlvbiB0KHQsIG4pIHtpZiAoZSkge3ZhciByID0gdC5kZWxldGlvbnM7bnVsbCA9PT0gciA/ICh0LmRlbGV0aW9ucyA9IFtuXSwgdC5mbGFncyB8PSAxNikgOiByLnB1c2gobil9fWZ1bmN0aW9uIG4obiwgcikge2lmICghZSkgcmV0dXJuIG51bGw7Zm9yICg7IG51bGwgIT09IHI7KSB0KG4sIHIpLCByID0gci5zaWJsaW5nO3JldHVybiBudWxsfWZ1bmN0aW9uIHIoZSwgdCkge2ZvciAoZSA9IG5ldyBNYXA7IG51bGwgIT09IHQ7KSBudWxsICE9PSB0LmtleSA/IGUuc2V0KHQua2V5LCB0KSA6IGUuc2V0KHQuaW5kZXgsIHQpLCB0ID0gdC5zaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIGwoZSwgdCkge3JldHVybiAoZSA9IFZzKGUsIHQpKS5pbmRleCA9IDAsIGUuc2libGluZyA9IG51bGwsIGV9ZnVuY3Rpb24gbyh0LCBuLCByKSB7cmV0dXJuIHQuaW5kZXggPSByLCBlID8gbnVsbCAhPT0gKHIgPSB0LmFsdGVybmF0ZSkgPyAociA9IHIuaW5kZXgpIDwgbiA/ICh0LmZsYWdzIHw9IDIsIG4pIDogciA6ICh0LmZsYWdzIHw9IDIsIG4pIDogKHQuZmxhZ3MgfD0gMTA0ODU3Niwgbil9ZnVuY3Rpb24gaSh0KSB7cmV0dXJuIGUgJiYgbnVsbCA9PT0gdC5hbHRlcm5hdGUgJiYgKHQuZmxhZ3MgfD0gMiksIHR9ZnVuY3Rpb24gdShlLCB0LCBuLCByKSB7cmV0dXJuIG51bGwgPT09IHQgfHwgNiAhPT0gdC50YWcgPyAoKHQgPSBCcyhuLCBlLm1vZGUsIHIpKS5yZXR1cm4gPSBlLCB0KSA6ICgodCA9IGwodCwgbikpLnJldHVybiA9IGUsIHQpfWZ1bmN0aW9uIHMoZSwgdCwgbiwgcikge3ZhciBhID0gbi50eXBlO3JldHVybiBhID09PSBTID8gZihlLCB0LCBuLnByb3BzLmNoaWxkcmVuLCByLCBuLmtleSkgOiBudWxsICE9PSB0ICYmICh0LmVsZW1lbnRUeXBlID09PSBhIHx8ICJvYmplY3QiID09PSB0eXBlb2YgYSAmJiBudWxsICE9PSBhICYmIGEuJCR0eXBlb2YgPT09IEYgJiYgS2EoYSkgPT09IHQudHlwZSkgPyAoKHIgPSBsKHQsIG4ucHJvcHMpKS5yZWYgPSAkYShlLCB0LCBuKSwgci5yZXR1cm4gPSBlLCByKSA6ICgociA9IEhzKG4udHlwZSwgbi5rZXksIG4ucHJvcHMsIG51bGwsIGUubW9kZSwgcikpLnJlZiA9ICRhKGUsIHQsIG4pLCByLnJldHVybiA9IGUsIHIpfWZ1bmN0aW9uIGMoZSwgdCwgbiwgcikge3JldHVybiBudWxsID09PSB0IHx8IDQgIT09IHQudGFnIHx8IHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gIT09IG4uY29udGFpbmVySW5mbyB8fCB0LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gbi5pbXBsZW1lbnRhdGlvbiA/ICgodCA9IFJzKG4sIGUubW9kZSwgcikpLnJldHVybiA9IGUsIHQpIDogKCh0ID0gbCh0LCBuLmNoaWxkcmVuIHx8IFtdKSkucmV0dXJuID0gZSwgdCl9ZnVuY3Rpb24gZihlLCB0LCBuLCByLCBhKSB7cmV0dXJuIG51bGwgPT09IHQgfHwgNyAhPT0gdC50YWcgPyAoKHQgPSBqcyhuLCBlLm1vZGUsIHIsIGEpKS5yZXR1cm4gPSBlLCB0KSA6ICgodCA9IGwodCwgbikpLnJldHVybiA9IGUsIHQpfWZ1bmN0aW9uIGQoZSwgdCwgbikge2lmICgic3RyaW5nIiA9PT0gdHlwZW9mIHQgJiYgIiIgIT09IHQgfHwgIm51bWJlciIgPT09IHR5cGVvZiB0KSByZXR1cm4gKHQgPSBCcygiIiArIHQsIGUubW9kZSwgbikpLnJldHVybiA9IGUsIHQ7aWYgKCJvYmplY3QiID09PSB0eXBlb2YgdCAmJiBudWxsICE9PSB0KSB7c3dpdGNoICh0LiQkdHlwZW9mKSB7Y2FzZSB3OnJldHVybiAobiA9IEhzKHQudHlwZSwgdC5rZXksIHQucHJvcHMsIG51bGwsIGUubW9kZSwgbikpLnJlZiA9ICRhKGUsIG51bGwsIHQpLCBuLnJldHVybiA9IGUsIG47Y2FzZSB4OnJldHVybiAodCA9IFJzKHQsIGUubW9kZSwgbikpLnJldHVybiA9IGUsIHQ7Y2FzZSBGOnJldHVybiBkKGUsICgwLCB0Ll9pbml0KSh0Ll9wYXlsb2FkKSwgbil9aWYgKHRlKHQpIHx8IEgodCkpIHJldHVybiAodCA9IGpzKHQsIGUubW9kZSwgbiwgbnVsbCkpLnJldHVybiA9IGUsIHQ7WmEoZSwgdCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcChlLCB0LCBuLCByKSB7dmFyIGwgPSBudWxsICE9PSB0ID8gdC5rZXkgOiBudWxsO2lmICgic3RyaW5nIiA9PT0gdHlwZW9mIG4gJiYgIiIgIT09IG4gfHwgIm51bWJlciIgPT09IHR5cGVvZiBuKSByZXR1cm4gbnVsbCAhPT0gbCA/IG51bGwgOiB1KGUsIHQsICIiICsgbiwgcik7aWYgKCJvYmplY3QiID09PSB0eXBlb2YgbiAmJiBudWxsICE9PSBuKSB7c3dpdGNoIChuLiQkdHlwZW9mKSB7Y2FzZSB3OnJldHVybiBuLmtleSA9PT0gbCA/IHMoZSwgdCwgbiwgcikgOiBudWxsO2Nhc2UgeDpyZXR1cm4gbi5rZXkgPT09IGwgPyBjKGUsIHQsIG4sIHIpIDogbnVsbDtjYXNlIEY6cmV0dXJuIHAoZSwgdCwgKGwgPSBuLl9pbml0KShuLl9wYXlsb2FkKSwgcil9aWYgKHRlKG4pIHx8IEgobikpIHJldHVybiBudWxsICE9PSBsID8gbnVsbCA6IGYoZSwgdCwgbiwgciwgbnVsbCk7WmEoZSwgbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gaChlLCB0LCBuLCByLCBsKSB7aWYgKCJzdHJpbmciID09PSB0eXBlb2YgciAmJiAiIiAhPT0gciB8fCAibnVtYmVyIiA9PT0gdHlwZW9mIHIpIHJldHVybiB1KHQsIGUgPSBlLmdldChuKSB8fCBudWxsLCAiIiArIHIsIGwpO2lmICgib2JqZWN0IiA9PT0gdHlwZW9mIHIgJiYgbnVsbCAhPT0gcikge3N3aXRjaCAoci4kJHR5cGVvZikge2Nhc2UgdzpyZXR1cm4gcyh0LCBlID0gZS5nZXQobnVsbCA9PT0gci5rZXkgPyBuIDogci5rZXkpIHx8IG51bGwsIHIsIGwpO2Nhc2UgeDpyZXR1cm4gYyh0LCBlID0gZS5nZXQobnVsbCA9PT0gci5rZXkgPyBuIDogci5rZXkpIHx8IG51bGwsIHIsIGwpO2Nhc2UgRjpyZXR1cm4gaChlLCB0LCBuLCAoMCwgci5faW5pdCkoci5fcGF5bG9hZCksIGwpfWlmICh0ZShyKSB8fCBIKHIpKSByZXR1cm4gZih0LCBlID0gZS5nZXQobikgfHwgbnVsbCwgciwgbCwgbnVsbCk7WmEodCwgcil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShsLCBhLCBpLCB1KSB7Zm9yICh2YXIgcyA9IG51bGwsIGMgPSBudWxsLCBmID0gYSwgbSA9IGEgPSAwLCB2ID0gbnVsbDsgbnVsbCAhPT0gZiAmJiBtIDwgaS5sZW5ndGg7IG0rKykge2YuaW5kZXggPiBtID8gKHYgPSBmLCBmID0gbnVsbCkgOiB2ID0gZi5zaWJsaW5nO3ZhciBnID0gcChsLCBmLCBpW21dLCB1KTtpZiAobnVsbCA9PT0gZykge251bGwgPT09IGYgJiYgKGYgPSB2KTticmVha31lICYmIGYgJiYgbnVsbCA9PT0gZy5hbHRlcm5hdGUgJiYgdChsLCBmKSwgYSA9IG8oZywgYSwgbSksIG51bGwgPT09IGMgPyBzID0gZyA6IGMuc2libGluZyA9IGcsIGMgPSBnLCBmID0gdn1pZiAobSA9PT0gaS5sZW5ndGgpIHJldHVybiBuKGwsIGYpLCBsYSAmJiBHbChsLCBtKSwgcztpZiAobnVsbCA9PT0gZikge2ZvciAoOyBtIDwgaS5sZW5ndGg7IG0rKykgbnVsbCAhPT0gKGYgPSBkKGwsIGlbbV0sIHUpKSAmJiAoYSA9IG8oZiwgYSwgbSksIG51bGwgPT09IGMgPyBzID0gZiA6IGMuc2libGluZyA9IGYsIGMgPSBmKTtyZXR1cm4gbGEgJiYgR2wobCwgbSksIHN9Zm9yIChmID0gcihsLCBmKTsgbSA8IGkubGVuZ3RoOyBtKyspIG51bGwgIT09ICh2ID0gaChmLCBsLCBtLCBpW21dLCB1KSkgJiYgKGUgJiYgbnVsbCAhPT0gdi5hbHRlcm5hdGUgJiYgZi5kZWxldGUobnVsbCA9PT0gdi5rZXkgPyBtIDogdi5rZXkpLCBhID0gbyh2LCBhLCBtKSwgbnVsbCA9PT0gYyA/IHMgPSB2IDogYy5zaWJsaW5nID0gdiwgYyA9IHYpO3JldHVybiBlICYmIGYuZm9yRWFjaCgoZnVuY3Rpb24oZSkge3JldHVybiB0KGwsIGUpfSkpLCBsYSAmJiBHbChsLCBtKSwgc31mdW5jdGlvbiB2KGwsIGksIHUsIHMpIHt2YXIgYyA9IEgodSk7aWYgKCJmdW5jdGlvbiIgIT09IHR5cGVvZiBjKSB0aHJvdyBFcnJvcihhKDE1MCkpO2lmIChudWxsID09ICh1ID0gYy5jYWxsKHUpKSkgdGhyb3cgRXJyb3IoYSgxNTEpKTtmb3IgKHZhciBmID0gYyA9IG51bGwsIG0gPSBpLCB2ID0gaSA9IDAsIGcgPSBudWxsLCB5ID0gdS5uZXh0KCk7IG51bGwgIT09IG0gJiYgIXkuZG9uZTsgdisrLCB5ID0gdS5uZXh0KCkpIHttLmluZGV4ID4gdiA/IChnID0gbSwgbSA9IG51bGwpIDogZyA9IG0uc2libGluZzt2YXIgYiA9IHAobCwgbSwgeS52YWx1ZSwgcyk7aWYgKG51bGwgPT09IGIpIHtudWxsID09PSBtICYmIChtID0gZyk7YnJlYWt9ZSAmJiBtICYmIG51bGwgPT09IGIuYWx0ZXJuYXRlICYmIHQobCwgbSksIGkgPSBvKGIsIGksIHYpLCBudWxsID09PSBmID8gYyA9IGIgOiBmLnNpYmxpbmcgPSBiLCBmID0gYiwgbSA9IGd9aWYgKHkuZG9uZSkgcmV0dXJuIG4obCwgbSksIGxhICYmIEdsKGwsIHYpLCBjO2lmIChudWxsID09PSBtKSB7Zm9yICg7ICF5LmRvbmU7IHYrKywgeSA9IHUubmV4dCgpKSBudWxsICE9PSAoeSA9IGQobCwgeS52YWx1ZSwgcykpICYmIChpID0gbyh5LCBpLCB2KSwgbnVsbCA9PT0gZiA/IGMgPSB5IDogZi5zaWJsaW5nID0geSwgZiA9IHkpO3JldHVybiBsYSAmJiBHbChsLCB2KSwgY31mb3IgKG0gPSByKGwsIG0pOyAheS5kb25lOyB2KyssIHkgPSB1Lm5leHQoKSkgbnVsbCAhPT0gKHkgPSBoKG0sIGwsIHYsIHkudmFsdWUsIHMpKSAmJiAoZSAmJiBudWxsICE9PSB5LmFsdGVybmF0ZSAmJiBtLmRlbGV0ZShudWxsID09PSB5LmtleSA/IHYgOiB5LmtleSksIGkgPSBvKHksIGksIHYpLCBudWxsID09PSBmID8gYyA9IHkgOiBmLnNpYmxpbmcgPSB5LCBmID0geSk7cmV0dXJuIGUgJiYgbS5mb3JFYWNoKChmdW5jdGlvbihlKSB7cmV0dXJuIHQobCwgZSl9KSksIGxhICYmIEdsKGwsIHYpLCBjfXJldHVybiBmdW5jdGlvbiBlKHIsIGEsIG8sIHUpIHtpZiAoIm9iamVjdCIgPT09IHR5cGVvZiBvICYmIG51bGwgIT09IG8gJiYgby50eXBlID09PSBTICYmIG51bGwgPT09IG8ua2V5ICYmIChvID0gby5wcm9wcy5jaGlsZHJlbiksICJvYmplY3QiID09PSB0eXBlb2YgbyAmJiBudWxsICE9PSBvKSB7c3dpdGNoIChvLiQkdHlwZW9mKSB7Y2FzZSB3OmU6IHtmb3IgKHZhciBzID0gby5rZXksIGMgPSBhOyBudWxsICE9PSBjOykge2lmIChjLmtleSA9PT0gcykge2lmICgocyA9IG8udHlwZSkgPT09IFMpIHtpZiAoNyA9PT0gYy50YWcpIHtuKHIsIGMuc2libGluZyksIChhID0gbChjLCBvLnByb3BzLmNoaWxkcmVuKSkucmV0dXJuID0gciwgciA9IGE7YnJlYWsgZX19IGVsc2UgaWYgKGMuZWxlbWVudFR5cGUgPT09IHMgfHwgIm9iamVjdCIgPT09IHR5cGVvZiBzICYmIG51bGwgIT09IHMgJiYgcy4kJHR5cGVvZiA9PT0gRiAmJiBLYShzKSA9PT0gYy50eXBlKSB7bihyLCBjLnNpYmxpbmcpLCAoYSA9IGwoYywgby5wcm9wcykpLnJlZiA9ICRhKHIsIGMsIG8pLCBhLnJldHVybiA9IHIsIHIgPSBhO2JyZWFrIGV9bihyLCBjKTticmVha310KHIsIGMpLCBjID0gYy5zaWJsaW5nfW8udHlwZSA9PT0gUyA/ICgoYSA9IGpzKG8ucHJvcHMuY2hpbGRyZW4sIHIubW9kZSwgdSwgby5rZXkpKS5yZXR1cm4gPSByLCByID0gYSkgOiAoKHUgPSBIcyhvLnR5cGUsIG8ua2V5LCBvLnByb3BzLCBudWxsLCByLm1vZGUsIHUpKS5yZWYgPSAkYShyLCBhLCBvKSwgdS5yZXR1cm4gPSByLCByID0gdSl9cmV0dXJuIGkocik7Y2FzZSB4OmU6IHtmb3IgKGMgPSBvLmtleTsgbnVsbCAhPT0gYTspIHtpZiAoYS5rZXkgPT09IGMpIHtpZiAoNCA9PT0gYS50YWcgJiYgYS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyA9PT0gby5jb250YWluZXJJbmZvICYmIGEuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uID09PSBvLmltcGxlbWVudGF0aW9uKSB7bihyLCBhLnNpYmxpbmcpLCAoYSA9IGwoYSwgby5jaGlsZHJlbiB8fCBbXSkpLnJldHVybiA9IHIsIHIgPSBhO2JyZWFrIGV9bihyLCBhKTticmVha310KHIsIGEpLCBhID0gYS5zaWJsaW5nfShhID0gUnMobywgci5tb2RlLCB1KSkucmV0dXJuID0gcixyID0gYX1yZXR1cm4gaShyKTtjYXNlIEY6cmV0dXJuIGUociwgYSwgKGMgPSBvLl9pbml0KShvLl9wYXlsb2FkKSwgdSl9aWYgKHRlKG8pKSByZXR1cm4gbShyLCBhLCBvLCB1KTtpZiAoSChvKSkgcmV0dXJuIHYociwgYSwgbywgdSk7WmEociwgbyl9cmV0dXJuICJzdHJpbmciID09PSB0eXBlb2YgbyAmJiAiIiAhPT0gbyB8fCAibnVtYmVyIiA9PT0gdHlwZW9mIG8gPyAobyA9ICIiICsgbywgbnVsbCAhPT0gYSAmJiA2ID09PSBhLnRhZyA/IChuKHIsIGEuc2libGluZyksIChhID0gbChhLCBvKSkucmV0dXJuID0gciwgciA9IGEpIDogKG4ociwgYSksIChhID0gQnMobywgci5tb2RlLCB1KSkucmV0dXJuID0gciwgciA9IGEpLCBpKHIpKSA6IG4ociwgYSl9fXZhciBZYSA9IHFhKCEwKSxYYSA9IHFhKCExKSxHYSA9IHt9LEphID0gQ2woR2EpLGVvID0gQ2woR2EpLHRvID0gQ2woR2EpO2Z1bmN0aW9uIG5vKGUpIHtpZiAoZSA9PT0gR2EpIHRocm93IEVycm9yKGEoMTc0KSk7cmV0dXJuIGV9ZnVuY3Rpb24gcm8oZSwgdCkge3N3aXRjaCAoX2wodG8sIHQpLCBfbChlbywgZSksIF9sKEphLCBHYSksIGUgPSB0Lm5vZGVUeXBlKSB7Y2FzZSA5OmNhc2UgMTE6dCA9ICh0ID0gdC5kb2N1bWVudEVsZW1lbnQpID8gdC5uYW1lc3BhY2VVUkkgOiB1ZShudWxsLCAiIik7YnJlYWs7ZGVmYXVsdDp0ID0gdWUodCA9IChlID0gOCA9PT0gZSA/IHQucGFyZW50Tm9kZSA6IHQpLm5hbWVzcGFjZVVSSSB8fCBudWxsLCBlID0gZS50YWdOYW1lKX1FbChKYSksIF9sKEphLCB0KX1mdW5jdGlvbiBsbygpIHtFbChKYSksIEVsKGVvKSwgRWwodG8pfWZ1bmN0aW9uIGFvKGUpIHtubyh0by5jdXJyZW50KTt2YXIgdCA9IG5vKEphLmN1cnJlbnQpLG4gPSB1ZSh0LCBlLnR5cGUpO3QgIT09IG4gJiYgKF9sKGVvLCBlKSwgX2woSmEsIG4pKX1mdW5jdGlvbiBvbyhlKSB7ZW8uY3VycmVudCA9PT0gZSAmJiAoRWwoSmEpLCBFbChlbykpfXZhciBpbyA9IENsKDApO2Z1bmN0aW9uIHVvKGUpIHtmb3IgKHZhciB0ID0gZTsgbnVsbCAhPT0gdDspIHtpZiAoMTMgPT09IHQudGFnKSB7dmFyIG4gPSB0Lm1lbW9pemVkU3RhdGU7aWYgKG51bGwgIT09IG4gJiYgKG51bGwgPT09IChuID0gbi5kZWh5ZHJhdGVkKSB8fCAiJD8iID09PSBuLmRhdGEgfHwgIiQhIiA9PT0gbi5kYXRhKSkgcmV0dXJuIHR9IGVsc2UgaWYgKDE5ID09PSB0LnRhZyAmJiB2b2lkIDAgIT09IHQubWVtb2l6ZWRQcm9wcy5yZXZlYWxPcmRlcikge2lmICgwICE9PSAoMTI4ICYgdC5mbGFncykpIHJldHVybiB0fSBlbHNlIGlmIChudWxsICE9PSB0LmNoaWxkKSB7dC5jaGlsZC5yZXR1cm4gPSB0LCB0ID0gdC5jaGlsZDtjb250aW51ZX1pZiAodCA9PT0gZSkgYnJlYWs7Zm9yICg7IG51bGwgPT09IHQuc2libGluZzspIHtpZiAobnVsbCA9PT0gdC5yZXR1cm4gfHwgdC5yZXR1cm4gPT09IGUpIHJldHVybiBudWxsO3QgPSB0LnJldHVybn10LnNpYmxpbmcucmV0dXJuID0gdC5yZXR1cm4sIHQgPSB0LnNpYmxpbmd9cmV0dXJuIG51bGx9dmFyIHNvID0gW107ZnVuY3Rpb24gY28oKSB7Zm9yICh2YXIgZSA9IDA7IGUgPCBzby5sZW5ndGg7IGUrKykgc29bZV0uX3dvcmtJblByb2dyZXNzVmVyc2lvblByaW1hcnkgPSBudWxsO3NvLmxlbmd0aCA9IDB9dmFyIGZvID0gay5SZWFjdEN1cnJlbnREaXNwYXRjaGVyLHBvID0gay5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxobyA9IDAsbW8gPSBudWxsLHZvID0gbnVsbCxnbyA9IG51bGwseW8gPSAhMSxibyA9ICExLGtvID0gMCx3byA9IDA7ZnVuY3Rpb24geG8oKSB7dGhyb3cgRXJyb3IoYSgzMjEpKX1mdW5jdGlvbiBTbyhlLCB0KSB7aWYgKG51bGwgPT09IHQpIHJldHVybiAhMTtmb3IgKHZhciBuID0gMDsgbiA8IHQubGVuZ3RoICYmIG4gPCBlLmxlbmd0aDsgbisrKWlmICghaXIoZVtuXSwgdFtuXSkpIHJldHVybiAhMTtyZXR1cm4gITB9ZnVuY3Rpb24gQ28oZSwgdCwgbiwgciwgbCwgbykge2lmIChobyA9IG8sIG1vID0gdCwgdC5tZW1vaXplZFN0YXRlID0gbnVsbCwgdC51cGRhdGVRdWV1ZSA9IG51bGwsIHQubGFuZXMgPSAwLCBmby5jdXJyZW50ID0gbnVsbCA9PT0gZSB8fCBudWxsID09PSBlLm1lbW9pemVkU3RhdGUgPyBpaSA6IHVpLCBlID0gbihyLCBsKSwgYm8pIHtvID0gMDtkbyB7aWYgKGJvID0gITEsIGtvID0gMCwgMjUgPD0gbykgdGhyb3cgRXJyb3IoYSgzMDEpKTtvICs9IDEsIGdvID0gdm8gPSBudWxsLCB0LnVwZGF0ZVF1ZXVlID0gbnVsbCwgZm8uY3VycmVudCA9IHNpLCBlID0gbihyLCBsKX0gd2hpbGUgKGJvKX1pZiAoZm8uY3VycmVudCA9IG9pLCB0ID0gbnVsbCAhPT0gdm8gJiYgbnVsbCAhPT0gdm8ubmV4dCwgaG8gPSAwLCBnbyA9IHZvID0gbW8gPSBudWxsLCB5byA9ICExLCB0KSB0aHJvdyBFcnJvcihhKDMwMCkpO3JldHVybiBlfWZ1bmN0aW9uIEVvKCkge3ZhciBlID0gMCAhPT0ga287cmV0dXJuIGtvID0gMCwgZX1mdW5jdGlvbiBfbygpIHt2YXIgZSA9IHttZW1vaXplZFN0YXRlOiBudWxsLGJhc2VTdGF0ZTogbnVsbCxiYXNlUXVldWU6IG51bGwscXVldWU6IG51bGwsbmV4dDogbnVsbH07cmV0dXJuIG51bGwgPT09IGdvID8gbW8ubWVtb2l6ZWRTdGF0ZSA9IGdvID0gZSA6IGdvID0gZ28ubmV4dCA9IGUsIGdvfWZ1bmN0aW9uIE5vKCkge2lmIChudWxsID09PSB2bykge3ZhciBlID0gbW8uYWx0ZXJuYXRlO2UgPSBudWxsICE9PSBlID8gZS5tZW1vaXplZFN0YXRlIDogbnVsbH0gZWxzZSBlID0gdm8ubmV4dDt2YXIgdCA9IG51bGwgPT09IGdvID8gbW8ubWVtb2l6ZWRTdGF0ZSA6IGdvLm5leHQ7aWYgKG51bGwgIT09IHQpIGdvID0gdCwgdm8gPSBlO2Vsc2Uge2lmIChudWxsID09PSBlKSB0aHJvdyBFcnJvcihhKDMxMCkpO2UgPSB7bWVtb2l6ZWRTdGF0ZTogKHZvID0gZSkubWVtb2l6ZWRTdGF0ZSxiYXNlU3RhdGU6IHZvLmJhc2VTdGF0ZSxiYXNlUXVldWU6IHZvLmJhc2VRdWV1ZSxxdWV1ZTogdm8ucXVldWUsbmV4dDogbnVsbH0sIG51bGwgPT09IGdvID8gbW8ubWVtb2l6ZWRTdGF0ZSA9IGdvID0gZSA6IGdvID0gZ28ubmV4dCA9IGV9cmV0dXJuIGdvfWZ1bmN0aW9uIFBvKGUsIHQpIHtyZXR1cm4gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHQgPyB0KGUpIDogdH1mdW5jdGlvbiBMbyhlKSB7dmFyIHQgPSBObygpLG4gPSB0LnF1ZXVlO2lmIChudWxsID09PSBuKSB0aHJvdyBFcnJvcihhKDMxMSkpO24ubGFzdFJlbmRlcmVkUmVkdWNlciA9IGU7dmFyIHIgPSB2byxsID0gci5iYXNlUXVldWUsbyA9IG4ucGVuZGluZztpZiAobnVsbCAhPT0gbykge2lmIChudWxsICE9PSBsKSB7dmFyIGkgPSBsLm5leHQ7bC5uZXh0ID0gby5uZXh0LCBvLm5leHQgPSBpfXIuYmFzZVF1ZXVlID0gbCA9IG8sIG4ucGVuZGluZyA9IG51bGx9aWYgKG51bGwgIT09IGwpIHtvID0gbC5uZXh0LCByID0gci5iYXNlU3RhdGU7dmFyIHUgPSBpID0gbnVsbCxzID0gbnVsbCxjID0gbztkbyB7dmFyIGYgPSBjLmxhbmU7aWYgKChobyAmIGYpID09PSBmKSBudWxsICE9PSBzICYmIChzID0gcy5uZXh0ID0ge2xhbmU6IDAsYWN0aW9uOiBjLmFjdGlvbixoYXNFYWdlclN0YXRlOiBjLmhhc0VhZ2VyU3RhdGUsZWFnZXJTdGF0ZTogYy5lYWdlclN0YXRlLG5leHQ6IG51bGx9KSwgciA9IGMuaGFzRWFnZXJTdGF0ZSA/IGMuZWFnZXJTdGF0ZSA6IGUociwgYy5hY3Rpb24pO2Vsc2Uge3ZhciBkID0ge2xhbmU6IGYsYWN0aW9uOiBjLmFjdGlvbixoYXNFYWdlclN0YXRlOiBjLmhhc0VhZ2VyU3RhdGUsZWFnZXJTdGF0ZTogYy5lYWdlclN0YXRlLG5leHQ6IG51bGx9O251bGwgPT09IHMgPyAodSA9IHMgPSBkLCBpID0gcikgOiBzID0gcy5uZXh0ID0gZCwgbW8ubGFuZXMgfD0gZiwgRHUgfD0gZn1jID0gYy5uZXh0fSB3aGlsZSAobnVsbCAhPT0gYyAmJiBjICE9PSBvKTtudWxsID09PSBzID8gaSA9IHIgOiBzLm5leHQgPSB1LCBpcihyLCB0Lm1lbW9pemVkU3RhdGUpIHx8IChraSA9ICEwKSwgdC5tZW1vaXplZFN0YXRlID0gciwgdC5iYXNlU3RhdGUgPSBpLCB0LmJhc2VRdWV1ZSA9IHMsIG4ubGFzdFJlbmRlcmVkU3RhdGUgPSByfWlmIChudWxsICE9PSAoZSA9IG4uaW50ZXJsZWF2ZWQpKSB7bCA9IGU7ZG8ge28gPSBsLmxhbmUsIG1vLmxhbmVzIHw9IG8sIER1IHw9IG8sIGwgPSBsLm5leHR9IHdoaWxlIChsICE9PSBlKX0gZWxzZSBudWxsID09PSBsICYmIChuLmxhbmVzID0gMCk7cmV0dXJuIFt0Lm1lbW9pemVkU3RhdGUsIG4uZGlzcGF0Y2hdfWZ1bmN0aW9uIHpvKGUpIHt2YXIgdCA9IE5vKCksbiA9IHQucXVldWU7aWYgKG51bGwgPT09IG4pIHRocm93IEVycm9yKGEoMzExKSk7bi5sYXN0UmVuZGVyZWRSZWR1Y2VyID0gZTt2YXIgciA9IG4uZGlzcGF0Y2gsbCA9IG4ucGVuZGluZyxvID0gdC5tZW1vaXplZFN0YXRlO2lmIChudWxsICE9PSBsKSB7bi5wZW5kaW5nID0gbnVsbDt2YXIgaSA9IGwgPSBsLm5leHQ7ZG8ge28gPSBlKG8sIGkuYWN0aW9uKSwgaSA9IGkubmV4dH0gd2hpbGUgKGkgIT09IGwpO2lyKG8sIHQubWVtb2l6ZWRTdGF0ZSkgfHwgKGtpID0gITApLCB0Lm1lbW9pemVkU3RhdGUgPSBvLCBudWxsID09PSB0LmJhc2VRdWV1ZSAmJiAodC5iYXNlU3RhdGUgPSBvKSwgbi5sYXN0UmVuZGVyZWRTdGF0ZSA9IG99cmV0dXJuIFtvLCByXX1mdW5jdGlvbiBNbygpIHt9ZnVuY3Rpb24gRm8oZSwgdCkge3ZhciBuID0gbW8sciA9IE5vKCksbCA9IHQoKSxvID0gIWlyKHIubWVtb2l6ZWRTdGF0ZSwgbCk7aWYgKG8gJiYgKHIubWVtb2l6ZWRTdGF0ZSA9IGwsIGtpID0gITApLCByID0gci5xdWV1ZSwgUW8oSG8uYmluZChudWxsLCBuLCByLCBlKSwgW2VdKSwgci5nZXRTbmFwc2hvdCAhPT0gdCB8fCBvIHx8IG51bGwgIT09IGdvICYmIDEgJiBnby5tZW1vaXplZFN0YXRlLnRhZykge2lmIChuLmZsYWdzIHw9IDIwNDgsIFJvKDksIFZvLmJpbmQobnVsbCwgbiwgciwgbCwgdCksIHZvaWQgMCwgbnVsbCksIG51bGwgPT09IHp1KSB0aHJvdyBFcnJvcihhKDM0OSkpOzAgIT09ICgzMCAmIGhvKSB8fCBUbyhuLCB0LCBsKX1yZXR1cm4gbH1mdW5jdGlvbiBUbyhlLCB0LCBuKSB7ZS5mbGFncyB8PSAxNjM4NCwgZSA9IHtnZXRTbmFwc2hvdDogdCx2YWx1ZTogbn0sIG51bGwgPT09ICh0ID0gbW8udXBkYXRlUXVldWUpID8gKHQgPSB7bGFzdEVmZmVjdDogbnVsbCxzdG9yZXM6IG51bGx9LCBtby51cGRhdGVRdWV1ZSA9IHQsIHQuc3RvcmVzID0gW2VdKSA6IG51bGwgPT09IChuID0gdC5zdG9yZXMpID8gdC5zdG9yZXMgPSBbZV0gOiBuLnB1c2goZSl9ZnVuY3Rpb24gVm8oZSwgdCwgbiwgcikge3QudmFsdWUgPSBuLCB0LmdldFNuYXBzaG90ID0gciwgam8odCkgJiYgRG8oZSl9ZnVuY3Rpb24gSG8oZSwgdCwgbikge3JldHVybiBuKChmdW5jdGlvbigpIHtqbyh0KSAmJiBEbyhlKX0pKX1mdW5jdGlvbiBqbyhlKSB7dmFyIHQgPSBlLmdldFNuYXBzaG90O2UgPSBlLnZhbHVlO3RyeSB7dmFyIG4gPSB0KCk7cmV0dXJuICFpcihlLCBuKX0gY2F0Y2ggKHIpIHtyZXR1cm4gITB9fWZ1bmN0aW9uIERvKGUpIHt2YXIgdCA9IExhKGUsIDEpO251bGwgIT09IHQgJiYgcnModCwgZSwgMSwgLTEpfWZ1bmN0aW9uIEJvKGUpIHt2YXIgdCA9IF9vKCk7cmV0dXJuICJmdW5jdGlvbiIgPT09IHR5cGVvZiBlICYmIChlID0gZSgpKSwgdC5tZW1vaXplZFN0YXRlID0gdC5iYXNlU3RhdGUgPSBlLCBlID0ge3BlbmRpbmc6IG51bGwsaW50ZXJsZWF2ZWQ6IG51bGwsbGFuZXM6IDAsZGlzcGF0Y2g6IG51bGwsbGFzdFJlbmRlcmVkUmVkdWNlcjogUG8sbGFzdFJlbmRlcmVkU3RhdGU6IGV9LCB0LnF1ZXVlID0gZSwgZSA9IGUuZGlzcGF0Y2ggPSBuaS5iaW5kKG51bGwsIG1vLCBlKSwgW3QubWVtb2l6ZWRTdGF0ZSwgZV19ZnVuY3Rpb24gUm8oZSwgdCwgbiwgcikge3JldHVybiBlID0ge3RhZzogZSxjcmVhdGU6IHQsZGVzdHJveTogbixkZXBzOiByLG5leHQ6IG51bGx9LCBudWxsID09PSAodCA9IG1vLnVwZGF0ZVF1ZXVlKSA/ICh0ID0ge2xhc3RFZmZlY3Q6IG51bGwsc3RvcmVzOiBudWxsfSwgbW8udXBkYXRlUXVldWUgPSB0LCB0Lmxhc3RFZmZlY3QgPSBlLm5leHQgPSBlKSA6IG51bGwgPT09IChuID0gdC5sYXN0RWZmZWN0KSA/IHQubGFzdEVmZmVjdCA9IGUubmV4dCA9IGUgOiAociA9IG4ubmV4dCwgbi5uZXh0ID0gZSwgZS5uZXh0ID0gciwgdC5sYXN0RWZmZWN0ID0gZSksIGV9ZnVuY3Rpb24gT28oKSB7cmV0dXJuIE5vKCkubWVtb2l6ZWRTdGF0ZX1mdW5jdGlvbiBJbyhlLCB0LCBuLCByKSB7dmFyIGwgPSBfbygpO21vLmZsYWdzIHw9IGUsIGwubWVtb2l6ZWRTdGF0ZSA9IFJvKDEgfCB0LCBuLCB2b2lkIDAsIHZvaWQgMCA9PT0gciA/IG51bGwgOiByKX1mdW5jdGlvbiBBbyhlLCB0LCBuLCByKSB7dmFyIGwgPSBObygpO3IgPSB2b2lkIDAgPT09IHIgPyBudWxsIDogcjt2YXIgYSA9IHZvaWQgMDtpZiAobnVsbCAhPT0gdm8pIHt2YXIgbyA9IHZvLm1lbW9pemVkU3RhdGU7aWYgKGEgPSBvLmRlc3Ryb3ksIG51bGwgIT09IHIgJiYgU28ociwgby5kZXBzKSkgcmV0dXJuIHZvaWQobC5tZW1vaXplZFN0YXRlID0gUm8odCwgbiwgYSwgcikpfW1vLmZsYWdzIHw9IGUsIGwubWVtb2l6ZWRTdGF0ZSA9IFJvKDEgfCB0LCBuLCBhLCByKX1mdW5jdGlvbiBVbyhlLCB0KSB7cmV0dXJuIElvKDgzOTA2NTYsIDgsIGUsIHQpfWZ1bmN0aW9uIFFvKGUsIHQpIHtyZXR1cm4gQW8oMjA0OCwgOCwgZSwgdCl9ZnVuY3Rpb24gV28oZSwgdCkge3JldHVybiBBbyg0LCAyLCBlLCB0KX1mdW5jdGlvbiAkbyhlLCB0KSB7cmV0dXJuIEFvKDQsIDQsIGUsIHQpfWZ1bmN0aW9uIFpvKGUsIHQpIHtyZXR1cm4gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHQgPyAoZSA9IGUoKSwgdChlKSwgZnVuY3Rpb24oKSB7dChudWxsKX0pIDogbnVsbCAhPT0gdCAmJiB2b2lkIDAgIT09IHQgPyAoZSA9IGUoKSwgdC5jdXJyZW50ID0gZSwgZnVuY3Rpb24oKSB7dC5jdXJyZW50ID0gbnVsbH0pIDogdm9pZCAwfWZ1bmN0aW9uIEtvKGUsIHQsIG4pIHtyZXR1cm4gbiA9IG51bGwgIT09IG4gJiYgdm9pZCAwICE9PSBuID8gbi5jb25jYXQoW2VdKSA6IG51bGwsIEFvKDQsIDQsIFpvLmJpbmQobnVsbCwgdCwgZSksIG4pfWZ1bmN0aW9uIHFvKCkge31mdW5jdGlvbiBZbyhlLCB0KSB7dmFyIG4gPSBObygpO3QgPSB2b2lkIDAgPT09IHQgPyBudWxsIDogdDt2YXIgciA9IG4ubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCAhPT0gciAmJiBudWxsICE9PSB0ICYmIFNvKHQsIHJbMV0pID8gclswXSA6IChuLm1lbW9pemVkU3RhdGUgPSBbZSwgdF0sIGUpfWZ1bmN0aW9uIFhvKGUsIHQpIHt2YXIgbiA9IE5vKCk7dCA9IHZvaWQgMCA9PT0gdCA/IG51bGwgOiB0O3ZhciByID0gbi5tZW1vaXplZFN0YXRlO3JldHVybiBudWxsICE9PSByICYmIG51bGwgIT09IHQgJiYgU28odCwgclsxXSkgPyByWzBdIDogKGUgPSBlKCksIG4ubWVtb2l6ZWRTdGF0ZSA9IFtlLCB0XSwgZSl9ZnVuY3Rpb24gR28oZSwgdCwgbikge3JldHVybiAwID09PSAoMjEgJiBobykgPyAoZS5iYXNlU3RhdGUgJiYgKGUuYmFzZVN0YXRlID0gITEsIGtpID0gITApLCBlLm1lbW9pemVkU3RhdGUgPSBuKSA6IChpcihuLCB0KSB8fCAobiA9IG10KCksIG1vLmxhbmVzIHw9IG4sIER1IHw9IG4sIGUuYmFzZVN0YXRlID0gITApLCB0KX1mdW5jdGlvbiBKbyhlLCB0KSB7dmFyIG4gPSBidDtidCA9IDAgIT09IG4gJiYgNCA+IG4gPyBuIDogNCwgZSghMCk7dmFyIHIgPSBwby50cmFuc2l0aW9uO3BvLnRyYW5zaXRpb24gPSB7fTt0cnkge2UoITEpLCB0KCl9IGZpbmFsbHkge2J0ID0gbiwgcG8udHJhbnNpdGlvbiA9IHJ9fWZ1bmN0aW9uIGVpKCkge3JldHVybiBObygpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24gdGkoZSwgdCwgbikge3ZhciByID0gbnMoZSk7aWYgKG4gPSB7bGFuZTogcixhY3Rpb246IG4saGFzRWFnZXJTdGF0ZTogITEsZWFnZXJTdGF0ZTogbnVsbCxuZXh0OiBudWxsfSwgcmkoZSkpIGxpKHQsIG4pO2Vsc2UgaWYgKG51bGwgIT09IChuID0gUGEoZSwgdCwgbiwgcikpKSB7cnMobiwgZSwgciwgdHMoKSksIGFpKG4sIHQsIHIpfX1mdW5jdGlvbiBuaShlLCB0LCBuKSB7dmFyIHIgPSBucyhlKSxsID0ge2xhbmU6IHIsYWN0aW9uOiBuLGhhc0VhZ2VyU3RhdGU6ICExLGVhZ2VyU3RhdGU6IG51bGwsbmV4dDogbnVsbH07aWYgKHJpKGUpKSBsaSh0LCBsKTtlbHNlIHt2YXIgYSA9IGUuYWx0ZXJuYXRlO2lmICgwID09PSBlLmxhbmVzICYmIChudWxsID09PSBhIHx8IDAgPT09IGEubGFuZXMpICYmIG51bGwgIT09IChhID0gdC5sYXN0UmVuZGVyZWRSZWR1Y2VyKSkgdHJ5IHt2YXIgbyA9IHQubGFzdFJlbmRlcmVkU3RhdGUsaSA9IGEobywgbik7aWYgKGwuaGFzRWFnZXJTdGF0ZSA9ICEwLCBsLmVhZ2VyU3RhdGUgPSBpLCBpcihpLCBvKSkge3ZhciB1ID0gdC5pbnRlcmxlYXZlZDtyZXR1cm4gbnVsbCA9PT0gdSA/IChsLm5leHQgPSBsLCBOYSh0KSkgOiAobC5uZXh0ID0gdS5uZXh0LCB1Lm5leHQgPSBsKSwgdm9pZCh0LmludGVybGVhdmVkID0gbCl9fSBjYXRjaCAocykge31udWxsICE9PSAobiA9IFBhKGUsIHQsIGwsIHIpKSAmJiAocnMobiwgZSwgciwgbCA9IHRzKCkpLCBhaShuLCB0LCByKSl9fWZ1bmN0aW9uIHJpKGUpIHt2YXIgdCA9IGUuYWx0ZXJuYXRlO3JldHVybiBlID09PSBtbyB8fCBudWxsICE9PSB0ICYmIHQgPT09IG1vfWZ1bmN0aW9uIGxpKGUsIHQpIHtibyA9IHlvID0gITA7dmFyIG4gPSBlLnBlbmRpbmc7bnVsbCA9PT0gbiA/IHQubmV4dCA9IHQgOiAodC5uZXh0ID0gbi5uZXh0LCBuLm5leHQgPSB0KSwgZS5wZW5kaW5nID0gdH1mdW5jdGlvbiBhaShlLCB0LCBuKSB7aWYgKDAgIT09ICg0MTk0MjQwICYgbikpIHt2YXIgciA9IHQubGFuZXM7biB8PSByICY9IGUucGVuZGluZ0xhbmVzLCB0LmxhbmVzID0gbiwgeXQoZSwgbil9fXZhciBvaSA9IHtyZWFkQ29udGV4dDogRWEsdXNlQ2FsbGJhY2s6IHhvLHVzZUNvbnRleHQ6IHhvLHVzZUVmZmVjdDogeG8sdXNlSW1wZXJhdGl2ZUhhbmRsZTogeG8sdXNlSW5zZXJ0aW9uRWZmZWN0OiB4byx1c2VMYXlvdXRFZmZlY3Q6IHhvLHVzZU1lbW86IHhvLHVzZVJlZHVjZXI6IHhvLHVzZVJlZjogeG8sdXNlU3RhdGU6IHhvLHVzZURlYnVnVmFsdWU6IHhvLHVzZURlZmVycmVkVmFsdWU6IHhvLHVzZVRyYW5zaXRpb246IHhvLHVzZU11dGFibGVTb3VyY2U6IHhvLHVzZVN5bmNFeHRlcm5hbFN0b3JlOiB4byx1c2VJZDogeG8sdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiAhMX0saWkgPSB7cmVhZENvbnRleHQ6IEVhLHVzZUNhbGxiYWNrOiBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIF9vKCkubWVtb2l6ZWRTdGF0ZSA9IFtlLCB2b2lkIDAgPT09IHQgPyBudWxsIDogdF0sIGV9LHVzZUNvbnRleHQ6IEVhLHVzZUVmZmVjdDogVW8sdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24oZSwgdCwgbikge3JldHVybiBuID0gbnVsbCAhPT0gbiAmJiB2b2lkIDAgIT09IG4gPyBuLmNvbmNhdChbZV0pIDogbnVsbCwgSW8oNDE5NDMwOCwgNCwgWm8uYmluZChudWxsLCB0LCBlKSwgbil9LHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24oZSwgdCkge3JldHVybiBJbyg0MTk0MzA4LCA0LCBlLCB0KX0sdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIElvKDQsIDIsIGUsIHQpfSx1c2VNZW1vOiBmdW5jdGlvbihlLCB0KSB7dmFyIG4gPSBfbygpO3JldHVybiB0ID0gdm9pZCAwID09PSB0ID8gbnVsbCA6IHQsIGUgPSBlKCksIG4ubWVtb2l6ZWRTdGF0ZSA9IFtlLCB0XSwgZX0sdXNlUmVkdWNlcjogZnVuY3Rpb24oZSwgdCwgbikge3ZhciByID0gX28oKTtyZXR1cm4gdCA9IHZvaWQgMCAhPT0gbiA/IG4odCkgOiB0LCByLm1lbW9pemVkU3RhdGUgPSByLmJhc2VTdGF0ZSA9IHQsIGUgPSB7cGVuZGluZzogbnVsbCxpbnRlcmxlYXZlZDogbnVsbCxsYW5lczogMCxkaXNwYXRjaDogbnVsbCxsYXN0UmVuZGVyZWRSZWR1Y2VyOiBlLGxhc3RSZW5kZXJlZFN0YXRlOiB0fSwgci5xdWV1ZSA9IGUsIGUgPSBlLmRpc3BhdGNoID0gdGkuYmluZChudWxsLCBtbywgZSksIFtyLm1lbW9pemVkU3RhdGUsIGVdfSx1c2VSZWY6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gZSA9IHtjdXJyZW50OiBlfSwgX28oKS5tZW1vaXplZFN0YXRlID0gZX0sdXNlU3RhdGU6IEJvLHVzZURlYnVnVmFsdWU6IHFvLHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gX28oKS5tZW1vaXplZFN0YXRlID0gZX0sdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24oKSB7dmFyIGUgPSBCbyghMSksdCA9IGVbMF07cmV0dXJuIGUgPSBKby5iaW5kKG51bGwsIGVbMV0pLCBfbygpLm1lbW9pemVkU3RhdGUgPSBlLCBbdCwgZV19LHVzZU11dGFibGVTb3VyY2U6IGZ1bmN0aW9uKCkge30sdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uKGUsIHQsIG4pIHt2YXIgciA9IG1vLGwgPSBfbygpO2lmIChsYSkge2lmICh2b2lkIDAgPT09IG4pIHRocm93IEVycm9yKGEoNDA3KSk7biA9IG4oKX0gZWxzZSB7aWYgKG4gPSB0KCksIG51bGwgPT09IHp1KSB0aHJvdyBFcnJvcihhKDM0OSkpOzAgIT09ICgzMCAmIGhvKSB8fCBUbyhyLCB0LCBuKX1sLm1lbW9pemVkU3RhdGUgPSBuO3ZhciBvID0ge3ZhbHVlOiBuLGdldFNuYXBzaG90OiB0fTtyZXR1cm4gbC5xdWV1ZSA9IG8sIFVvKEhvLmJpbmQobnVsbCwgciwgbywgZSksIFtlXSksIHIuZmxhZ3MgfD0gMjA0OCwgUm8oOSwgVm8uYmluZChudWxsLCByLCBvLCBuLCB0KSwgdm9pZCAwLCBudWxsKSwgbn0sdXNlSWQ6IGZ1bmN0aW9uKCkge3ZhciBlID0gX28oKSx0ID0genUuaWRlbnRpZmllclByZWZpeDtpZiAobGEpIHt2YXIgbiA9IFhsO3QgPSAiOiIgKyB0ICsgIlIiICsgKG4gPSAoWWwgJiB+KDEgPDwgMzIgLSBvdChZbCkgLSAxKSkudG9TdHJpbmcoMzIpICsgbiksIDAgPCAobiA9IGtvKyspICYmICh0ICs9ICJIIiArIG4udG9TdHJpbmcoMzIpKSwgdCArPSAiOiJ9IGVsc2UgdCA9ICI6IiArIHQgKyAiciIgKyAobiA9IHdvKyspLnRvU3RyaW5nKDMyKSArICI6IjtyZXR1cm4gZS5tZW1vaXplZFN0YXRlID0gdH0sdW5zdGFibGVfaXNOZXdSZWNvbmNpbGVyOiAhMX0sdWkgPSB7cmVhZENvbnRleHQ6IEVhLHVzZUNhbGxiYWNrOiBZbyx1c2VDb250ZXh0OiBFYSx1c2VFZmZlY3Q6IFFvLHVzZUltcGVyYXRpdmVIYW5kbGU6IEtvLHVzZUluc2VydGlvbkVmZmVjdDogV28sdXNlTGF5b3V0RWZmZWN0OiAkbyx1c2VNZW1vOiBYbyx1c2VSZWR1Y2VyOiBMbyx1c2VSZWY6IE9vLHVzZVN0YXRlOiBmdW5jdGlvbigpIHtyZXR1cm4gTG8oUG8pfSx1c2VEZWJ1Z1ZhbHVlOiBxbyx1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbihlKSB7cmV0dXJuIEdvKE5vKCksIHZvLm1lbW9pemVkU3RhdGUsIGUpfSx1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbigpIHtyZXR1cm4gW0xvKFBvKVswXSwgTm8oKS5tZW1vaXplZFN0YXRlXX0sdXNlTXV0YWJsZVNvdXJjZTogTW8sdXNlU3luY0V4dGVybmFsU3RvcmU6IEZvLHVzZUlkOiBlaSx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ICExfSxzaSA9IHtyZWFkQ29udGV4dDogRWEsdXNlQ2FsbGJhY2s6IFlvLHVzZUNvbnRleHQ6IEVhLHVzZUVmZmVjdDogUW8sdXNlSW1wZXJhdGl2ZUhhbmRsZTogS28sdXNlSW5zZXJ0aW9uRWZmZWN0OiBXbyx1c2VMYXlvdXRFZmZlY3Q6ICRvLHVzZU1lbW86IFhvLHVzZVJlZHVjZXI6IHpvLHVzZVJlZjogT28sdXNlU3RhdGU6IGZ1bmN0aW9uKCkge3JldHVybiB6byhQbyl9LHVzZURlYnVnVmFsdWU6IHFvLHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uKGUpIHt2YXIgdCA9IE5vKCk7cmV0dXJuIG51bGwgPT09IHZvID8gdC5tZW1vaXplZFN0YXRlID0gZSA6IEdvKHQsIHZvLm1lbW9pemVkU3RhdGUsIGUpfSx1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbigpIHtyZXR1cm4gW3pvKFBvKVswXSwgTm8oKS5tZW1vaXplZFN0YXRlXX0sdXNlTXV0YWJsZVNvdXJjZTogTW8sdXNlU3luY0V4dGVybmFsU3RvcmU6IEZvLHVzZUlkOiBlaSx1bnN0YWJsZV9pc05ld1JlY29uY2lsZXI6ICExfTtmdW5jdGlvbiBjaShlLCB0KSB7dHJ5IHt2YXIgbiA9ICIiLHIgPSB0O2RvIHtuICs9IEkociksIHIgPSByLnJldHVybn0gd2hpbGUgKHIpO3ZhciBsID0gbn0gY2F0Y2ggKGEpIHtsID0gIlxuRXJyb3IgZ2VuZXJhdGluZyBzdGFjazogIiArIGEubWVzc2FnZSArICJcbiIgKyBhLnN0YWNrfXJldHVybiB7dmFsdWU6IGUsc291cmNlOiB0LHN0YWNrOiBsLGRpZ2VzdDogbnVsbH19ZnVuY3Rpb24gZmkoZSwgdCwgbikge3JldHVybiB7dmFsdWU6IGUsc291cmNlOiBudWxsLHN0YWNrOiBudWxsICE9IG4gPyBuIDogbnVsbCxkaWdlc3Q6IG51bGwgIT0gdCA/IHQgOiBudWxsfX1mdW5jdGlvbiBkaShlLCB0KSB7dHJ5IHtjb25zb2xlLmVycm9yKHQudmFsdWUpfSBjYXRjaCAobikge3NldFRpbWVvdXQoKGZ1bmN0aW9uKCkge3Rocm93IG59KSl9fXZhciBwaSA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcDtmdW5jdGlvbiBoaShlLCB0LCBuKSB7KG4gPSBUYSgtMSwgbikpLnRhZyA9IDMsIG4ucGF5bG9hZCA9IHtlbGVtZW50OiBudWxsfTt2YXIgciA9IHQudmFsdWU7cmV0dXJuIG4uY2FsbGJhY2sgPSBmdW5jdGlvbigpIHtXdSB8fCAoV3UgPSAhMCwgJHUgPSByKSwgZGkoMCwgdCl9LCBufWZ1bmN0aW9uIG1pKGUsIHQsIG4pIHsobiA9IFRhKC0xLCBuKSkudGFnID0gMzt2YXIgciA9IGUudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiByKSB7dmFyIGwgPSB0LnZhbHVlO24ucGF5bG9hZCA9IGZ1bmN0aW9uKCkge3JldHVybiByKGwpfSwgbi5jYWxsYmFjayA9IGZ1bmN0aW9uKCkge2RpKDAsIHQpfX12YXIgYSA9IGUuc3RhdGVOb2RlO3JldHVybiBudWxsICE9PSBhICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBhLmNvbXBvbmVudERpZENhdGNoICYmIChuLmNhbGxiYWNrID0gZnVuY3Rpb24oKSB7ZGkoMCwgdCksICJmdW5jdGlvbiIgIT09IHR5cGVvZiByICYmIChudWxsID09PSBadSA/IFp1ID0gbmV3IFNldChbdGhpc10pIDogWnUuYWRkKHRoaXMpKTt2YXIgZSA9IHQuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaCh0LnZhbHVlLCB7Y29tcG9uZW50U3RhY2s6IG51bGwgIT09IGUgPyBlIDogIiJ9KX0pLCBufWZ1bmN0aW9uIHZpKGUsIHQsIG4pIHt2YXIgciA9IGUucGluZ0NhY2hlO2lmIChudWxsID09PSByKSB7ciA9IGUucGluZ0NhY2hlID0gbmV3IHBpO3ZhciBsID0gbmV3IFNldDtyLnNldCh0LCBsKX0gZWxzZSB2b2lkIDAgPT09IChsID0gci5nZXQodCkpICYmIChsID0gbmV3IFNldCwgci5zZXQodCwgbCkpO2wuaGFzKG4pIHx8IChsLmFkZChuKSwgZSA9IF9zLmJpbmQobnVsbCwgZSwgdCwgbiksIHQudGhlbihlLCBlKSl9ZnVuY3Rpb24gZ2koZSkge2RvIHt2YXIgdDtpZiAoKHQgPSAxMyA9PT0gZS50YWcpICYmICh0ID0gbnVsbCA9PT0gKHQgPSBlLm1lbW9pemVkU3RhdGUpIHx8IG51bGwgIT09IHQuZGVoeWRyYXRlZCksIHQpIHJldHVybiBlO2UgPSBlLnJldHVybn0gd2hpbGUgKG51bGwgIT09IGUpO3JldHVybiBudWxsfWZ1bmN0aW9uIHlpKGUsIHQsIG4sIHIsIGwpIHtyZXR1cm4gMCA9PT0gKDEgJiBlLm1vZGUpID8gKGUgPT09IHQgPyBlLmZsYWdzIHw9IDY1NTM2IDogKGUuZmxhZ3MgfD0gMTI4LCBuLmZsYWdzIHw9IDEzMTA3Miwgbi5mbGFncyAmPSAtNTI4MDUsIDEgPT09IG4udGFnICYmIChudWxsID09PSBuLmFsdGVybmF0ZSA/IG4udGFnID0gMTcgOiAoKHQgPSBUYSgtMSwgMSkpLnRhZyA9IDIsIFZhKG4sIHQsIDEpKSksIG4ubGFuZXMgfD0gMSksIGUpIDogKGUuZmxhZ3MgfD0gNjU1MzYsIGUubGFuZXMgPSBsLCBlKX12YXIgYmkgPSBrLlJlYWN0Q3VycmVudE93bmVyLGtpID0gITE7ZnVuY3Rpb24gd2koZSwgdCwgbiwgcikge3QuY2hpbGQgPSBudWxsID09PSBlID8gWGEodCwgbnVsbCwgbiwgcikgOiBZYSh0LCBlLmNoaWxkLCBuLCByKX1mdW5jdGlvbiB4aShlLCB0LCBuLCByLCBsKSB7biA9IG4ucmVuZGVyO3ZhciBhID0gdC5yZWY7cmV0dXJuIENhKHQsIGwpLCByID0gQ28oZSwgdCwgbiwgciwgYSwgbCksIG4gPSBFbygpLCBudWxsID09PSBlIHx8IGtpID8gKGxhICYmIG4gJiYgZWEodCksIHQuZmxhZ3MgfD0gMSwgd2koZSwgdCwgciwgbCksIHQuY2hpbGQpIDogKHQudXBkYXRlUXVldWUgPSBlLnVwZGF0ZVF1ZXVlLCB0LmZsYWdzICY9IC0yMDUzLCBlLmxhbmVzICY9IH5sLCBXaShlLCB0LCBsKSl9ZnVuY3Rpb24gU2koZSwgdCwgbiwgciwgbCkge2lmIChudWxsID09PSBlKSB7dmFyIGEgPSBuLnR5cGU7cmV0dXJuICJmdW5jdGlvbiIgIT09IHR5cGVvZiBhIHx8IFRzKGEpIHx8IHZvaWQgMCAhPT0gYS5kZWZhdWx0UHJvcHMgfHwgbnVsbCAhPT0gbi5jb21wYXJlIHx8IHZvaWQgMCAhPT0gbi5kZWZhdWx0UHJvcHMgPyAoKGUgPSBIcyhuLnR5cGUsIG51bGwsIHIsIHQsIHQubW9kZSwgbCkpLnJlZiA9IHQucmVmLCBlLnJldHVybiA9IHQsIHQuY2hpbGQgPSBlKSA6ICh0LnRhZyA9IDE1LCB0LnR5cGUgPSBhLCBDaShlLCB0LCBhLCByLCBsKSl9aWYgKGEgPSBlLmNoaWxkLCAwID09PSAoZS5sYW5lcyAmIGwpKSB7dmFyIG8gPSBhLm1lbW9pemVkUHJvcHM7aWYgKChuID0gbnVsbCAhPT0gKG4gPSBuLmNvbXBhcmUpID8gbiA6IHVyKShvLCByKSAmJiBlLnJlZiA9PT0gdC5yZWYpIHJldHVybiBXaShlLCB0LCBsKX1yZXR1cm4gdC5mbGFncyB8PSAxLCAoZSA9IFZzKGEsIHIpKS5yZWYgPSB0LnJlZiwgZS5yZXR1cm4gPSB0LCB0LmNoaWxkID0gZX1mdW5jdGlvbiBDaShlLCB0LCBuLCByLCBsKSB7aWYgKG51bGwgIT09IGUpIHt2YXIgYSA9IGUubWVtb2l6ZWRQcm9wcztpZiAodXIoYSwgcikgJiYgZS5yZWYgPT09IHQucmVmKSB7aWYgKGtpID0gITEsIHQucGVuZGluZ1Byb3BzID0gciA9IGEsIDAgPT09IChlLmxhbmVzICYgbCkpIHJldHVybiB0LmxhbmVzID0gZS5sYW5lcywgV2koZSwgdCwgbCk7MCAhPT0gKDEzMTA3MiAmIGUuZmxhZ3MpICYmIChraSA9ICEwKX19cmV0dXJuIE5pKGUsIHQsIG4sIHIsIGwpfWZ1bmN0aW9uIEVpKGUsIHQsIG4pIHt2YXIgciA9IHQucGVuZGluZ1Byb3BzLGwgPSByLmNoaWxkcmVuLGEgPSBudWxsICE9PSBlID8gZS5tZW1vaXplZFN0YXRlIDogbnVsbDtpZiAoImhpZGRlbiIgPT09IHIubW9kZSlpZiAoMCA9PT0gKDEgJiB0Lm1vZGUpKSB0Lm1lbW9pemVkU3RhdGUgPSB7YmFzZUxhbmVzOiAwLGNhY2hlUG9vbDogbnVsbCx0cmFuc2l0aW9uczogbnVsbH0sIF9sKFZ1LCBUdSksIFR1IHw9IG47ZWxzZSB7aWYgKDAgPT09ICgxMDczNzQxODI0ICYgbikpIHJldHVybiBlID0gbnVsbCAhPT0gYSA/IGEuYmFzZUxhbmVzIHwgbiA6IG4sIHQubGFuZXMgPSB0LmNoaWxkTGFuZXMgPSAxMDczNzQxODI0LCB0Lm1lbW9pemVkU3RhdGUgPSB7YmFzZUxhbmVzOiBlLGNhY2hlUG9vbDogbnVsbCx0cmFuc2l0aW9uczogbnVsbH0sIHQudXBkYXRlUXVldWUgPSBudWxsLCBfbChWdSwgVHUpLCBUdSB8PSBlLCBudWxsO3QubWVtb2l6ZWRTdGF0ZSA9IHtiYXNlTGFuZXM6IDAsY2FjaGVQb29sOiBudWxsLHRyYW5zaXRpb25zOiBudWxsfSwgciA9IG51bGwgIT09IGEgPyBhLmJhc2VMYW5lcyA6IG4sIF9sKFZ1LCBUdSksIFR1IHw9IHJ9ZWxzZSBudWxsICE9PSBhID8gKHIgPSBhLmJhc2VMYW5lcyB8IG4sIHQubWVtb2l6ZWRTdGF0ZSA9IG51bGwpIDogciA9IG4sIF9sKFZ1LCBUdSksIFR1IHw9IHI7cmV0dXJuIHdpKGUsIHQsIGwsIG4pLCB0LmNoaWxkfWZ1bmN0aW9uIF9pKGUsIHQpIHt2YXIgbiA9IHQucmVmOyhudWxsID09PSBlICYmIG51bGwgIT09IG4gfHwgbnVsbCAhPT0gZSAmJiBlLnJlZiAhPT0gbikgJiYgKHQuZmxhZ3MgfD0gNTEyLCB0LmZsYWdzIHw9IDIwOTcxNTIpfWZ1bmN0aW9uIE5pKGUsIHQsIG4sIHIsIGwpIHt2YXIgYSA9IEZsKG4pID8gemwgOiBQbC5jdXJyZW50O3JldHVybiBhID0gTWwodCwgYSksIENhKHQsIGwpLCBuID0gQ28oZSwgdCwgbiwgciwgYSwgbCksIHIgPSBFbygpLCBudWxsID09PSBlIHx8IGtpID8gKGxhICYmIHIgJiYgZWEodCksIHQuZmxhZ3MgfD0gMSwgd2koZSwgdCwgbiwgbCksIHQuY2hpbGQpIDogKHQudXBkYXRlUXVldWUgPSBlLnVwZGF0ZVF1ZXVlLCB0LmZsYWdzICY9IC0yMDUzLCBlLmxhbmVzICY9IH5sLCBXaShlLCB0LCBsKSl9ZnVuY3Rpb24gUGkoZSwgdCwgbiwgciwgbCkge2lmIChGbChuKSkge3ZhciBhID0gITA7amwodCl9IGVsc2UgYSA9ICExO2lmIChDYSh0LCBsKSwgbnVsbCA9PT0gdC5zdGF0ZU5vZGUpIFFpKGUsIHQpLCBVYSh0LCBuLCByKSwgV2EodCwgbiwgciwgbCksIHIgPSAhMDtlbHNlIGlmIChudWxsID09PSBlKSB7dmFyIG8gPSB0LnN0YXRlTm9kZSxpID0gdC5tZW1vaXplZFByb3BzO28ucHJvcHMgPSBpO3ZhciB1ID0gby5jb250ZXh0LHMgPSBuLmNvbnRleHRUeXBlOyJvYmplY3QiID09PSB0eXBlb2YgcyAmJiBudWxsICE9PSBzID8gcyA9IEVhKHMpIDogcyA9IE1sKHQsIHMgPSBGbChuKSA/IHpsIDogUGwuY3VycmVudCk7dmFyIGMgPSBuLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxmID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGMgfHwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8uZ2V0U25hcHNob3RCZWZvcmVVcGRhdGU7ZiB8fCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJiAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHx8IChpICE9PSByIHx8IHUgIT09IHMpICYmIFFhKHQsIG8sIHIsIHMpLCB6YSA9ICExO3ZhciBkID0gdC5tZW1vaXplZFN0YXRlO28uc3RhdGUgPSBkLCBEYSh0LCByLCBvLCBsKSwgdSA9IHQubWVtb2l6ZWRTdGF0ZSwgaSAhPT0gciB8fCBkICE9PSB1IHx8IExsLmN1cnJlbnQgfHwgemEgPyAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGMgJiYgKE9hKHQsIG4sIGMsIHIpLCB1ID0gdC5tZW1vaXplZFN0YXRlKSwgKGkgPSB6YSB8fCBBYSh0LCBuLCBpLCByLCBkLCB1LCBzKSkgPyAoZiB8fCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmICJmdW5jdGlvbiIgIT09IHR5cGVvZiBvLmNvbXBvbmVudFdpbGxNb3VudCB8fCAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8uY29tcG9uZW50V2lsbE1vdW50ICYmIG8uY29tcG9uZW50V2lsbE1vdW50KCksICJmdW5jdGlvbiIgPT09IHR5cGVvZiBvLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiYgby5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLCAiZnVuY3Rpb24iID09PSB0eXBlb2Ygby5jb21wb25lbnREaWRNb3VudCAmJiAodC5mbGFncyB8PSA0MTk0MzA4KSkgOiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8uY29tcG9uZW50RGlkTW91bnQgJiYgKHQuZmxhZ3MgfD0gNDE5NDMwOCksIHQubWVtb2l6ZWRQcm9wcyA9IHIsIHQubWVtb2l6ZWRTdGF0ZSA9IHUpLCBvLnByb3BzID0gciwgby5zdGF0ZSA9IHUsIG8uY29udGV4dCA9IHMsIHIgPSBpKSA6ICgiZnVuY3Rpb24iID09PSB0eXBlb2Ygby5jb21wb25lbnREaWRNb3VudCAmJiAodC5mbGFncyB8PSA0MTk0MzA4KSwgciA9ICExKX0gZWxzZSB7byA9IHQuc3RhdGVOb2RlLCBGYShlLCB0KSwgaSA9IHQubWVtb2l6ZWRQcm9wcywgcyA9IHQudHlwZSA9PT0gdC5lbGVtZW50VHlwZSA/IGkgOiB2YSh0LnR5cGUsIGkpLCBvLnByb3BzID0gcywgZiA9IHQucGVuZGluZ1Byb3BzLCBkID0gby5jb250ZXh0LCAib2JqZWN0IiA9PT0gdHlwZW9mKHUgPSBuLmNvbnRleHRUeXBlKSAmJiBudWxsICE9PSB1ID8gdSA9IEVhKHUpIDogdSA9IE1sKHQsIHUgPSBGbChuKSA/IHpsIDogUGwuY3VycmVudCk7dmFyIHAgPSBuLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczsoYyA9ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBwIHx8ICJmdW5jdGlvbiIgPT09IHR5cGVvZiBvLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKSB8fCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJiAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHx8IChpICE9PSBmIHx8IGQgIT09IHUpICYmIFFhKHQsIG8sIHIsIHUpLCB6YSA9ICExLCBkID0gdC5tZW1vaXplZFN0YXRlLCBvLnN0YXRlID0gZCwgRGEodCwgciwgbywgbCk7dmFyIGggPSB0Lm1lbW9pemVkU3RhdGU7aSAhPT0gZiB8fCBkICE9PSBoIHx8IExsLmN1cnJlbnQgfHwgemEgPyAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHAgJiYgKE9hKHQsIG4sIHAsIHIpLCBoID0gdC5tZW1vaXplZFN0YXRlKSwgKHMgPSB6YSB8fCBBYSh0LCBuLCBzLCByLCBkLCBoLCB1KSB8fCAhMSkgPyAoYyB8fCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJiAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5jb21wb25lbnRXaWxsVXBkYXRlIHx8ICgiZnVuY3Rpb24iID09PSB0eXBlb2Ygby5jb21wb25lbnRXaWxsVXBkYXRlICYmIG8uY29tcG9uZW50V2lsbFVwZGF0ZShyLCBoLCB1KSwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8uVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiYgby5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShyLCBoLCB1KSksICJmdW5jdGlvbiIgPT09IHR5cGVvZiBvLmNvbXBvbmVudERpZFVwZGF0ZSAmJiAodC5mbGFncyB8PSA0KSwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG8uZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgJiYgKHQuZmxhZ3MgfD0gMTAyNCkpIDogKCJmdW5jdGlvbiIgIT09IHR5cGVvZiBvLmNvbXBvbmVudERpZFVwZGF0ZSB8fCBpID09PSBlLm1lbW9pemVkUHJvcHMgJiYgZCA9PT0gZS5tZW1vaXplZFN0YXRlIHx8ICh0LmZsYWdzIHw9IDQpLCAiZnVuY3Rpb24iICE9PSB0eXBlb2Ygby5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fCBpID09PSBlLm1lbW9pemVkUHJvcHMgJiYgZCA9PT0gZS5tZW1vaXplZFN0YXRlIHx8ICh0LmZsYWdzIHw9IDEwMjQpLCB0Lm1lbW9pemVkUHJvcHMgPSByLCB0Lm1lbW9pemVkU3RhdGUgPSBoKSwgby5wcm9wcyA9IHIsIG8uc3RhdGUgPSBoLCBvLmNvbnRleHQgPSB1LCByID0gcykgOiAoImZ1bmN0aW9uIiAhPT0gdHlwZW9mIG8uY29tcG9uZW50RGlkVXBkYXRlIHx8IGkgPT09IGUubWVtb2l6ZWRQcm9wcyAmJiBkID09PSBlLm1lbW9pemVkU3RhdGUgfHwgKHQuZmxhZ3MgfD0gNCksICJmdW5jdGlvbiIgIT09IHR5cGVvZiBvLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8IGkgPT09IGUubWVtb2l6ZWRQcm9wcyAmJiBkID09PSBlLm1lbW9pemVkU3RhdGUgfHwgKHQuZmxhZ3MgfD0gMTAyNCksIHIgPSAhMSl9cmV0dXJuIExpKGUsIHQsIG4sIHIsIGEsIGwpfWZ1bmN0aW9uIExpKGUsIHQsIG4sIHIsIGwsIGEpIHtfaShlLCB0KTt2YXIgbyA9IDAgIT09ICgxMjggJiB0LmZsYWdzKTtpZiAoIXIgJiYgIW8pIHJldHVybiBsICYmIERsKHQsIG4sICExKSwgV2koZSwgdCwgYSk7ciA9IHQuc3RhdGVOb2RlLCBiaS5jdXJyZW50ID0gdDt2YXIgaSA9IG8gJiYgImZ1bmN0aW9uIiAhPT0gdHlwZW9mIG4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yID8gbnVsbCA6IHIucmVuZGVyKCk7cmV0dXJuIHQuZmxhZ3MgfD0gMSwgbnVsbCAhPT0gZSAmJiBvID8gKHQuY2hpbGQgPSBZYSh0LCBlLmNoaWxkLCBudWxsLCBhKSwgdC5jaGlsZCA9IFlhKHQsIG51bGwsIGksIGEpKSA6IHdpKGUsIHQsIGksIGEpLCB0Lm1lbW9pemVkU3RhdGUgPSByLnN0YXRlLCBsICYmIERsKHQsIG4sICEwKSwgdC5jaGlsZH1mdW5jdGlvbiB6aShlKSB7dmFyIHQgPSBlLnN0YXRlTm9kZTt0LnBlbmRpbmdDb250ZXh0ID8gVmwoMCwgdC5wZW5kaW5nQ29udGV4dCwgdC5wZW5kaW5nQ29udGV4dCAhPT0gdC5jb250ZXh0KSA6IHQuY29udGV4dCAmJiBWbCgwLCB0LmNvbnRleHQsICExKSwgcm8oZSwgdC5jb250YWluZXJJbmZvKX1mdW5jdGlvbiBNaShlLCB0LCBuLCByLCBsKSB7cmV0dXJuIHBhKCksIGhhKGwpLCB0LmZsYWdzIHw9IDI1Niwgd2koZSwgdCwgbiwgciksIHQuY2hpbGR9dmFyIEZpLCBUaSwgVmksIEhpLCBqaSA9IHtkZWh5ZHJhdGVkOiBudWxsLHRyZWVDb250ZXh0OiBudWxsLHJldHJ5TGFuZTogMH07ZnVuY3Rpb24gRGkoZSkge3JldHVybiB7YmFzZUxhbmVzOiBlLGNhY2hlUG9vbDogbnVsbCx0cmFuc2l0aW9uczogbnVsbH19ZnVuY3Rpb24gQmkoZSwgdCwgbikge3ZhciByLCBsID0gdC5wZW5kaW5nUHJvcHMsbyA9IGlvLmN1cnJlbnQsaSA9ICExLHUgPSAwICE9PSAoMTI4ICYgdC5mbGFncyk7aWYgKChyID0gdSkgfHwgKHIgPSAobnVsbCA9PT0gZSB8fCBudWxsICE9PSBlLm1lbW9pemVkU3RhdGUpICYmIDAgIT09ICgyICYgbykpLCByID8gKGkgPSAhMCwgdC5mbGFncyAmPSAtMTI5KSA6IG51bGwgIT09IGUgJiYgbnVsbCA9PT0gZS5tZW1vaXplZFN0YXRlIHx8IChvIHw9IDEpLCBfbChpbywgMSAmIG8pLCBudWxsID09PSBlKSByZXR1cm4gc2EodCksIG51bGwgIT09IChlID0gdC5tZW1vaXplZFN0YXRlKSAmJiBudWxsICE9PSAoZSA9IGUuZGVoeWRyYXRlZCkgPyAoMCA9PT0gKDEgJiB0Lm1vZGUpID8gdC5sYW5lcyA9IDEgOiAiJCEiID09PSBlLmRhdGEgPyB0LmxhbmVzID0gOCA6IHQubGFuZXMgPSAxMDczNzQxODI0LCBudWxsKSA6ICh1ID0gbC5jaGlsZHJlbiwgZSA9IGwuZmFsbGJhY2ssIGkgPyAobCA9IHQubW9kZSwgaSA9IHQuY2hpbGQsIHUgPSB7bW9kZTogImhpZGRlbiIsY2hpbGRyZW46IHV9LCAwID09PSAoMSAmIGwpICYmIG51bGwgIT09IGkgPyAoaS5jaGlsZExhbmVzID0gMCwgaS5wZW5kaW5nUHJvcHMgPSB1KSA6IGkgPSBEcyh1LCBsLCAwLCBudWxsKSwgZSA9IGpzKGUsIGwsIG4sIG51bGwpLCBpLnJldHVybiA9IHQsIGUucmV0dXJuID0gdCwgaS5zaWJsaW5nID0gZSwgdC5jaGlsZCA9IGksIHQuY2hpbGQubWVtb2l6ZWRTdGF0ZSA9IERpKG4pLCB0Lm1lbW9pemVkU3RhdGUgPSBqaSwgZSkgOiBSaSh0LCB1KSk7aWYgKG51bGwgIT09IChvID0gZS5tZW1vaXplZFN0YXRlKSAmJiBudWxsICE9PSAociA9IG8uZGVoeWRyYXRlZCkpIHJldHVybiBmdW5jdGlvbihlLCB0LCBuLCByLCBsLCBvLCBpKSB7aWYgKG4pIHJldHVybiAyNTYgJiB0LmZsYWdzID8gKHQuZmxhZ3MgJj0gLTI1NywgT2koZSwgdCwgaSwgciA9IGZpKEVycm9yKGEoNDIyKSkpKSkgOiBudWxsICE9PSB0Lm1lbW9pemVkU3RhdGUgPyAodC5jaGlsZCA9IGUuY2hpbGQsIHQuZmxhZ3MgfD0gMTI4LCBudWxsKSA6IChvID0gci5mYWxsYmFjaywgbCA9IHQubW9kZSwgciA9IERzKHttb2RlOiAidmlzaWJsZSIsY2hpbGRyZW46IHIuY2hpbGRyZW59LCBsLCAwLCBudWxsKSwgKG8gPSBqcyhvLCBsLCBpLCBudWxsKSkuZmxhZ3MgfD0gMiwgci5yZXR1cm4gPSB0LCBvLnJldHVybiA9IHQsIHIuc2libGluZyA9IG8sIHQuY2hpbGQgPSByLCAwICE9PSAoMSAmIHQubW9kZSkgJiYgWWEodCwgZS5jaGlsZCwgbnVsbCwgaSksIHQuY2hpbGQubWVtb2l6ZWRTdGF0ZSA9IERpKGkpLCB0Lm1lbW9pemVkU3RhdGUgPSBqaSwgbyk7aWYgKDAgPT09ICgxICYgdC5tb2RlKSkgcmV0dXJuIE9pKGUsIHQsIGksIG51bGwpO2lmICgiJCEiID09PSBsLmRhdGEpIHtpZiAociA9IGwubmV4dFNpYmxpbmcgJiYgbC5uZXh0U2libGluZy5kYXRhc2V0KSB2YXIgdSA9IHIuZGdzdDtyZXR1cm4gciA9IHUsIE9pKGUsIHQsIGksIHIgPSBmaShvID0gRXJyb3IoYSg0MTkpKSwgciwgdm9pZCAwKSl9aWYgKHUgPSAwICE9PSAoaSAmIGUuY2hpbGRMYW5lcyksIGtpIHx8IHUpIHtpZiAobnVsbCAhPT0gKHIgPSB6dSkpIHtzd2l0Y2ggKGkgJiAtaSkge2Nhc2UgNDpsID0gMjticmVhaztjYXNlIDE2OmwgPSA4O2JyZWFrO2Nhc2UgNjQ6Y2FzZSAxMjg6Y2FzZSAyNTY6Y2FzZSA1MTI6Y2FzZSAxMDI0OmNhc2UgMjA0ODpjYXNlIDQwOTY6Y2FzZSA4MTkyOmNhc2UgMTYzODQ6Y2FzZSAzMjc2ODpjYXNlIDY1NTM2OmNhc2UgMTMxMDcyOmNhc2UgMjYyMTQ0OmNhc2UgNTI0Mjg4OmNhc2UgMTA0ODU3NjpjYXNlIDIwOTcxNTI6Y2FzZSA0MTk0MzA0OmNhc2UgODM4ODYwODpjYXNlIDE2Nzc3MjE2OmNhc2UgMzM1NTQ0MzI6Y2FzZSA2NzEwODg2NDpsID0gMzI7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6bCA9IDI2ODQzNTQ1NjticmVhaztkZWZhdWx0OmwgPSAwfTAgIT09IChsID0gMCAhPT0gKGwgJiAoci5zdXNwZW5kZWRMYW5lcyB8IGkpKSA/IDAgOiBsKSAmJiBsICE9PSBvLnJldHJ5TGFuZSAmJiAoby5yZXRyeUxhbmUgPSBsLCBMYShlLCBsKSwgcnMociwgZSwgbCwgLTEpKX1yZXR1cm4gdnMoKSwgT2koZSwgdCwgaSwgciA9IGZpKEVycm9yKGEoNDIxKSkpKX1yZXR1cm4gIiQ/IiA9PT0gbC5kYXRhID8gKHQuZmxhZ3MgfD0gMTI4LCB0LmNoaWxkID0gZS5jaGlsZCwgdCA9IFBzLmJpbmQobnVsbCwgZSksIGwuX3JlYWN0UmV0cnkgPSB0LCBudWxsKSA6IChlID0gby50cmVlQ29udGV4dCwgcmEgPSBzbChsLm5leHRTaWJsaW5nKSwgbmEgPSB0LCBsYSA9ICEwLCBhYSA9IG51bGwsIG51bGwgIT09IGUgJiYgKFpsW0tsKytdID0gWWwsIFpsW0tsKytdID0gWGwsIFpsW0tsKytdID0gcWwsIFlsID0gZS5pZCwgWGwgPSBlLm92ZXJmbG93LCBxbCA9IHQpLCB0ID0gUmkodCwgci5jaGlsZHJlbiksIHQuZmxhZ3MgfD0gNDA5NiwgdCl9KGUsIHQsIHUsIGwsIHIsIG8sIG4pO2lmIChpKSB7aSA9IGwuZmFsbGJhY2ssIHUgPSB0Lm1vZGUsIHIgPSAobyA9IGUuY2hpbGQpLnNpYmxpbmc7dmFyIHMgPSB7bW9kZTogImhpZGRlbiIsY2hpbGRyZW46IGwuY2hpbGRyZW59O3JldHVybiAwID09PSAoMSAmIHUpICYmIHQuY2hpbGQgIT09IG8gPyAoKGwgPSB0LmNoaWxkKS5jaGlsZExhbmVzID0gMCwgbC5wZW5kaW5nUHJvcHMgPSBzLCB0LmRlbGV0aW9ucyA9IG51bGwpIDogKGwgPSBWcyhvLCBzKSkuc3VidHJlZUZsYWdzID0gMTQ2ODAwNjQgJiBvLnN1YnRyZWVGbGFncywgbnVsbCAhPT0gciA/IGkgPSBWcyhyLCBpKSA6IChpID0ganMoaSwgdSwgbiwgbnVsbCkpLmZsYWdzIHw9IDIsIGkucmV0dXJuID0gdCwgbC5yZXR1cm4gPSB0LCBsLnNpYmxpbmcgPSBpLCB0LmNoaWxkID0gbCwgbCA9IGksIGkgPSB0LmNoaWxkLCB1ID0gbnVsbCA9PT0gKHUgPSBlLmNoaWxkLm1lbW9pemVkU3RhdGUpID8gRGkobikgOiB7YmFzZUxhbmVzOiB1LmJhc2VMYW5lcyB8IG4sY2FjaGVQb29sOiBudWxsLHRyYW5zaXRpb25zOiB1LnRyYW5zaXRpb25zfSwgaS5tZW1vaXplZFN0YXRlID0gdSwgaS5jaGlsZExhbmVzID0gZS5jaGlsZExhbmVzICYgfm4sIHQubWVtb2l6ZWRTdGF0ZSA9IGppLCBsfXJldHVybiBlID0gKGkgPSBlLmNoaWxkKS5zaWJsaW5nLCBsID0gVnMoaSwge21vZGU6ICJ2aXNpYmxlIixjaGlsZHJlbjogbC5jaGlsZHJlbn0pLCAwID09PSAoMSAmIHQubW9kZSkgJiYgKGwubGFuZXMgPSBuKSwgbC5yZXR1cm4gPSB0LCBsLnNpYmxpbmcgPSBudWxsLCBudWxsICE9PSBlICYmIChudWxsID09PSAobiA9IHQuZGVsZXRpb25zKSA/ICh0LmRlbGV0aW9ucyA9IFtlXSwgdC5mbGFncyB8PSAxNikgOiBuLnB1c2goZSkpLCB0LmNoaWxkID0gbCwgdC5tZW1vaXplZFN0YXRlID0gbnVsbCwgbH1mdW5jdGlvbiBSaShlLCB0KSB7cmV0dXJuICh0ID0gRHMoe21vZGU6ICJ2aXNpYmxlIixjaGlsZHJlbjogdH0sIGUubW9kZSwgMCwgbnVsbCkpLnJldHVybiA9IGUsIGUuY2hpbGQgPSB0fWZ1bmN0aW9uIE9pKGUsIHQsIG4sIHIpIHtyZXR1cm4gbnVsbCAhPT0gciAmJiBoYShyKSwgWWEodCwgZS5jaGlsZCwgbnVsbCwgbiksIChlID0gUmkodCwgdC5wZW5kaW5nUHJvcHMuY2hpbGRyZW4pKS5mbGFncyB8PSAyLCB0Lm1lbW9pemVkU3RhdGUgPSBudWxsLCBlfWZ1bmN0aW9uIElpKGUsIHQsIG4pIHtlLmxhbmVzIHw9IHQ7dmFyIHIgPSBlLmFsdGVybmF0ZTtudWxsICE9PSByICYmIChyLmxhbmVzIHw9IHQpLCBTYShlLnJldHVybiwgdCwgbil9ZnVuY3Rpb24gQWkoZSwgdCwgbiwgciwgbCkge3ZhciBhID0gZS5tZW1vaXplZFN0YXRlO251bGwgPT09IGEgPyBlLm1lbW9pemVkU3RhdGUgPSB7aXNCYWNrd2FyZHM6IHQscmVuZGVyaW5nOiBudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTogMCxsYXN0OiByLHRhaWw6IG4sdGFpbE1vZGU6IGx9IDogKGEuaXNCYWNrd2FyZHMgPSB0LCBhLnJlbmRlcmluZyA9IG51bGwsIGEucmVuZGVyaW5nU3RhcnRUaW1lID0gMCwgYS5sYXN0ID0gciwgYS50YWlsID0gbiwgYS50YWlsTW9kZSA9IGwpfWZ1bmN0aW9uIFVpKGUsIHQsIG4pIHt2YXIgciA9IHQucGVuZGluZ1Byb3BzLGwgPSByLnJldmVhbE9yZGVyLGEgPSByLnRhaWw7aWYgKHdpKGUsIHQsIHIuY2hpbGRyZW4sIG4pLCAwICE9PSAoMiAmIChyID0gaW8uY3VycmVudCkpKSByID0gMSAmIHIgfCAyLCB0LmZsYWdzIHw9IDEyODtlbHNlIHtpZiAobnVsbCAhPT0gZSAmJiAwICE9PSAoMTI4ICYgZS5mbGFncykpIGU6IGZvciAoZSA9IHQuY2hpbGQ7IG51bGwgIT09IGU7KSB7aWYgKDEzID09PSBlLnRhZykgbnVsbCAhPT0gZS5tZW1vaXplZFN0YXRlICYmIElpKGUsIG4sIHQpO2Vsc2UgaWYgKDE5ID09PSBlLnRhZykgSWkoZSwgbiwgdCk7ZWxzZSBpZiAobnVsbCAhPT0gZS5jaGlsZCkge2UuY2hpbGQucmV0dXJuID0gZSwgZSA9IGUuY2hpbGQ7Y29udGludWV9aWYgKGUgPT09IHQpIGJyZWFrIGU7Zm9yICg7IG51bGwgPT09IGUuc2libGluZzspIHtpZiAobnVsbCA9PT0gZS5yZXR1cm4gfHwgZS5yZXR1cm4gPT09IHQpIGJyZWFrIGU7ZSA9IGUucmV0dXJufWUuc2libGluZy5yZXR1cm4gPSBlLnJldHVybiwgZSA9IGUuc2libGluZ31yICY9IDF9aWYgKF9sKGlvLCByKSwgMCA9PT0gKDEgJiB0Lm1vZGUpKSB0Lm1lbW9pemVkU3RhdGUgPSBudWxsO2Vsc2Ugc3dpdGNoIChsKSB7Y2FzZSAiZm9yd2FyZHMiOmZvciAobiA9IHQuY2hpbGQsIGwgPSBudWxsOyBudWxsICE9PSBuOykgbnVsbCAhPT0gKGUgPSBuLmFsdGVybmF0ZSkgJiYgbnVsbCA9PT0gdW8oZSkgJiYgKGwgPSBuKSwgbiA9IG4uc2libGluZztudWxsID09PSAobiA9IGwpID8gKGwgPSB0LmNoaWxkLCB0LmNoaWxkID0gbnVsbCkgOiAobCA9IG4uc2libGluZywgbi5zaWJsaW5nID0gbnVsbCksIEFpKHQsICExLCBsLCBuLCBhKTticmVhaztjYXNlICJiYWNrd2FyZHMiOmZvciAobiA9IG51bGwsIGwgPSB0LmNoaWxkLCB0LmNoaWxkID0gbnVsbDsgbnVsbCAhPT0gbDspIHtpZiAobnVsbCAhPT0gKGUgPSBsLmFsdGVybmF0ZSkgJiYgbnVsbCA9PT0gdW8oZSkpIHt0LmNoaWxkID0gbDticmVha31lID0gbC5zaWJsaW5nLCBsLnNpYmxpbmcgPSBuLCBuID0gbCwgbCA9IGV9QWkodCwgITAsIG4sIG51bGwsIGEpO2JyZWFrO2Nhc2UgInRvZ2V0aGVyIjpBaSh0LCAhMSwgbnVsbCwgbnVsbCwgdm9pZCAwKTticmVhaztkZWZhdWx0OnQubWVtb2l6ZWRTdGF0ZSA9IG51bGx9cmV0dXJuIHQuY2hpbGR9ZnVuY3Rpb24gUWkoZSwgdCkgezAgPT09ICgxICYgdC5tb2RlKSAmJiBudWxsICE9PSBlICYmIChlLmFsdGVybmF0ZSA9IG51bGwsIHQuYWx0ZXJuYXRlID0gbnVsbCwgdC5mbGFncyB8PSAyKX1mdW5jdGlvbiBXaShlLCB0LCBuKSB7aWYgKG51bGwgIT09IGUgJiYgKHQuZGVwZW5kZW5jaWVzID0gZS5kZXBlbmRlbmNpZXMpLCBEdSB8PSB0LmxhbmVzLCAwID09PSAobiAmIHQuY2hpbGRMYW5lcykpIHJldHVybiBudWxsO2lmIChudWxsICE9PSBlICYmIHQuY2hpbGQgIT09IGUuY2hpbGQpIHRocm93IEVycm9yKGEoMTUzKSk7aWYgKG51bGwgIT09IHQuY2hpbGQpIHtmb3IgKG4gPSBWcyhlID0gdC5jaGlsZCwgZS5wZW5kaW5nUHJvcHMpLCB0LmNoaWxkID0gbiwgbi5yZXR1cm4gPSB0OyBudWxsICE9PSBlLnNpYmxpbmc7KSBlID0gZS5zaWJsaW5nLCAobiA9IG4uc2libGluZyA9IFZzKGUsIGUucGVuZGluZ1Byb3BzKSkucmV0dXJuID0gdDtuLnNpYmxpbmcgPSBudWxsfXJldHVybiB0LmNoaWxkfWZ1bmN0aW9uICRpKGUsIHQpIHtpZiAoIWxhKSBzd2l0Y2ggKGUudGFpbE1vZGUpIHtjYXNlICJoaWRkZW4iOnQgPSBlLnRhaWw7Zm9yICh2YXIgbiA9IG51bGw7IG51bGwgIT09IHQ7KSBudWxsICE9PSB0LmFsdGVybmF0ZSAmJiAobiA9IHQpLCB0ID0gdC5zaWJsaW5nO251bGwgPT09IG4gPyBlLnRhaWwgPSBudWxsIDogbi5zaWJsaW5nID0gbnVsbDticmVhaztjYXNlICJjb2xsYXBzZWQiOm4gPSBlLnRhaWw7Zm9yICh2YXIgciA9IG51bGw7IG51bGwgIT09IG47KSBudWxsICE9PSBuLmFsdGVybmF0ZSAmJiAociA9IG4pLCBuID0gbi5zaWJsaW5nO251bGwgPT09IHIgPyB0IHx8IG51bGwgPT09IGUudGFpbCA/IGUudGFpbCA9IG51bGwgOiBlLnRhaWwuc2libGluZyA9IG51bGwgOiByLnNpYmxpbmcgPSBudWxsfX1mdW5jdGlvbiBaaShlKSB7dmFyIHQgPSBudWxsICE9PSBlLmFsdGVybmF0ZSAmJiBlLmFsdGVybmF0ZS5jaGlsZCA9PT0gZS5jaGlsZCxuID0gMCxyID0gMDtpZiAodClmb3IgKHZhciBsID0gZS5jaGlsZDsgbnVsbCAhPT0gbDspIG4gfD0gbC5sYW5lcyB8IGwuY2hpbGRMYW5lcywgciB8PSAxNDY4MDA2NCAmIGwuc3VidHJlZUZsYWdzLCByIHw9IDE0NjgwMDY0ICYgbC5mbGFncywgbC5yZXR1cm4gPSBlLCBsID0gbC5zaWJsaW5nO2Vsc2Vmb3IgKGwgPSBlLmNoaWxkOyBudWxsICE9PSBsOykgbiB8PSBsLmxhbmVzIHwgbC5jaGlsZExhbmVzLCByIHw9IGwuc3VidHJlZUZsYWdzLCByIHw9IGwuZmxhZ3MsIGwucmV0dXJuID0gZSwgbCA9IGwuc2libGluZztyZXR1cm4gZS5zdWJ0cmVlRmxhZ3MgfD0gciwgZS5jaGlsZExhbmVzID0gbiwgdH1mdW5jdGlvbiBLaShlLCB0LCBuKSB7dmFyIHIgPSB0LnBlbmRpbmdQcm9wcztzd2l0Y2ggKHRhKHQpLCB0LnRhZykge2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBaaSh0KSwgbnVsbDtjYXNlIDE6Y2FzZSAxNzpyZXR1cm4gRmwodC50eXBlKSAmJiBUbCgpLCBaaSh0KSwgbnVsbDtjYXNlIDM6cmV0dXJuIHIgPSB0LnN0YXRlTm9kZSwgbG8oKSwgRWwoTGwpLCBFbChQbCksIGNvKCksIHIucGVuZGluZ0NvbnRleHQgJiYgKHIuY29udGV4dCA9IHIucGVuZGluZ0NvbnRleHQsIHIucGVuZGluZ0NvbnRleHQgPSBudWxsKSwgbnVsbCAhPT0gZSAmJiBudWxsICE9PSBlLmNoaWxkIHx8IChmYSh0KSA/IHQuZmxhZ3MgfD0gNCA6IG51bGwgPT09IGUgfHwgZS5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCAmJiAwID09PSAoMjU2ICYgdC5mbGFncykgfHwgKHQuZmxhZ3MgfD0gMTAyNCwgbnVsbCAhPT0gYWEgJiYgKGlzKGFhKSwgYWEgPSBudWxsKSkpLCBUaShlLCB0KSwgWmkodCksIG51bGw7Y2FzZSA1Om9vKHQpO3ZhciBsID0gbm8odG8uY3VycmVudCk7aWYgKG4gPSB0LnR5cGUsIG51bGwgIT09IGUgJiYgbnVsbCAhPSB0LnN0YXRlTm9kZSkgVmkoZSwgdCwgbiwgciwgbCksIGUucmVmICE9PSB0LnJlZiAmJiAodC5mbGFncyB8PSA1MTIsIHQuZmxhZ3MgfD0gMjA5NzE1Mik7ZWxzZSB7aWYgKCFyKSB7aWYgKG51bGwgPT09IHQuc3RhdGVOb2RlKSB0aHJvdyBFcnJvcihhKDE2NikpO3JldHVybiBaaSh0KSwgbnVsbH1pZiAoZSA9IG5vKEphLmN1cnJlbnQpLCBmYSh0KSkge3IgPSB0LnN0YXRlTm9kZSwgbiA9IHQudHlwZTt2YXIgbyA9IHQubWVtb2l6ZWRQcm9wcztzd2l0Y2ggKHJbZGxdID0gdCwgcltwbF0gPSBvLCBlID0gMCAhPT0gKDEgJiB0Lm1vZGUpLCBuKSB7Y2FzZSAiZGlhbG9nIjpScigiY2FuY2VsIiwgciksIFJyKCJjbG9zZSIsIHIpO2JyZWFrO2Nhc2UgImlmcmFtZSI6Y2FzZSAib2JqZWN0IjpjYXNlICJlbWJlZCI6UnIoImxvYWQiLCByKTticmVhaztjYXNlICJ2aWRlbyI6Y2FzZSAiYXVkaW8iOmZvciAobCA9IDA7IGwgPCBIci5sZW5ndGg7IGwrKykgUnIoSHJbbF0sIHIpO2JyZWFrO2Nhc2UgInNvdXJjZSI6UnIoImVycm9yIiwgcik7YnJlYWs7Y2FzZSAiaW1nIjpjYXNlICJpbWFnZSI6Y2FzZSAibGluayI6UnIoImVycm9yIiwgciksIFJyKCJsb2FkIiwgcik7YnJlYWs7Y2FzZSAiZGV0YWlscyI6UnIoInRvZ2dsZSIsIHIpO2JyZWFrO2Nhc2UgImlucHV0IjpZKHIsIG8pLCBScigiaW52YWxpZCIsIHIpO2JyZWFrO2Nhc2UgInNlbGVjdCI6ci5fd3JhcHBlclN0YXRlID0ge3dhc011bHRpcGxlOiAhIW8ubXVsdGlwbGV9LCBScigiaW52YWxpZCIsIHIpO2JyZWFrO2Nhc2UgInRleHRhcmVhIjpsZShyLCBvKSwgUnIoImludmFsaWQiLCByKX1mb3IgKHZhciB1IGluIHllKG4sIG8pLCBsID0gbnVsbCwgbylpZiAoby5oYXNPd25Qcm9wZXJ0eSh1KSkge3ZhciBzID0gb1t1XTsiY2hpbGRyZW4iID09PSB1ID8gInN0cmluZyIgPT09IHR5cGVvZiBzID8gci50ZXh0Q29udGVudCAhPT0gcyAmJiAoITAgIT09IG8uc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nICYmIEdyKHIudGV4dENvbnRlbnQsIHMsIGUpLCBsID0gWyJjaGlsZHJlbiIsIHNdKSA6ICJudW1iZXIiID09PSB0eXBlb2YgcyAmJiByLnRleHRDb250ZW50ICE9PSAiIiArIHMgJiYgKCEwICE9PSBvLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyAmJiBHcihyLnRleHRDb250ZW50LCBzLCBlKSwgbCA9IFsiY2hpbGRyZW4iLCAiIiArIHNdKSA6IGkuaGFzT3duUHJvcGVydHkodSkgJiYgbnVsbCAhPSBzICYmICJvblNjcm9sbCIgPT09IHUgJiYgUnIoInNjcm9sbCIsIHIpfSBzd2l0Y2ggKG4pIHtjYXNlICJpbnB1dCI6JChyKSwgSihyLCBvLCAhMCk7YnJlYWs7Y2FzZSAidGV4dGFyZWEiOiQociksIG9lKHIpO2JyZWFrO2Nhc2UgInNlbGVjdCI6Y2FzZSAib3B0aW9uIjpicmVhaztkZWZhdWx0OiJmdW5jdGlvbiIgPT09IHR5cGVvZiBvLm9uQ2xpY2sgJiYgKHIub25jbGljayA9IEpyKX1yID0gbCwgdC51cGRhdGVRdWV1ZSA9IHIsIG51bGwgIT09IHIgJiYgKHQuZmxhZ3MgfD0gNCl9IGVsc2Uge3UgPSA5ID09PSBsLm5vZGVUeXBlID8gbCA6IGwub3duZXJEb2N1bWVudCwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiID09PSBlICYmIChlID0gaWUobikpLCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIgPT09IGUgPyAic2NyaXB0IiA9PT0gbiA/ICgoZSA9IHUuY3JlYXRlRWxlbWVudCgiZGl2IikpLmlubmVySFRNTCA9ICI8c2NyaXB0PjxcL3NjcmlwdD4iLCBlID0gZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpKSA6ICJzdHJpbmciID09PSB0eXBlb2Ygci5pcyA/IGUgPSB1LmNyZWF0ZUVsZW1lbnQobiwge2lzOiByLmlzfSkgOiAoZSA9IHUuY3JlYXRlRWxlbWVudChuKSwgInNlbGVjdCIgPT09IG4gJiYgKHUgPSBlLCByLm11bHRpcGxlID8gdS5tdWx0aXBsZSA9ICEwIDogci5zaXplICYmICh1LnNpemUgPSByLnNpemUpKSkgOiBlID0gdS5jcmVhdGVFbGVtZW50TlMoZSwgbiksIGVbZGxdID0gdCwgZVtwbF0gPSByLCBGaShlLCB0LCAhMSwgITEpLCB0LnN0YXRlTm9kZSA9IGU7ZToge3N3aXRjaCAodSA9IGJlKG4sIHIpLCBuKSB7Y2FzZSAiZGlhbG9nIjpScigiY2FuY2VsIiwgZSksIFJyKCJjbG9zZSIsIGUpLCBsID0gcjticmVhaztjYXNlICJpZnJhbWUiOmNhc2UgIm9iamVjdCI6Y2FzZSAiZW1iZWQiOlJyKCJsb2FkIiwgZSksIGwgPSByO2JyZWFrO2Nhc2UgInZpZGVvIjpjYXNlICJhdWRpbyI6Zm9yIChsID0gMDsgbCA8IEhyLmxlbmd0aDsgbCsrKSBScihIcltsXSwgZSk7bCA9IHI7YnJlYWs7Y2FzZSAic291cmNlIjpScigiZXJyb3IiLCBlKSwgbCA9IHI7YnJlYWs7Y2FzZSAiaW1nIjpjYXNlICJpbWFnZSI6Y2FzZSAibGluayI6UnIoImVycm9yIiwgZSksIFJyKCJsb2FkIiwgZSksIGwgPSByO2JyZWFrO2Nhc2UgImRldGFpbHMiOlJyKCJ0b2dnbGUiLCBlKSwgbCA9IHI7YnJlYWs7Y2FzZSAiaW5wdXQiOlkoZSwgciksIGwgPSBxKGUsIHIpLCBScigiaW52YWxpZCIsIGUpO2JyZWFrO2Nhc2UgIm9wdGlvbiI6ZGVmYXVsdDpsID0gcjticmVhaztjYXNlICJzZWxlY3QiOmUuX3dyYXBwZXJTdGF0ZSA9IHt3YXNNdWx0aXBsZTogISFyLm11bHRpcGxlfSwgbCA9IEQoe30sIHIsIHt2YWx1ZTogdm9pZCAwfSksIFJyKCJpbnZhbGlkIiwgZSk7YnJlYWs7Y2FzZSAidGV4dGFyZWEiOmxlKGUsIHIpLCBsID0gcmUoZSwgciksIFJyKCJpbnZhbGlkIiwgZSl9Zm9yIChvIGluIHllKG4sIGwpLCBzID0gbClpZiAocy5oYXNPd25Qcm9wZXJ0eShvKSkge3ZhciBjID0gc1tvXTsic3R5bGUiID09PSBvID8gdmUoZSwgYykgOiAiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiID09PSBvID8gbnVsbCAhPSAoYyA9IGMgPyBjLl9faHRtbCA6IHZvaWQgMCkgJiYgZmUoZSwgYykgOiAiY2hpbGRyZW4iID09PSBvID8gInN0cmluZyIgPT09IHR5cGVvZiBjID8gKCJ0ZXh0YXJlYSIgIT09IG4gfHwgIiIgIT09IGMpICYmIGRlKGUsIGMpIDogIm51bWJlciIgPT09IHR5cGVvZiBjICYmIGRlKGUsICIiICsgYykgOiAic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIiAhPT0gbyAmJiAic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiAhPT0gbyAmJiAiYXV0b0ZvY3VzIiAhPT0gbyAmJiAoaS5oYXNPd25Qcm9wZXJ0eShvKSA/IG51bGwgIT0gYyAmJiAib25TY3JvbGwiID09PSBvICYmIFJyKCJzY3JvbGwiLCBlKSA6IG51bGwgIT0gYyAmJiBiKGUsIG8sIGMsIHUpKX0gc3dpdGNoIChuKSB7Y2FzZSAiaW5wdXQiOiQoZSksIEooZSwgciwgITEpO2JyZWFrO2Nhc2UgInRleHRhcmVhIjokKGUpLCBvZShlKTticmVhaztjYXNlICJvcHRpb24iOm51bGwgIT0gci52YWx1ZSAmJiBlLnNldEF0dHJpYnV0ZSgidmFsdWUiLCAiIiArIFEoci52YWx1ZSkpO2JyZWFrO2Nhc2UgInNlbGVjdCI6ZS5tdWx0aXBsZSA9ICEhci5tdWx0aXBsZSwgbnVsbCAhPSAobyA9IHIudmFsdWUpID8gbmUoZSwgISFyLm11bHRpcGxlLCBvLCAhMSkgOiBudWxsICE9IHIuZGVmYXVsdFZhbHVlICYmIG5lKGUsICEhci5tdWx0aXBsZSwgci5kZWZhdWx0VmFsdWUsICEwKTticmVhaztkZWZhdWx0OiJmdW5jdGlvbiIgPT09IHR5cGVvZiBsLm9uQ2xpY2sgJiYgKGUub25jbGljayA9IEpyKX1zd2l0Y2ggKG4pIHtjYXNlICJidXR0b24iOmNhc2UgImlucHV0IjpjYXNlICJzZWxlY3QiOmNhc2UgInRleHRhcmVhIjpyID0gISFyLmF1dG9Gb2N1czticmVhayBlO2Nhc2UgImltZyI6ciA9ICEwO2JyZWFrIGU7ZGVmYXVsdDpyID0gITF9fXIgJiYgKHQuZmxhZ3MgfD0gNCl9bnVsbCAhPT0gdC5yZWYgJiYgKHQuZmxhZ3MgfD0gNTEyLCB0LmZsYWdzIHw9IDIwOTcxNTIpfXJldHVybiBaaSh0KSwgbnVsbDtjYXNlIDY6aWYgKGUgJiYgbnVsbCAhPSB0LnN0YXRlTm9kZSkgSGkoZSwgdCwgZS5tZW1vaXplZFByb3BzLCByKTtlbHNlIHtpZiAoInN0cmluZyIgIT09IHR5cGVvZiByICYmIG51bGwgPT09IHQuc3RhdGVOb2RlKSB0aHJvdyBFcnJvcihhKDE2NikpO2lmIChuID0gbm8odG8uY3VycmVudCksIG5vKEphLmN1cnJlbnQpLCBmYSh0KSkge2lmIChyID0gdC5zdGF0ZU5vZGUsIG4gPSB0Lm1lbW9pemVkUHJvcHMsIHJbZGxdID0gdCwgKG8gPSByLm5vZGVWYWx1ZSAhPT0gbikgJiYgbnVsbCAhPT0gKGUgPSBuYSkpIHN3aXRjaCAoZS50YWcpIHtjYXNlIDM6R3Ioci5ub2RlVmFsdWUsIG4sIDAgIT09ICgxICYgZS5tb2RlKSk7YnJlYWs7Y2FzZSA1OiEwICE9PSBlLm1lbW9pemVkUHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nICYmIEdyKHIubm9kZVZhbHVlLCBuLCAwICE9PSAoMSAmIGUubW9kZSkpfW8gJiYgKHQuZmxhZ3MgfD0gNCl9IGVsc2UociA9ICg5ID09PSBuLm5vZGVUeXBlID8gbiA6IG4ub3duZXJEb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUocikpW2RsXSA9IHQsIHQuc3RhdGVOb2RlID0gcn1yZXR1cm4gWmkodCksIG51bGw7Y2FzZSAxMzppZiAoRWwoaW8pLCByID0gdC5tZW1vaXplZFN0YXRlLCBudWxsID09PSBlIHx8IG51bGwgIT09IGUubWVtb2l6ZWRTdGF0ZSAmJiBudWxsICE9PSBlLm1lbW9pemVkU3RhdGUuZGVoeWRyYXRlZCkge2lmIChsYSAmJiBudWxsICE9PSByYSAmJiAwICE9PSAoMSAmIHQubW9kZSkgJiYgMCA9PT0gKDEyOCAmIHQuZmxhZ3MpKSBkYSgpLCBwYSgpLCB0LmZsYWdzIHw9IDk4NTYwLCBvID0gITE7ZWxzZSBpZiAobyA9IGZhKHQpLCBudWxsICE9PSByICYmIG51bGwgIT09IHIuZGVoeWRyYXRlZCkge2lmIChudWxsID09PSBlKSB7aWYgKCFvKSB0aHJvdyBFcnJvcihhKDMxOCkpO2lmICghKG8gPSBudWxsICE9PSAobyA9IHQubWVtb2l6ZWRTdGF0ZSkgPyBvLmRlaHlkcmF0ZWQgOiBudWxsKSkgdGhyb3cgRXJyb3IoYSgzMTcpKTtvW2RsXSA9IHR9IGVsc2UgcGEoKSwgMCA9PT0gKDEyOCAmIHQuZmxhZ3MpICYmICh0Lm1lbW9pemVkU3RhdGUgPSBudWxsKSwgdC5mbGFncyB8PSA0O1ppKHQpLCBvID0gITF9IGVsc2UgbnVsbCAhPT0gYWEgJiYgKGlzKGFhKSwgYWEgPSBudWxsKSwgbyA9ICEwO2lmICghbykgcmV0dXJuIDY1NTM2ICYgdC5mbGFncyA/IHQgOiBudWxsfXJldHVybiAwICE9PSAoMTI4ICYgdC5mbGFncykgPyAodC5sYW5lcyA9IG4sIHQpIDogKChyID0gbnVsbCAhPT0gcikgIT09IChudWxsICE9PSBlICYmIG51bGwgIT09IGUubWVtb2l6ZWRTdGF0ZSkgJiYgciAmJiAodC5jaGlsZC5mbGFncyB8PSA4MTkyLCAwICE9PSAoMSAmIHQubW9kZSkgJiYgKG51bGwgPT09IGUgfHwgMCAhPT0gKDEgJiBpby5jdXJyZW50KSA/IDAgPT09IEh1ICYmIChIdSA9IDMpIDogdnMoKSkpLCBudWxsICE9PSB0LnVwZGF0ZVF1ZXVlICYmICh0LmZsYWdzIHw9IDQpLCBaaSh0KSwgbnVsbCk7Y2FzZSA0OnJldHVybiBsbygpLCBUaShlLCB0KSwgbnVsbCA9PT0gZSAmJiBBcih0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSwgWmkodCksIG51bGw7Y2FzZSAxMDpyZXR1cm4geGEodC50eXBlLl9jb250ZXh0KSwgWmkodCksIG51bGw7Y2FzZSAxOTppZiAoRWwoaW8pLCBudWxsID09PSAobyA9IHQubWVtb2l6ZWRTdGF0ZSkpIHJldHVybiBaaSh0KSwgbnVsbDtpZiAociA9IDAgIT09ICgxMjggJiB0LmZsYWdzKSwgbnVsbCA9PT0gKHUgPSBvLnJlbmRlcmluZykpaWYgKHIpICRpKG8sICExKTtlbHNlIHtpZiAoMCAhPT0gSHUgfHwgbnVsbCAhPT0gZSAmJiAwICE9PSAoMTI4ICYgZS5mbGFncykpZm9yIChlID0gdC5jaGlsZDsgbnVsbCAhPT0gZTspIHtpZiAobnVsbCAhPT0gKHUgPSB1byhlKSkpIHtmb3IgKHQuZmxhZ3MgfD0gMTI4LCAkaShvLCAhMSksIG51bGwgIT09IChyID0gdS51cGRhdGVRdWV1ZSkgJiYgKHQudXBkYXRlUXVldWUgPSByLCB0LmZsYWdzIHw9IDQpLCB0LnN1YnRyZWVGbGFncyA9IDAsIHIgPSBuLCBuID0gdC5jaGlsZDsgbnVsbCAhPT0gbjspIGUgPSByLCAobyA9IG4pLmZsYWdzICY9IDE0NjgwMDY2LCBudWxsID09PSAodSA9IG8uYWx0ZXJuYXRlKSA/IChvLmNoaWxkTGFuZXMgPSAwLCBvLmxhbmVzID0gZSwgby5jaGlsZCA9IG51bGwsIG8uc3VidHJlZUZsYWdzID0gMCwgby5tZW1vaXplZFByb3BzID0gbnVsbCwgby5tZW1vaXplZFN0YXRlID0gbnVsbCwgby51cGRhdGVRdWV1ZSA9IG51bGwsIG8uZGVwZW5kZW5jaWVzID0gbnVsbCwgby5zdGF0ZU5vZGUgPSBudWxsKSA6IChvLmNoaWxkTGFuZXMgPSB1LmNoaWxkTGFuZXMsIG8ubGFuZXMgPSB1LmxhbmVzLCBvLmNoaWxkID0gdS5jaGlsZCwgby5zdWJ0cmVlRmxhZ3MgPSAwLCBvLmRlbGV0aW9ucyA9IG51bGwsIG8ubWVtb2l6ZWRQcm9wcyA9IHUubWVtb2l6ZWRQcm9wcywgby5tZW1vaXplZFN0YXRlID0gdS5tZW1vaXplZFN0YXRlLCBvLnVwZGF0ZVF1ZXVlID0gdS51cGRhdGVRdWV1ZSwgby50eXBlID0gdS50eXBlLCBlID0gdS5kZXBlbmRlbmNpZXMsIG8uZGVwZW5kZW5jaWVzID0gbnVsbCA9PT0gZSA/IG51bGwgOiB7bGFuZXM6IGUubGFuZXMsZmlyc3RDb250ZXh0OiBlLmZpcnN0Q29udGV4dH0pLCBuID0gbi5zaWJsaW5nO3JldHVybiBfbChpbywgMSAmIGlvLmN1cnJlbnQgfCAyKSwgdC5jaGlsZH1lID0gZS5zaWJsaW5nfW51bGwgIT09IG8udGFpbCAmJiBYZSgpID4gVXUgJiYgKHQuZmxhZ3MgfD0gMTI4LCByID0gITAsICRpKG8sICExKSwgdC5sYW5lcyA9IDQxOTQzMDQpfWVsc2Uge2lmICghcilpZiAobnVsbCAhPT0gKGUgPSB1byh1KSkpIHtpZiAodC5mbGFncyB8PSAxMjgsIHIgPSAhMCwgbnVsbCAhPT0gKG4gPSBlLnVwZGF0ZVF1ZXVlKSAmJiAodC51cGRhdGVRdWV1ZSA9IG4sIHQuZmxhZ3MgfD0gNCksICRpKG8sICEwKSwgbnVsbCA9PT0gby50YWlsICYmICJoaWRkZW4iID09PSBvLnRhaWxNb2RlICYmICF1LmFsdGVybmF0ZSAmJiAhbGEpIHJldHVybiBaaSh0KSwgbnVsbH0gZWxzZSAyICogWGUoKSAtIG8ucmVuZGVyaW5nU3RhcnRUaW1lID4gVXUgJiYgMTA3Mzc0MTgyNCAhPT0gbiAmJiAodC5mbGFncyB8PSAxMjgsIHIgPSAhMCwgJGkobywgITEpLCB0LmxhbmVzID0gNDE5NDMwNCk7by5pc0JhY2t3YXJkcyA/ICh1LnNpYmxpbmcgPSB0LmNoaWxkLCB0LmNoaWxkID0gdSkgOiAobnVsbCAhPT0gKG4gPSBvLmxhc3QpID8gbi5zaWJsaW5nID0gdSA6IHQuY2hpbGQgPSB1LCBvLmxhc3QgPSB1KX1yZXR1cm4gbnVsbCAhPT0gby50YWlsID8gKHQgPSBvLnRhaWwsIG8ucmVuZGVyaW5nID0gdCwgby50YWlsID0gdC5zaWJsaW5nLCBvLnJlbmRlcmluZ1N0YXJ0VGltZSA9IFhlKCksIHQuc2libGluZyA9IG51bGwsIG4gPSBpby5jdXJyZW50LCBfbChpbywgciA/IDEgJiBuIHwgMiA6IDEgJiBuKSwgdCkgOiAoWmkodCksIG51bGwpO2Nhc2UgMjI6Y2FzZSAyMzpyZXR1cm4gZHMoKSwgciA9IG51bGwgIT09IHQubWVtb2l6ZWRTdGF0ZSwgbnVsbCAhPT0gZSAmJiBudWxsICE9PSBlLm1lbW9pemVkU3RhdGUgIT09IHIgJiYgKHQuZmxhZ3MgfD0gODE5MiksIHIgJiYgMCAhPT0gKDEgJiB0Lm1vZGUpID8gMCAhPT0gKDEwNzM3NDE4MjQgJiBUdSkgJiYgKFppKHQpLCA2ICYgdC5zdWJ0cmVlRmxhZ3MgJiYgKHQuZmxhZ3MgfD0gODE5MikpIDogWmkodCksIG51bGw7Y2FzZSAyNDpjYXNlIDI1OnJldHVybiBudWxsfXRocm93IEVycm9yKGEoMTU2LCB0LnRhZykpfWZ1bmN0aW9uIHFpKGUsIHQpIHtzd2l0Y2ggKHRhKHQpLCB0LnRhZykge2Nhc2UgMTpyZXR1cm4gRmwodC50eXBlKSAmJiBUbCgpLCA2NTUzNiAmIChlID0gdC5mbGFncykgPyAodC5mbGFncyA9IC02NTUzNyAmIGUgfCAxMjgsIHQpIDogbnVsbDtjYXNlIDM6cmV0dXJuIGxvKCksIEVsKExsKSwgRWwoUGwpLCBjbygpLCAwICE9PSAoNjU1MzYgJiAoZSA9IHQuZmxhZ3MpKSAmJiAwID09PSAoMTI4ICYgZSkgPyAodC5mbGFncyA9IC02NTUzNyAmIGUgfCAxMjgsIHQpIDogbnVsbDtjYXNlIDU6cmV0dXJuIG9vKHQpLCBudWxsO2Nhc2UgMTM6aWYgKEVsKGlvKSwgbnVsbCAhPT0gKGUgPSB0Lm1lbW9pemVkU3RhdGUpICYmIG51bGwgIT09IGUuZGVoeWRyYXRlZCkge2lmIChudWxsID09PSB0LmFsdGVybmF0ZSkgdGhyb3cgRXJyb3IoYSgzNDApKTtwYSgpfXJldHVybiA2NTUzNiAmIChlID0gdC5mbGFncykgPyAodC5mbGFncyA9IC02NTUzNyAmIGUgfCAxMjgsIHQpIDogbnVsbDtjYXNlIDE5OnJldHVybiBFbChpbyksIG51bGw7Y2FzZSA0OnJldHVybiBsbygpLCBudWxsO2Nhc2UgMTA6cmV0dXJuIHhhKHQudHlwZS5fY29udGV4dCksIG51bGw7Y2FzZSAyMjpjYXNlIDIzOnJldHVybiBkcygpLCBudWxsO2RlZmF1bHQ6cmV0dXJuIG51bGx9fUZpID0gZnVuY3Rpb24oZSwgdCkge2ZvciAodmFyIG4gPSB0LmNoaWxkOyBudWxsICE9PSBuOykge2lmICg1ID09PSBuLnRhZyB8fCA2ID09PSBuLnRhZykgZS5hcHBlbmRDaGlsZChuLnN0YXRlTm9kZSk7ZWxzZSBpZiAoNCAhPT0gbi50YWcgJiYgbnVsbCAhPT0gbi5jaGlsZCkge24uY2hpbGQucmV0dXJuID0gbiwgbiA9IG4uY2hpbGQ7Y29udGludWV9aWYgKG4gPT09IHQpIGJyZWFrO2ZvciAoOyBudWxsID09PSBuLnNpYmxpbmc7KSB7aWYgKG51bGwgPT09IG4ucmV0dXJuIHx8IG4ucmV0dXJuID09PSB0KSByZXR1cm47biA9IG4ucmV0dXJufW4uc2libGluZy5yZXR1cm4gPSBuLnJldHVybiwgbiA9IG4uc2libGluZ319LCBUaSA9IGZ1bmN0aW9uKCkge30sIFZpID0gZnVuY3Rpb24oZSwgdCwgbiwgcikge3ZhciBsID0gZS5tZW1vaXplZFByb3BzO2lmIChsICE9PSByKSB7ZSA9IHQuc3RhdGVOb2RlLCBubyhKYS5jdXJyZW50KTt2YXIgYSwgbyA9IG51bGw7c3dpdGNoIChuKSB7Y2FzZSAiaW5wdXQiOmwgPSBxKGUsIGwpLCByID0gcShlLCByKSwgbyA9IFtdO2JyZWFrO2Nhc2UgInNlbGVjdCI6bCA9IEQoe30sIGwsIHt2YWx1ZTogdm9pZCAwfSksIHIgPSBEKHt9LCByLCB7dmFsdWU6IHZvaWQgMH0pLCBvID0gW107YnJlYWs7Y2FzZSAidGV4dGFyZWEiOmwgPSByZShlLCBsKSwgciA9IHJlKGUsIHIpLCBvID0gW107YnJlYWs7ZGVmYXVsdDoiZnVuY3Rpb24iICE9PSB0eXBlb2YgbC5vbkNsaWNrICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiByLm9uQ2xpY2sgJiYgKGUub25jbGljayA9IEpyKX1mb3IgKGMgaW4geWUobiwgciksIG4gPSBudWxsLCBsKWlmICghci5oYXNPd25Qcm9wZXJ0eShjKSAmJiBsLmhhc093blByb3BlcnR5KGMpICYmIG51bGwgIT0gbFtjXSlpZiAoInN0eWxlIiA9PT0gYykge3ZhciB1ID0gbFtjXTtmb3IgKGEgaW4gdSkgdS5oYXNPd25Qcm9wZXJ0eShhKSAmJiAobiB8fCAobiA9IHt9KSwgblthXSA9ICIiKX0gZWxzZSAiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiICE9PSBjICYmICJjaGlsZHJlbiIgIT09IGMgJiYgInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIgIT09IGMgJiYgInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIgIT09IGMgJiYgImF1dG9Gb2N1cyIgIT09IGMgJiYgKGkuaGFzT3duUHJvcGVydHkoYykgPyBvIHx8IChvID0gW10pIDogKG8gPSBvIHx8IFtdKS5wdXNoKGMsIG51bGwpKTtmb3IgKGMgaW4gcikge3ZhciBzID0gcltjXTtpZiAodSA9IG51bGwgIT0gbCA/IGxbY10gOiB2b2lkIDAsIHIuaGFzT3duUHJvcGVydHkoYykgJiYgcyAhPT0gdSAmJiAobnVsbCAhPSBzIHx8IG51bGwgIT0gdSkpaWYgKCJzdHlsZSIgPT09IGMpaWYgKHUpIHtmb3IgKGEgaW4gdSkgIXUuaGFzT3duUHJvcGVydHkoYSkgfHwgcyAmJiBzLmhhc093blByb3BlcnR5KGEpIHx8IChuIHx8IChuID0ge30pLCBuW2FdID0gIiIpO2ZvciAoYSBpbiBzKSBzLmhhc093blByb3BlcnR5KGEpICYmIHVbYV0gIT09IHNbYV0gJiYgKG4gfHwgKG4gPSB7fSksIG5bYV0gPSBzW2FdKX0gZWxzZSBuIHx8IChvIHx8IChvID0gW10pLCBvLnB1c2goYywgbikpLCBuID0gcztlbHNlICJkYW5nZXJvdXNseVNldElubmVySFRNTCIgPT09IGMgPyAocyA9IHMgPyBzLl9faHRtbCA6IHZvaWQgMCwgdSA9IHUgPyB1Ll9faHRtbCA6IHZvaWQgMCwgbnVsbCAhPSBzICYmIHUgIT09IHMgJiYgKG8gPSBvIHx8IFtdKS5wdXNoKGMsIHMpKSA6ICJjaGlsZHJlbiIgPT09IGMgPyAic3RyaW5nIiAhPT0gdHlwZW9mIHMgJiYgIm51bWJlciIgIT09IHR5cGVvZiBzIHx8IChvID0gbyB8fCBbXSkucHVzaChjLCAiIiArIHMpIDogInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZyIgIT09IGMgJiYgInN1cHByZXNzSHlkcmF0aW9uV2FybmluZyIgIT09IGMgJiYgKGkuaGFzT3duUHJvcGVydHkoYykgPyAobnVsbCAhPSBzICYmICJvblNjcm9sbCIgPT09IGMgJiYgUnIoInNjcm9sbCIsIGUpLCBvIHx8IHUgPT09IHMgfHwgKG8gPSBbXSkpIDogKG8gPSBvIHx8IFtdKS5wdXNoKGMsIHMpKX1uICYmIChvID0gbyB8fCBbXSkucHVzaCgic3R5bGUiLCBuKTt2YXIgYyA9IG87KHQudXBkYXRlUXVldWUgPSBjKSAmJiAodC5mbGFncyB8PSA0KX19LCBIaSA9IGZ1bmN0aW9uKGUsIHQsIG4sIHIpIHtuICE9PSByICYmICh0LmZsYWdzIHw9IDQpfTt2YXIgWWkgPSAhMSxYaSA9ICExLEdpID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIFdlYWtTZXQgPyBXZWFrU2V0IDogU2V0LEppID0gbnVsbDtmdW5jdGlvbiBldShlLCB0KSB7dmFyIG4gPSBlLnJlZjtpZiAobnVsbCAhPT0gbilpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG4pIHRyeSB7bihudWxsKX0gY2F0Y2ggKHIpIHtFcyhlLCB0LCByKX0gZWxzZSBuLmN1cnJlbnQgPSBudWxsfWZ1bmN0aW9uIHR1KGUsIHQsIG4pIHt0cnkge24oKX0gY2F0Y2ggKHIpIHtFcyhlLCB0LCByKX19dmFyIG51ID0gITE7ZnVuY3Rpb24gcnUoZSwgdCwgbikge3ZhciByID0gdC51cGRhdGVRdWV1ZTtpZiAobnVsbCAhPT0gKHIgPSBudWxsICE9PSByID8gci5sYXN0RWZmZWN0IDogbnVsbCkpIHt2YXIgbCA9IHIgPSByLm5leHQ7ZG8ge2lmICgobC50YWcgJiBlKSA9PT0gZSkge3ZhciBhID0gbC5kZXN0cm95O2wuZGVzdHJveSA9IHZvaWQgMCwgdm9pZCAwICE9PSBhICYmIHR1KHQsIG4sIGEpfWwgPSBsLm5leHR9IHdoaWxlIChsICE9PSByKX19ZnVuY3Rpb24gbHUoZSwgdCkge2lmIChudWxsICE9PSAodCA9IG51bGwgIT09ICh0ID0gdC51cGRhdGVRdWV1ZSkgPyB0Lmxhc3RFZmZlY3QgOiBudWxsKSkge3ZhciBuID0gdCA9IHQubmV4dDtkbyB7aWYgKChuLnRhZyAmIGUpID09PSBlKSB7dmFyIHIgPSBuLmNyZWF0ZTtuLmRlc3Ryb3kgPSByKCl9biA9IG4ubmV4dH0gd2hpbGUgKG4gIT09IHQpfX1mdW5jdGlvbiBhdShlKSB7dmFyIHQgPSBlLnJlZjtpZiAobnVsbCAhPT0gdCkge3ZhciBuID0gZS5zdGF0ZU5vZGU7ZS50YWcsIGUgPSBuLCAiZnVuY3Rpb24iID09PSB0eXBlb2YgdCA/IHQoZSkgOiB0LmN1cnJlbnQgPSBlfX1mdW5jdGlvbiBvdShlKSB7dmFyIHQgPSBlLmFsdGVybmF0ZTtudWxsICE9PSB0ICYmIChlLmFsdGVybmF0ZSA9IG51bGwsIG91KHQpKSwgZS5jaGlsZCA9IG51bGwsIGUuZGVsZXRpb25zID0gbnVsbCwgZS5zaWJsaW5nID0gbnVsbCwgNSA9PT0gZS50YWcgJiYgKG51bGwgIT09ICh0ID0gZS5zdGF0ZU5vZGUpICYmIChkZWxldGUgdFtkbF0sIGRlbGV0ZSB0W3BsXSwgZGVsZXRlIHRbbWxdLCBkZWxldGUgdFt2bF0sIGRlbGV0ZSB0W2dsXSkpLCBlLnN0YXRlTm9kZSA9IG51bGwsIGUucmV0dXJuID0gbnVsbCwgZS5kZXBlbmRlbmNpZXMgPSBudWxsLCBlLm1lbW9pemVkUHJvcHMgPSBudWxsLCBlLm1lbW9pemVkU3RhdGUgPSBudWxsLCBlLnBlbmRpbmdQcm9wcyA9IG51bGwsIGUuc3RhdGVOb2RlID0gbnVsbCwgZS51cGRhdGVRdWV1ZSA9IG51bGx9ZnVuY3Rpb24gaXUoZSkge3JldHVybiA1ID09PSBlLnRhZyB8fCAzID09PSBlLnRhZyB8fCA0ID09PSBlLnRhZ31mdW5jdGlvbiB1dShlKSB7ZTogZm9yICg7Oykge2ZvciAoOyBudWxsID09PSBlLnNpYmxpbmc7KSB7aWYgKG51bGwgPT09IGUucmV0dXJuIHx8IGl1KGUucmV0dXJuKSkgcmV0dXJuIG51bGw7ZSA9IGUucmV0dXJufWZvciAoZS5zaWJsaW5nLnJldHVybiA9IGUucmV0dXJuLCBlID0gZS5zaWJsaW5nOyA1ICE9PSBlLnRhZyAmJiA2ICE9PSBlLnRhZyAmJiAxOCAhPT0gZS50YWc7KSB7aWYgKDIgJiBlLmZsYWdzKSBjb250aW51ZSBlO2lmIChudWxsID09PSBlLmNoaWxkIHx8IDQgPT09IGUudGFnKSBjb250aW51ZSBlO2UuY2hpbGQucmV0dXJuID0gZSwgZSA9IGUuY2hpbGR9aWYgKCEoMiAmIGUuZmxhZ3MpKSByZXR1cm4gZS5zdGF0ZU5vZGV9fWZ1bmN0aW9uIHN1KGUsIHQsIG4pIHt2YXIgciA9IGUudGFnO2lmICg1ID09PSByIHx8IDYgPT09IHIpIGUgPSBlLnN0YXRlTm9kZSwgdCA/IDggPT09IG4ubm9kZVR5cGUgPyBuLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGUsIHQpIDogbi5pbnNlcnRCZWZvcmUoZSwgdCkgOiAoOCA9PT0gbi5ub2RlVHlwZSA/ICh0ID0gbi5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoZSwgbikgOiAodCA9IG4pLmFwcGVuZENoaWxkKGUpLCBudWxsICE9PSAobiA9IG4uX3JlYWN0Um9vdENvbnRhaW5lcikgJiYgdm9pZCAwICE9PSBuIHx8IG51bGwgIT09IHQub25jbGljayB8fCAodC5vbmNsaWNrID0gSnIpKTtlbHNlIGlmICg0ICE9PSByICYmIG51bGwgIT09IChlID0gZS5jaGlsZCkpZm9yIChzdShlLCB0LCBuKSwgZSA9IGUuc2libGluZzsgbnVsbCAhPT0gZTspIHN1KGUsIHQsIG4pLCBlID0gZS5zaWJsaW5nfWZ1bmN0aW9uIGN1KGUsIHQsIG4pIHt2YXIgciA9IGUudGFnO2lmICg1ID09PSByIHx8IDYgPT09IHIpIGUgPSBlLnN0YXRlTm9kZSwgdCA/IG4uaW5zZXJ0QmVmb3JlKGUsIHQpIDogbi5hcHBlbmRDaGlsZChlKTtlbHNlIGlmICg0ICE9PSByICYmIG51bGwgIT09IChlID0gZS5jaGlsZCkpZm9yIChjdShlLCB0LCBuKSwgZSA9IGUuc2libGluZzsgbnVsbCAhPT0gZTspIGN1KGUsIHQsIG4pLCBlID0gZS5zaWJsaW5nfXZhciBmdSA9IG51bGwsZHUgPSAhMTtmdW5jdGlvbiBwdShlLCB0LCBuKSB7Zm9yIChuID0gbi5jaGlsZDsgbnVsbCAhPT0gbjspIGh1KGUsIHQsIG4pLCBuID0gbi5zaWJsaW5nfWZ1bmN0aW9uIGh1KGUsIHQsIG4pIHtpZiAoYXQgJiYgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGF0Lm9uQ29tbWl0RmliZXJVbm1vdW50KSB0cnkge2F0Lm9uQ29tbWl0RmliZXJVbm1vdW50KGx0LCBuKX0gY2F0Y2ggKGkpIHt9c3dpdGNoIChuLnRhZykge2Nhc2UgNTpYaSB8fCBldShuLCB0KTtjYXNlIDY6dmFyIHIgPSBmdSxsID0gZHU7ZnUgPSBudWxsLCBwdShlLCB0LCBuKSwgZHUgPSBsLCBudWxsICE9PSAoZnUgPSByKSAmJiAoZHUgPyAoZSA9IGZ1LCBuID0gbi5zdGF0ZU5vZGUsIDggPT09IGUubm9kZVR5cGUgPyBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobikgOiBlLnJlbW92ZUNoaWxkKG4pKSA6IGZ1LnJlbW92ZUNoaWxkKG4uc3RhdGVOb2RlKSk7YnJlYWs7Y2FzZSAxODpudWxsICE9PSBmdSAmJiAoZHUgPyAoZSA9IGZ1LCBuID0gbi5zdGF0ZU5vZGUsIDggPT09IGUubm9kZVR5cGUgPyB1bChlLnBhcmVudE5vZGUsIG4pIDogMSA9PT0gZS5ub2RlVHlwZSAmJiB1bChlLCBuKSwgQXQoZSkpIDogdWwoZnUsIG4uc3RhdGVOb2RlKSk7YnJlYWs7Y2FzZSA0OnIgPSBmdSwgbCA9IGR1LCBmdSA9IG4uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8sIGR1ID0gITAsIHB1KGUsIHQsIG4pLCBmdSA9IHIsIGR1ID0gbDticmVhaztjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6aWYgKCFYaSAmJiAobnVsbCAhPT0gKHIgPSBuLnVwZGF0ZVF1ZXVlKSAmJiBudWxsICE9PSAociA9IHIubGFzdEVmZmVjdCkpKSB7bCA9IHIgPSByLm5leHQ7ZG8ge3ZhciBhID0gbCxvID0gYS5kZXN0cm95O2EgPSBhLnRhZywgdm9pZCAwICE9PSBvICYmICgwICE9PSAoMiAmIGEpIHx8IDAgIT09ICg0ICYgYSkpICYmIHR1KG4sIHQsIG8pLCBsID0gbC5uZXh0fSB3aGlsZSAobCAhPT0gcil9cHUoZSwgdCwgbik7YnJlYWs7Y2FzZSAxOmlmICghWGkgJiYgKGV1KG4sIHQpLCAiZnVuY3Rpb24iID09PSB0eXBlb2YociA9IG4uc3RhdGVOb2RlKS5jb21wb25lbnRXaWxsVW5tb3VudCkpIHRyeSB7ci5wcm9wcyA9IG4ubWVtb2l6ZWRQcm9wcywgci5zdGF0ZSA9IG4ubWVtb2l6ZWRTdGF0ZSwgci5jb21wb25lbnRXaWxsVW5tb3VudCgpfSBjYXRjaCAoaSkge0VzKG4sIHQsIGkpfXB1KGUsIHQsIG4pO2JyZWFrO2Nhc2UgMjE6cHUoZSwgdCwgbik7YnJlYWs7Y2FzZSAyMjoxICYgbi5tb2RlID8gKFhpID0gKHIgPSBYaSkgfHwgbnVsbCAhPT0gbi5tZW1vaXplZFN0YXRlLCBwdShlLCB0LCBuKSwgWGkgPSByKSA6IHB1KGUsIHQsIG4pO2JyZWFrO2RlZmF1bHQ6cHUoZSwgdCwgbil9fWZ1bmN0aW9uIG11KGUpIHt2YXIgdCA9IGUudXBkYXRlUXVldWU7aWYgKG51bGwgIT09IHQpIHtlLnVwZGF0ZVF1ZXVlID0gbnVsbDt2YXIgbiA9IGUuc3RhdGVOb2RlO251bGwgPT09IG4gJiYgKG4gPSBlLnN0YXRlTm9kZSA9IG5ldyBHaSksIHQuZm9yRWFjaCgoZnVuY3Rpb24odCkge3ZhciByID0gTHMuYmluZChudWxsLCBlLCB0KTtuLmhhcyh0KSB8fCAobi5hZGQodCksIHQudGhlbihyLCByKSl9KSl9fWZ1bmN0aW9uIHZ1KGUsIHQpIHt2YXIgbiA9IHQuZGVsZXRpb25zO2lmIChudWxsICE9PSBuKWZvciAodmFyIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykge3ZhciBsID0gbltyXTt0cnkge3ZhciBvID0gZSxpID0gdCx1ID0gaTtlOiBmb3IgKDsgbnVsbCAhPT0gdTspIHtzd2l0Y2ggKHUudGFnKSB7Y2FzZSA1OmZ1ID0gdS5zdGF0ZU5vZGUsIGR1ID0gITE7YnJlYWsgZTtjYXNlIDM6Y2FzZSA0OmZ1ID0gdS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbywgZHUgPSAhMDticmVhayBlfXUgPSB1LnJldHVybn1pZiAobnVsbCA9PT0gZnUpIHRocm93IEVycm9yKGEoMTYwKSk7aHUobywgaSwgbCksIGZ1ID0gbnVsbCwgZHUgPSAhMTt2YXIgcyA9IGwuYWx0ZXJuYXRlO251bGwgIT09IHMgJiYgKHMucmV0dXJuID0gbnVsbCksIGwucmV0dXJuID0gbnVsbH0gY2F0Y2ggKGMpIHtFcyhsLCB0LCBjKX19aWYgKDEyODU0ICYgdC5zdWJ0cmVlRmxhZ3MpZm9yICh0ID0gdC5jaGlsZDsgbnVsbCAhPT0gdDspIGd1KHQsIGUpLCB0ID0gdC5zaWJsaW5nfWZ1bmN0aW9uIGd1KGUsIHQpIHt2YXIgbiA9IGUuYWx0ZXJuYXRlLHIgPSBlLmZsYWdzO3N3aXRjaCAoZS50YWcpIHtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6aWYgKHZ1KHQsIGUpLCB5dShlKSwgNCAmIHIpIHt0cnkge3J1KDMsIGUsIGUucmV0dXJuKSwgbHUoMywgZSl9IGNhdGNoICh2KSB7RXMoZSwgZS5yZXR1cm4sIHYpfXRyeSB7cnUoNSwgZSwgZS5yZXR1cm4pfSBjYXRjaCAodikge0VzKGUsIGUucmV0dXJuLCB2KX19YnJlYWs7Y2FzZSAxOnZ1KHQsIGUpLCB5dShlKSwgNTEyICYgciAmJiBudWxsICE9PSBuICYmIGV1KG4sIG4ucmV0dXJuKTticmVhaztjYXNlIDU6aWYgKHZ1KHQsIGUpLCB5dShlKSwgNTEyICYgciAmJiBudWxsICE9PSBuICYmIGV1KG4sIG4ucmV0dXJuKSwgMzIgJiBlLmZsYWdzKSB7dmFyIGwgPSBlLnN0YXRlTm9kZTt0cnkge2RlKGwsICIiKX0gY2F0Y2ggKHYpIHtFcyhlLCBlLnJldHVybiwgdil9fWlmICg0ICYgciAmJiBudWxsICE9IChsID0gZS5zdGF0ZU5vZGUpKSB7dmFyIG8gPSBlLm1lbW9pemVkUHJvcHMsaSA9IG51bGwgIT09IG4gPyBuLm1lbW9pemVkUHJvcHMgOiBvLHUgPSBlLnR5cGUscyA9IGUudXBkYXRlUXVldWU7aWYgKGUudXBkYXRlUXVldWUgPSBudWxsLCBudWxsICE9PSBzKSB0cnkgeyJpbnB1dCIgPT09IHUgJiYgInJhZGlvIiA9PT0gby50eXBlICYmIG51bGwgIT0gby5uYW1lICYmIFgobCwgbyksIGJlKHUsIGkpO3ZhciBjID0gYmUodSwgbyk7Zm9yIChpID0gMDsgaSA8IHMubGVuZ3RoOyBpICs9IDIpIHt2YXIgZiA9IHNbaV0sZCA9IHNbaSArIDFdOyJzdHlsZSIgPT09IGYgPyB2ZShsLCBkKSA6ICJkYW5nZXJvdXNseVNldElubmVySFRNTCIgPT09IGYgPyBmZShsLCBkKSA6ICJjaGlsZHJlbiIgPT09IGYgPyBkZShsLCBkKSA6IGIobCwgZiwgZCwgYyl9c3dpdGNoICh1KSB7Y2FzZSAiaW5wdXQiOkcobCwgbyk7YnJlYWs7Y2FzZSAidGV4dGFyZWEiOmFlKGwsIG8pO2JyZWFrO2Nhc2UgInNlbGVjdCI6dmFyIHAgPSBsLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGU7bC5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlID0gISFvLm11bHRpcGxlO3ZhciBoID0gby52YWx1ZTtudWxsICE9IGggPyBuZShsLCAhIW8ubXVsdGlwbGUsIGgsICExKSA6IHAgIT09ICEhby5tdWx0aXBsZSAmJiAobnVsbCAhPSBvLmRlZmF1bHRWYWx1ZSA/IG5lKGwsICEhby5tdWx0aXBsZSwgby5kZWZhdWx0VmFsdWUsICEwKSA6IG5lKGwsICEhby5tdWx0aXBsZSwgby5tdWx0aXBsZSA/IFtdIDogIiIsICExKSl9bFtwbF0gPSBvfSBjYXRjaCAodikge0VzKGUsIGUucmV0dXJuLCB2KX19YnJlYWs7Y2FzZSA2OmlmICh2dSh0LCBlKSwgeXUoZSksIDQgJiByKSB7aWYgKG51bGwgPT09IGUuc3RhdGVOb2RlKSB0aHJvdyBFcnJvcihhKDE2MikpO2wgPSBlLnN0YXRlTm9kZSwgbyA9IGUubWVtb2l6ZWRQcm9wczt0cnkge2wubm9kZVZhbHVlID0gb30gY2F0Y2ggKHYpIHtFcyhlLCBlLnJldHVybiwgdil9fWJyZWFrO2Nhc2UgMzppZiAodnUodCwgZSksIHl1KGUpLCA0ICYgciAmJiBudWxsICE9PSBuICYmIG4ubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpIHRyeSB7QXQodC5jb250YWluZXJJbmZvKX0gY2F0Y2ggKHYpIHtFcyhlLCBlLnJldHVybiwgdil9YnJlYWs7Y2FzZSA0OmRlZmF1bHQ6dnUodCwgZSksIHl1KGUpO2JyZWFrO2Nhc2UgMTM6dnUodCwgZSksIHl1KGUpLCA4MTkyICYgKGwgPSBlLmNoaWxkKS5mbGFncyAmJiAobyA9IG51bGwgIT09IGwubWVtb2l6ZWRTdGF0ZSwgbC5zdGF0ZU5vZGUuaXNIaWRkZW4gPSBvLCAhbyB8fCBudWxsICE9PSBsLmFsdGVybmF0ZSAmJiBudWxsICE9PSBsLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlIHx8IChBdSA9IFhlKCkpKSwgNCAmIHIgJiYgbXUoZSk7YnJlYWs7Y2FzZSAyMjppZiAoZiA9IG51bGwgIT09IG4gJiYgbnVsbCAhPT0gbi5tZW1vaXplZFN0YXRlLCAxICYgZS5tb2RlID8gKFhpID0gKGMgPSBYaSkgfHwgZiwgdnUodCwgZSksIFhpID0gYykgOiB2dSh0LCBlKSwgeXUoZSksIDgxOTIgJiByKSB7aWYgKGMgPSBudWxsICE9PSBlLm1lbW9pemVkU3RhdGUsIChlLnN0YXRlTm9kZS5pc0hpZGRlbiA9IGMpICYmICFmICYmIDAgIT09ICgxICYgZS5tb2RlKSlmb3IgKEppID0gZSwgZiA9IGUuY2hpbGQ7IG51bGwgIT09IGY7KSB7Zm9yIChkID0gSmkgPSBmOyBudWxsICE9PSBKaTspIHtzd2l0Y2ggKGggPSAocCA9IEppKS5jaGlsZCwgcC50YWcpIHtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6cnUoNCwgcCwgcC5yZXR1cm4pO2JyZWFrO2Nhc2UgMTpldShwLCBwLnJldHVybik7dmFyIG0gPSBwLnN0YXRlTm9kZTtpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIG0uY29tcG9uZW50V2lsbFVubW91bnQpIHtyID0gcCwgbiA9IHAucmV0dXJuO3RyeSB7dCA9IHIsIG0ucHJvcHMgPSB0Lm1lbW9pemVkUHJvcHMsIG0uc3RhdGUgPSB0Lm1lbW9pemVkU3RhdGUsIG0uY29tcG9uZW50V2lsbFVubW91bnQoKX0gY2F0Y2ggKHYpIHtFcyhyLCBuLCB2KX19YnJlYWs7Y2FzZSA1OmV1KHAsIHAucmV0dXJuKTticmVhaztjYXNlIDIyOmlmIChudWxsICE9PSBwLm1lbW9pemVkU3RhdGUpIHt4dShkKTtjb250aW51ZX19bnVsbCAhPT0gaCA/IChoLnJldHVybiA9IHAsIEppID0gaCkgOiB4dShkKX1mID0gZi5zaWJsaW5nfWU6IGZvciAoZiA9IG51bGwsIGQgPSBlOzspIHtpZiAoNSA9PT0gZC50YWcpIHtpZiAobnVsbCA9PT0gZikge2YgPSBkO3RyeSB7bCA9IGQuc3RhdGVOb2RlLCBjID8gImZ1bmN0aW9uIiA9PT0gdHlwZW9mKG8gPSBsLnN0eWxlKS5zZXRQcm9wZXJ0eSA/IG8uc2V0UHJvcGVydHkoImRpc3BsYXkiLCAibm9uZSIsICJpbXBvcnRhbnQiKSA6IG8uZGlzcGxheSA9ICJub25lIiA6ICh1ID0gZC5zdGF0ZU5vZGUsIGkgPSB2b2lkIDAgIT09IChzID0gZC5tZW1vaXplZFByb3BzLnN0eWxlKSAmJiBudWxsICE9PSBzICYmIHMuaGFzT3duUHJvcGVydHkoImRpc3BsYXkiKSA/IHMuZGlzcGxheSA6IG51bGwsIHUuc3R5bGUuZGlzcGxheSA9IG1lKCJkaXNwbGF5IiwgaSkpfSBjYXRjaCAodikge0VzKGUsIGUucmV0dXJuLCB2KX19fSBlbHNlIGlmICg2ID09PSBkLnRhZykge2lmIChudWxsID09PSBmKSB0cnkge2Quc3RhdGVOb2RlLm5vZGVWYWx1ZSA9IGMgPyAiIiA6IGQubWVtb2l6ZWRQcm9wc30gY2F0Y2ggKHYpIHtFcyhlLCBlLnJldHVybiwgdil9fSBlbHNlIGlmICgoMjIgIT09IGQudGFnICYmIDIzICE9PSBkLnRhZyB8fCBudWxsID09PSBkLm1lbW9pemVkU3RhdGUgfHwgZCA9PT0gZSkgJiYgbnVsbCAhPT0gZC5jaGlsZCkge2QuY2hpbGQucmV0dXJuID0gZCwgZCA9IGQuY2hpbGQ7Y29udGludWV9aWYgKGQgPT09IGUpIGJyZWFrIGU7Zm9yICg7IG51bGwgPT09IGQuc2libGluZzspIHtpZiAobnVsbCA9PT0gZC5yZXR1cm4gfHwgZC5yZXR1cm4gPT09IGUpIGJyZWFrIGU7ZiA9PT0gZCAmJiAoZiA9IG51bGwpLCBkID0gZC5yZXR1cm59ZiA9PT0gZCAmJiAoZiA9IG51bGwpLCBkLnNpYmxpbmcucmV0dXJuID0gZC5yZXR1cm4sIGQgPSBkLnNpYmxpbmd9fWJyZWFrO2Nhc2UgMTk6dnUodCwgZSksIHl1KGUpLCA0ICYgciAmJiBtdShlKTtjYXNlIDIxOn19ZnVuY3Rpb24geXUoZSkge3ZhciB0ID0gZS5mbGFncztpZiAoMiAmIHQpIHt0cnkge2U6IHtmb3IgKHZhciBuID0gZS5yZXR1cm47IG51bGwgIT09IG47KSB7aWYgKGl1KG4pKSB7dmFyIHIgPSBuO2JyZWFrIGV9biA9IG4ucmV0dXJufXRocm93IEVycm9yKGEoMTYwKSl9c3dpdGNoIChyLnRhZykge2Nhc2UgNTp2YXIgbCA9IHIuc3RhdGVOb2RlOzMyICYgci5mbGFncyAmJiAoZGUobCwgIiIpLCByLmZsYWdzICY9IC0zMyksIGN1KGUsIHV1KGUpLCBsKTticmVhaztjYXNlIDM6Y2FzZSA0OnZhciBvID0gci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztzdShlLCB1dShlKSwgbyk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MSkpfX1jYXRjaCAoaSkge0VzKGUsIGUucmV0dXJuLCBpKX1lLmZsYWdzICY9IC0zfTQwOTYgJiB0ICYmIChlLmZsYWdzICY9IC00MDk3KX1mdW5jdGlvbiBidShlLCB0LCBuKSB7SmkgPSBlLCBrdShlLCB0LCBuKX1mdW5jdGlvbiBrdShlLCB0LCBuKSB7Zm9yICh2YXIgciA9IDAgIT09ICgxICYgZS5tb2RlKTsgbnVsbCAhPT0gSmk7KSB7dmFyIGwgPSBKaSxhID0gbC5jaGlsZDtpZiAoMjIgPT09IGwudGFnICYmIHIpIHt2YXIgbyA9IG51bGwgIT09IGwubWVtb2l6ZWRTdGF0ZSB8fCBZaTtpZiAoIW8pIHt2YXIgaSA9IGwuYWx0ZXJuYXRlLHUgPSBudWxsICE9PSBpICYmIG51bGwgIT09IGkubWVtb2l6ZWRTdGF0ZSB8fCBYaTtpID0gWWk7dmFyIHMgPSBYaTtpZiAoWWkgPSBvLCAoWGkgPSB1KSAmJiAhcylmb3IgKEppID0gbDsgbnVsbCAhPT0gSmk7KSB1ID0gKG8gPSBKaSkuY2hpbGQsIDIyID09PSBvLnRhZyAmJiBudWxsICE9PSBvLm1lbW9pemVkU3RhdGUgPyBTdShsKSA6IG51bGwgIT09IHUgPyAodS5yZXR1cm4gPSBvLCBKaSA9IHUpIDogU3UobCk7Zm9yICg7IG51bGwgIT09IGE7KSBKaSA9IGEsIGt1KGEsIHQsIG4pLCBhID0gYS5zaWJsaW5nO0ppID0gbCwgWWkgPSBpLCBYaSA9IHN9d3UoZSl9IGVsc2UgMCAhPT0gKDg3NzIgJiBsLnN1YnRyZWVGbGFncykgJiYgbnVsbCAhPT0gYSA/IChhLnJldHVybiA9IGwsIEppID0gYSkgOiB3dShlKX19ZnVuY3Rpb24gd3UoZSkge2ZvciAoOyBudWxsICE9PSBKaTspIHt2YXIgdCA9IEppO2lmICgwICE9PSAoODc3MiAmIHQuZmxhZ3MpKSB7dmFyIG4gPSB0LmFsdGVybmF0ZTt0cnkge2lmICgwICE9PSAoODc3MiAmIHQuZmxhZ3MpKSBzd2l0Y2ggKHQudGFnKSB7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpYaSB8fCBsdSg1LCB0KTticmVhaztjYXNlIDE6dmFyIHIgPSB0LnN0YXRlTm9kZTtpZiAoNCAmIHQuZmxhZ3MgJiYgIVhpKWlmIChudWxsID09PSBuKSByLmNvbXBvbmVudERpZE1vdW50KCk7ZWxzZSB7dmFyIGwgPSB0LmVsZW1lbnRUeXBlID09PSB0LnR5cGUgPyBuLm1lbW9pemVkUHJvcHMgOiB2YSh0LnR5cGUsIG4ubWVtb2l6ZWRQcm9wcyk7ci5jb21wb25lbnREaWRVcGRhdGUobCwgbi5tZW1vaXplZFN0YXRlLCByLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlKX0gdmFyIG8gPSB0LnVwZGF0ZVF1ZXVlO251bGwgIT09IG8gJiYgQmEodCwgbywgcik7YnJlYWs7Y2FzZSAzOnZhciBpID0gdC51cGRhdGVRdWV1ZTtpZiAobnVsbCAhPT0gaSkge2lmIChuID0gbnVsbCwgbnVsbCAhPT0gdC5jaGlsZCkgc3dpdGNoICh0LmNoaWxkLnRhZykge2Nhc2UgNTpjYXNlIDE6biA9IHQuY2hpbGQuc3RhdGVOb2RlfUJhKHQsIGksIG4pfWJyZWFrO2Nhc2UgNTp2YXIgdSA9IHQuc3RhdGVOb2RlO2lmIChudWxsID09PSBuICYmIDQgJiB0LmZsYWdzKSB7biA9IHU7dmFyIHMgPSB0Lm1lbW9pemVkUHJvcHM7c3dpdGNoICh0LnR5cGUpIHtjYXNlICJidXR0b24iOmNhc2UgImlucHV0IjpjYXNlICJzZWxlY3QiOmNhc2UgInRleHRhcmVhIjpzLmF1dG9Gb2N1cyAmJiBuLmZvY3VzKCk7YnJlYWs7Y2FzZSAiaW1nIjpzLnNyYyAmJiAobi5zcmMgPSBzLnNyYyl9fWJyZWFrO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMTpjYXNlIDIyOmNhc2UgMjM6Y2FzZSAyNTpicmVhaztjYXNlIDEzOmlmIChudWxsID09PSB0Lm1lbW9pemVkU3RhdGUpIHt2YXIgYyA9IHQuYWx0ZXJuYXRlO2lmIChudWxsICE9PSBjKSB7dmFyIGYgPSBjLm1lbW9pemVkU3RhdGU7aWYgKG51bGwgIT09IGYpIHt2YXIgZCA9IGYuZGVoeWRyYXRlZDtudWxsICE9PSBkICYmIEF0KGQpfX19YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MykpfVhpIHx8IDUxMiAmIHQuZmxhZ3MgJiYgYXUodCl9IGNhdGNoIChwKSB7RXModCwgdC5yZXR1cm4sIHApfX1pZiAodCA9PT0gZSkge0ppID0gbnVsbDticmVha31pZiAobnVsbCAhPT0gKG4gPSB0LnNpYmxpbmcpKSB7bi5yZXR1cm4gPSB0LnJldHVybiwgSmkgPSBuO2JyZWFrfUppID0gdC5yZXR1cm59fWZ1bmN0aW9uIHh1KGUpIHtmb3IgKDsgbnVsbCAhPT0gSmk7KSB7dmFyIHQgPSBKaTtpZiAodCA9PT0gZSkge0ppID0gbnVsbDticmVha312YXIgbiA9IHQuc2libGluZztpZiAobnVsbCAhPT0gbikge24ucmV0dXJuID0gdC5yZXR1cm4sIEppID0gbjticmVha31KaSA9IHQucmV0dXJufX1mdW5jdGlvbiBTdShlKSB7Zm9yICg7IG51bGwgIT09IEppOykge3ZhciB0ID0gSmk7dHJ5IHtzd2l0Y2ggKHQudGFnKSB7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTp2YXIgbiA9IHQucmV0dXJuO3RyeSB7bHUoNCwgdCl9IGNhdGNoICh1KSB7RXModCwgbiwgdSl9YnJlYWs7Y2FzZSAxOnZhciByID0gdC5zdGF0ZU5vZGU7aWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiByLmNvbXBvbmVudERpZE1vdW50KSB7dmFyIGwgPSB0LnJldHVybjt0cnkge3IuY29tcG9uZW50RGlkTW91bnQoKX0gY2F0Y2ggKHUpIHtFcyh0LCBsLCB1KX19dmFyIGEgPSB0LnJldHVybjt0cnkge2F1KHQpfSBjYXRjaCAodSkge0VzKHQsIGEsIHUpfWJyZWFrO2Nhc2UgNTp2YXIgbyA9IHQucmV0dXJuO3RyeSB7YXUodCl9IGNhdGNoICh1KSB7RXModCwgbywgdSl9fX0gY2F0Y2ggKHUpIHtFcyh0LCB0LnJldHVybiwgdSl9aWYgKHQgPT09IGUpIHtKaSA9IG51bGw7YnJlYWt9dmFyIGkgPSB0LnNpYmxpbmc7aWYgKG51bGwgIT09IGkpIHtpLnJldHVybiA9IHQucmV0dXJuLCBKaSA9IGk7YnJlYWt9SmkgPSB0LnJldHVybn19dmFyIEN1LCBFdSA9IE1hdGguY2VpbCxfdSA9IGsuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcixOdSA9IGsuUmVhY3RDdXJyZW50T3duZXIsUHUgPSBrLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLEx1ID0gMCx6dSA9IG51bGwsTXUgPSBudWxsLEZ1ID0gMCxUdSA9IDAsVnUgPSBDbCgwKSxIdSA9IDAsanUgPSBudWxsLER1ID0gMCxCdSA9IDAsUnUgPSAwLE91ID0gbnVsbCxJdSA9IG51bGwsQXUgPSAwLFV1ID0gMSAvIDAsUXUgPSBudWxsLFd1ID0gITEsJHUgPSBudWxsLFp1ID0gbnVsbCxLdSA9ICExLHF1ID0gbnVsbCxZdSA9IDAsWHUgPSAwLEd1ID0gbnVsbCxKdSA9IC0xLGVzID0gMDtmdW5jdGlvbiB0cygpIHtyZXR1cm4gMCAhPT0gKDYgJiBMdSkgPyBYZSgpIDogLTEgIT09IEp1ID8gSnUgOiBKdSA9IFhlKCl9ZnVuY3Rpb24gbnMoZSkge3JldHVybiAwID09PSAoMSAmIGUubW9kZSkgPyAxIDogMCAhPT0gKDIgJiBMdSkgJiYgMCAhPT0gRnUgPyBGdSAmIC1GdSA6IG51bGwgIT09IG1hLnRyYW5zaXRpb24gPyAoMCA9PT0gZXMgJiYgKGVzID0gbXQoKSksIGVzKSA6IDAgIT09IChlID0gYnQpID8gZSA6IGUgPSB2b2lkIDAgPT09IChlID0gd2luZG93LmV2ZW50KSA/IDE2IDogWXQoZS50eXBlKX1mdW5jdGlvbiBycyhlLCB0LCBuLCByKSB7aWYgKDUwIDwgWHUpIHRocm93IFh1ID0gMCwgR3UgPSBudWxsLCBFcnJvcihhKDE4NSkpO2d0KGUsIG4sIHIpLCAwICE9PSAoMiAmIEx1KSAmJiBlID09PSB6dSB8fCAoZSA9PT0genUgJiYgKDAgPT09ICgyICYgTHUpICYmIChCdSB8PSBuKSwgNCA9PT0gSHUgJiYgdXMoZSwgRnUpKSwgbHMoZSwgciksIDEgPT09IG4gJiYgMCA9PT0gTHUgJiYgMCA9PT0gKDEgJiB0Lm1vZGUpICYmIChVdSA9IFhlKCkgKyA1MDAsIFJsICYmIEFsKCkpKX1mdW5jdGlvbiBscyhlLCB0KSB7dmFyIG4gPSBlLmNhbGxiYWNrTm9kZTshIGZ1bmN0aW9uKGUsIHQpIHtmb3IgKHZhciBuID0gZS5zdXNwZW5kZWRMYW5lcywgciA9IGUucGluZ2VkTGFuZXMsIGwgPSBlLmV4cGlyYXRpb25UaW1lcywgYSA9IGUucGVuZGluZ0xhbmVzOyAwIDwgYTspIHt2YXIgbyA9IDMxIC0gb3QoYSksaSA9IDEgPDwgbyx1ID0gbFtvXTsgLSAxID09PSB1ID8gMCAhPT0gKGkgJiBuKSAmJiAwID09PSAoaSAmIHIpIHx8IChsW29dID0gcHQoaSwgdCkpIDogdSA8PSB0ICYmIChlLmV4cGlyZWRMYW5lcyB8PSBpKSwgYSAmPSB+aX19KGUsIHQpO3ZhciByID0gZHQoZSwgZSA9PT0genUgPyBGdSA6IDApO2lmICgwID09PSByKSBudWxsICE9PSBuICYmIEtlKG4pLCBlLmNhbGxiYWNrTm9kZSA9IG51bGwsIGUuY2FsbGJhY2tQcmlvcml0eSA9IDA7ZWxzZSBpZiAodCA9IHIgJiAtciwgZS5jYWxsYmFja1ByaW9yaXR5ICE9PSB0KSB7aWYgKG51bGwgIT0gbiAmJiBLZShuKSwgMSA9PT0gdCkgMCA9PT0gZS50YWcgPyBmdW5jdGlvbihlKSB7UmwgPSAhMCwgSWwoZSl9KHNzLmJpbmQobnVsbCwgZSkpIDogSWwoc3MuYmluZChudWxsLCBlKSksIG9sKChmdW5jdGlvbigpIHswID09PSAoNiAmIEx1KSAmJiBBbCgpfSkpLCBuID0gbnVsbDtlbHNlIHtzd2l0Y2ggKGt0KHIpKSB7Y2FzZSAxOm4gPSBKZTticmVhaztjYXNlIDQ6biA9IGV0O2JyZWFrO2Nhc2UgMTY6ZGVmYXVsdDpuID0gdHQ7YnJlYWs7Y2FzZSA1MzY4NzA5MTI6biA9IHJ0fW4gPSB6cyhuLCBhcy5iaW5kKG51bGwsIGUpKX1lLmNhbGxiYWNrUHJpb3JpdHkgPSB0LCBlLmNhbGxiYWNrTm9kZSA9IG59fWZ1bmN0aW9uIGFzKGUsIHQpIHtpZiAoSnUgPSAtMSwgZXMgPSAwLCAwICE9PSAoNiAmIEx1KSkgdGhyb3cgRXJyb3IoYSgzMjcpKTt2YXIgbiA9IGUuY2FsbGJhY2tOb2RlO2lmIChTcygpICYmIGUuY2FsbGJhY2tOb2RlICE9PSBuKSByZXR1cm4gbnVsbDt2YXIgciA9IGR0KGUsIGUgPT09IHp1ID8gRnUgOiAwKTtpZiAoMCA9PT0gcikgcmV0dXJuIG51bGw7aWYgKDAgIT09ICgzMCAmIHIpIHx8IDAgIT09IChyICYgZS5leHBpcmVkTGFuZXMpIHx8IHQpIHQgPSBncyhlLCByKTtlbHNlIHt0ID0gcjt2YXIgbCA9IEx1O0x1IHw9IDI7dmFyIG8gPSBtcygpO2ZvciAoenUgPT09IGUgJiYgRnUgPT09IHQgfHwgKFF1ID0gbnVsbCwgVXUgPSBYZSgpICsgNTAwLCBwcyhlLCB0KSk7OykgdHJ5IHticygpO2JyZWFrfSBjYXRjaCAodSkge2hzKGUsIHUpfXdhKCksIF91LmN1cnJlbnQgPSBvLCBMdSA9IGwsIG51bGwgIT09IE11ID8gdCA9IDAgOiAoenUgPSBudWxsLCBGdSA9IDAsIHQgPSBIdSl9aWYgKDAgIT09IHQpIHtpZiAoMiA9PT0gdCAmJiAoMCAhPT0gKGwgPSBodChlKSkgJiYgKHIgPSBsLCB0ID0gb3MoZSwgbCkpKSwgMSA9PT0gdCkgdGhyb3cgbiA9IGp1LCBwcyhlLCAwKSwgdXMoZSwgciksIGxzKGUsIFhlKCkpLCBuO2lmICg2ID09PSB0KSB1cyhlLCByKTtlbHNlIHtpZiAobCA9IGUuY3VycmVudC5hbHRlcm5hdGUsIDAgPT09ICgzMCAmIHIpICYmICEgZnVuY3Rpb24oZSkge2ZvciAodmFyIHQgPSBlOzspIHtpZiAoMTYzODQgJiB0LmZsYWdzKSB7dmFyIG4gPSB0LnVwZGF0ZVF1ZXVlO2lmIChudWxsICE9PSBuICYmIG51bGwgIT09IChuID0gbi5zdG9yZXMpKWZvciAodmFyIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykge3ZhciBsID0gbltyXSxhID0gbC5nZXRTbmFwc2hvdDtsID0gbC52YWx1ZTt0cnkge2lmICghaXIoYSgpLCBsKSkgcmV0dXJuICExfSBjYXRjaCAoaSkge3JldHVybiAhMX19fWlmIChuID0gdC5jaGlsZCwgMTYzODQgJiB0LnN1YnRyZWVGbGFncyAmJiBudWxsICE9PSBuKSBuLnJldHVybiA9IHQsIHQgPSBuO2Vsc2Uge2lmICh0ID09PSBlKSBicmVhaztmb3IgKDsgbnVsbCA9PT0gdC5zaWJsaW5nOykge2lmIChudWxsID09PSB0LnJldHVybiB8fCB0LnJldHVybiA9PT0gZSkgcmV0dXJuICEwO3QgPSB0LnJldHVybn10LnNpYmxpbmcucmV0dXJuID0gdC5yZXR1cm4sIHQgPSB0LnNpYmxpbmd9fXJldHVybiAhMH0obCkgJiYgKDIgPT09ICh0ID0gZ3MoZSwgcikpICYmICgwICE9PSAobyA9IGh0KGUpKSAmJiAociA9IG8sIHQgPSBvcyhlLCBvKSkpLCAxID09PSB0KSkgdGhyb3cgbiA9IGp1LCBwcyhlLCAwKSwgdXMoZSwgciksIGxzKGUsIFhlKCkpLCBuO3N3aXRjaCAoZS5maW5pc2hlZFdvcmsgPSBsLCBlLmZpbmlzaGVkTGFuZXMgPSByLCB0KSB7Y2FzZSAwOmNhc2UgMTp0aHJvdyBFcnJvcihhKDM0NSkpO2Nhc2UgMjpjYXNlIDU6eHMoZSwgSXUsIFF1KTticmVhaztjYXNlIDM6aWYgKHVzKGUsIHIpLCAoMTMwMDIzNDI0ICYgcikgPT09IHIgJiYgMTAgPCAodCA9IEF1ICsgNTAwIC0gWGUoKSkpIHtpZiAoMCAhPT0gZHQoZSwgMCkpIGJyZWFrO2lmICgoKGwgPSBlLnN1c3BlbmRlZExhbmVzKSAmIHIpICE9PSByKSB7dHMoKSwgZS5waW5nZWRMYW5lcyB8PSBlLnN1c3BlbmRlZExhbmVzICYgbDticmVha31lLnRpbWVvdXRIYW5kbGUgPSBybCh4cy5iaW5kKG51bGwsIGUsIEl1LCBRdSksIHQpO2JyZWFrfXhzKGUsIEl1LCBRdSk7YnJlYWs7Y2FzZSA0OmlmICh1cyhlLCByKSwgKDQxOTQyNDAgJiByKSA9PT0gcikgYnJlYWs7Zm9yICh0ID0gZS5ldmVudFRpbWVzLCBsID0gLTE7IDAgPCByOykge3ZhciBpID0gMzEgLSBvdChyKTtvID0gMSA8PCBpLCAoaSA9IHRbaV0pID4gbCAmJiAobCA9IGkpLCByICY9IH5vfWlmIChyID0gbCwgMTAgPCAociA9ICgxMjAgPiAociA9IFhlKCkgLSByKSA/IDEyMCA6IDQ4MCA+IHIgPyA0ODAgOiAxMDgwID4gciA/IDEwODAgOiAxOTIwID4gciA/IDE5MjAgOiAzZTMgPiByID8gM2UzIDogNDMyMCA+IHIgPyA0MzIwIDogMTk2MCAqIEV1KHIgLyAxOTYwKSkgLSByKSkge2UudGltZW91dEhhbmRsZSA9IHJsKHhzLmJpbmQobnVsbCwgZSwgSXUsIFF1KSwgcik7YnJlYWt9eHMoZSwgSXUsIFF1KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKGEoMzI5KSl9fX1yZXR1cm4gbHMoZSwgWGUoKSksIGUuY2FsbGJhY2tOb2RlID09PSBuID8gYXMuYmluZChudWxsLCBlKSA6IG51bGx9ZnVuY3Rpb24gb3MoZSwgdCkge3ZhciBuID0gT3U7cmV0dXJuIGUuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCAmJiAocHMoZSwgdCkuZmxhZ3MgfD0gMjU2KSwgMiAhPT0gKGUgPSBncyhlLCB0KSkgJiYgKHQgPSBJdSwgSXUgPSBuLCBudWxsICE9PSB0ICYmIGlzKHQpKSwgZX1mdW5jdGlvbiBpcyhlKSB7bnVsbCA9PT0gSXUgPyBJdSA9IGUgOiBJdS5wdXNoLmFwcGx5KEl1LCBlKX1mdW5jdGlvbiB1cyhlLCB0KSB7Zm9yICh0ICY9IH5SdSwgdCAmPSB+QnUsIGUuc3VzcGVuZGVkTGFuZXMgfD0gdCwgZS5waW5nZWRMYW5lcyAmPSB+dCwgZSA9IGUuZXhwaXJhdGlvblRpbWVzOyAwIDwgdDspIHt2YXIgbiA9IDMxIC0gb3QodCksciA9IDEgPDwgbjtlW25dID0gLTEsIHQgJj0gfnJ9fWZ1bmN0aW9uIHNzKGUpIHtpZiAoMCAhPT0gKDYgJiBMdSkpIHRocm93IEVycm9yKGEoMzI3KSk7U3MoKTt2YXIgdCA9IGR0KGUsIDApO2lmICgwID09PSAoMSAmIHQpKSByZXR1cm4gbHMoZSwgWGUoKSksIG51bGw7dmFyIG4gPSBncyhlLCB0KTtpZiAoMCAhPT0gZS50YWcgJiYgMiA9PT0gbikge3ZhciByID0gaHQoZSk7MCAhPT0gciAmJiAodCA9IHIsIG4gPSBvcyhlLCByKSl9aWYgKDEgPT09IG4pIHRocm93IG4gPSBqdSwgcHMoZSwgMCksIHVzKGUsIHQpLCBscyhlLCBYZSgpKSwgbjtpZiAoNiA9PT0gbikgdGhyb3cgRXJyb3IoYSgzNDUpKTtyZXR1cm4gZS5maW5pc2hlZFdvcmsgPSBlLmN1cnJlbnQuYWx0ZXJuYXRlLCBlLmZpbmlzaGVkTGFuZXMgPSB0LCB4cyhlLCBJdSwgUXUpLCBscyhlLCBYZSgpKSwgbnVsbH1mdW5jdGlvbiBjcyhlLCB0KSB7dmFyIG4gPSBMdTtMdSB8PSAxO3RyeSB7cmV0dXJuIGUodCl9IGZpbmFsbHkgezAgPT09IChMdSA9IG4pICYmIChVdSA9IFhlKCkgKyA1MDAsIFJsICYmIEFsKCkpfX1mdW5jdGlvbiBmcyhlKSB7bnVsbCAhPT0gcXUgJiYgMCA9PT0gcXUudGFnICYmIDAgPT09ICg2ICYgTHUpICYmIFNzKCk7dmFyIHQgPSBMdTtMdSB8PSAxO3ZhciBuID0gUHUudHJhbnNpdGlvbixyID0gYnQ7dHJ5IHtpZiAoUHUudHJhbnNpdGlvbiA9IG51bGwsIGJ0ID0gMSwgZSkgcmV0dXJuIGUoKX0gZmluYWxseSB7YnQgPSByLCBQdS50cmFuc2l0aW9uID0gbiwgMCA9PT0gKDYgJiAoTHUgPSB0KSkgJiYgQWwoKX19ZnVuY3Rpb24gZHMoKSB7VHUgPSBWdS5jdXJyZW50LCBFbChWdSl9ZnVuY3Rpb24gcHMoZSwgdCkge2UuZmluaXNoZWRXb3JrID0gbnVsbCwgZS5maW5pc2hlZExhbmVzID0gMDt2YXIgbiA9IGUudGltZW91dEhhbmRsZTtpZiAoLTEgIT09IG4gJiYgKGUudGltZW91dEhhbmRsZSA9IC0xLCBsbChuKSksIG51bGwgIT09IE11KWZvciAobiA9IE11LnJldHVybjsgbnVsbCAhPT0gbjspIHt2YXIgciA9IG47c3dpdGNoICh0YShyKSwgci50YWcpIHtjYXNlIDE6bnVsbCAhPT0gKHIgPSByLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMpICYmIHZvaWQgMCAhPT0gciAmJiBUbCgpO2JyZWFrO2Nhc2UgMzpsbygpLCBFbChMbCksIEVsKFBsKSwgY28oKTticmVhaztjYXNlIDU6b28ocik7YnJlYWs7Y2FzZSA0OmxvKCk7YnJlYWs7Y2FzZSAxMzpjYXNlIDE5OkVsKGlvKTticmVhaztjYXNlIDEwOnhhKHIudHlwZS5fY29udGV4dCk7YnJlYWs7Y2FzZSAyMjpjYXNlIDIzOmRzKCl9biA9IG4ucmV0dXJufWlmICh6dSA9IGUsIE11ID0gZSA9IFZzKGUuY3VycmVudCwgbnVsbCksIEZ1ID0gVHUgPSB0LCBIdSA9IDAsIGp1ID0gbnVsbCwgUnUgPSBCdSA9IER1ID0gMCwgSXUgPSBPdSA9IG51bGwsIG51bGwgIT09IF9hKSB7Zm9yICh0ID0gMDsgdCA8IF9hLmxlbmd0aDsgdCsrKWlmIChudWxsICE9PSAociA9IChuID0gX2FbdF0pLmludGVybGVhdmVkKSkge24uaW50ZXJsZWF2ZWQgPSBudWxsO3ZhciBsID0gci5uZXh0LGEgPSBuLnBlbmRpbmc7aWYgKG51bGwgIT09IGEpIHt2YXIgbyA9IGEubmV4dDthLm5leHQgPSBsLCByLm5leHQgPSBvfW4ucGVuZGluZyA9IHJ9IF9hID0gbnVsbH1yZXR1cm4gZX1mdW5jdGlvbiBocyhlLCB0KSB7Zm9yICg7Oykge3ZhciBuID0gTXU7dHJ5IHtpZiAod2EoKSwgZm8uY3VycmVudCA9IG9pLCB5bykge2ZvciAodmFyIHIgPSBtby5tZW1vaXplZFN0YXRlOyBudWxsICE9PSByOykge3ZhciBsID0gci5xdWV1ZTtudWxsICE9PSBsICYmIChsLnBlbmRpbmcgPSBudWxsKSwgciA9IHIubmV4dH15byA9ICExfWlmIChobyA9IDAsIGdvID0gdm8gPSBtbyA9IG51bGwsIGJvID0gITEsIGtvID0gMCwgTnUuY3VycmVudCA9IG51bGwsIG51bGwgPT09IG4gfHwgbnVsbCA9PT0gbi5yZXR1cm4pIHtIdSA9IDEsIGp1ID0gdCwgTXUgPSBudWxsO2JyZWFrfWU6IHt2YXIgbyA9IGUsaSA9IG4ucmV0dXJuLHUgPSBuLHMgPSB0O2lmICh0ID0gRnUsIHUuZmxhZ3MgfD0gMzI3NjgsIG51bGwgIT09IHMgJiYgIm9iamVjdCIgPT09IHR5cGVvZiBzICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBzLnRoZW4pIHt2YXIgYyA9IHMsZiA9IHUsZCA9IGYudGFnO2lmICgwID09PSAoMSAmIGYubW9kZSkgJiYgKDAgPT09IGQgfHwgMTEgPT09IGQgfHwgMTUgPT09IGQpKSB7dmFyIHAgPSBmLmFsdGVybmF0ZTtwID8gKGYudXBkYXRlUXVldWUgPSBwLnVwZGF0ZVF1ZXVlLCBmLm1lbW9pemVkU3RhdGUgPSBwLm1lbW9pemVkU3RhdGUsIGYubGFuZXMgPSBwLmxhbmVzKSA6IChmLnVwZGF0ZVF1ZXVlID0gbnVsbCwgZi5tZW1vaXplZFN0YXRlID0gbnVsbCl9dmFyIGggPSBnaShpKTtpZiAobnVsbCAhPT0gaCkge2guZmxhZ3MgJj0gLTI1NywgeWkoaCwgaSwgdSwgMCwgdCksIDEgJiBoLm1vZGUgJiYgdmkobywgYywgdCksIHMgPSBjO3ZhciBtID0gKHQgPSBoKS51cGRhdGVRdWV1ZTtpZiAobnVsbCA9PT0gbSkge3ZhciB2ID0gbmV3IFNldDt2LmFkZChzKSwgdC51cGRhdGVRdWV1ZSA9IHZ9IGVsc2UgbS5hZGQocyk7YnJlYWsgZX1pZiAoMCA9PT0gKDEgJiB0KSkge3ZpKG8sIGMsIHQpLCB2cygpO2JyZWFrIGV9cyA9IEVycm9yKGEoNDI2KSl9IGVsc2UgaWYgKGxhICYmIDEgJiB1Lm1vZGUpIHt2YXIgZyA9IGdpKGkpO2lmIChudWxsICE9PSBnKSB7MCA9PT0gKDY1NTM2ICYgZy5mbGFncykgJiYgKGcuZmxhZ3MgfD0gMjU2KSwgeWkoZywgaSwgdSwgMCwgdCksIGhhKGNpKHMsIHUpKTticmVhayBlfX1vID0gcyA9IGNpKHMsIHUpLDQgIT09IEh1ICYmIChIdSA9IDIpLG51bGwgPT09IE91ID8gT3UgPSBbb10gOiBPdS5wdXNoKG8pLG8gPSBpO2RvIHtzd2l0Y2ggKG8udGFnKSB7Y2FzZSAzOm8uZmxhZ3MgfD0gNjU1MzYsIHQgJj0gLXQsIG8ubGFuZXMgfD0gdCwgamEobywgaGkoMCwgcywgdCkpO2JyZWFrIGU7Y2FzZSAxOnUgPSBzO3ZhciB5ID0gby50eXBlLGIgPSBvLnN0YXRlTm9kZTtpZiAoMCA9PT0gKDEyOCAmIG8uZmxhZ3MpICYmICgiZnVuY3Rpb24iID09PSB0eXBlb2YgeS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHwgbnVsbCAhPT0gYiAmJiAiZnVuY3Rpb24iID09PSB0eXBlb2YgYi5jb21wb25lbnREaWRDYXRjaCAmJiAobnVsbCA9PT0gWnUgfHwgIVp1LmhhcyhiKSkpKSB7by5mbGFncyB8PSA2NTUzNiwgdCAmPSAtdCwgby5sYW5lcyB8PSB0LCBqYShvLCBtaShvLCB1LCB0KSk7YnJlYWsgZX19byA9IG8ucmV0dXJufSB3aGlsZSAobnVsbCAhPT0gbyl9d3Mobil9IGNhdGNoIChrKSB7dCA9IGssIE11ID09PSBuICYmIG51bGwgIT09IG4gJiYgKE11ID0gbiA9IG4ucmV0dXJuKTtjb250aW51ZX1icmVha319ZnVuY3Rpb24gbXMoKSB7dmFyIGUgPSBfdS5jdXJyZW50O3JldHVybiBfdS5jdXJyZW50ID0gb2ksIG51bGwgPT09IGUgPyBvaSA6IGV9ZnVuY3Rpb24gdnMoKSB7MCAhPT0gSHUgJiYgMyAhPT0gSHUgJiYgMiAhPT0gSHUgfHwgKEh1ID0gNCksIG51bGwgPT09IHp1IHx8IDAgPT09ICgyNjg0MzU0NTUgJiBEdSkgJiYgMCA9PT0gKDI2ODQzNTQ1NSAmIEJ1KSB8fCB1cyh6dSwgRnUpfWZ1bmN0aW9uIGdzKGUsIHQpIHt2YXIgbiA9IEx1O0x1IHw9IDI7dmFyIHIgPSBtcygpO2ZvciAoenUgPT09IGUgJiYgRnUgPT09IHQgfHwgKFF1ID0gbnVsbCwgcHMoZSwgdCkpOzspIHRyeSB7eXMoKTticmVha30gY2F0Y2ggKGwpIHtocyhlLCBsKX1pZiAod2EoKSwgTHUgPSBuLCBfdS5jdXJyZW50ID0gciwgbnVsbCAhPT0gTXUpIHRocm93IEVycm9yKGEoMjYxKSk7cmV0dXJuIHp1ID0gbnVsbCwgRnUgPSAwLCBIdX1mdW5jdGlvbiB5cygpIHtmb3IgKDsgbnVsbCAhPT0gTXU7KSBrcyhNdSl9ZnVuY3Rpb24gYnMoKSB7Zm9yICg7IG51bGwgIT09IE11ICYmICFxZSgpOykga3MoTXUpfWZ1bmN0aW9uIGtzKGUpIHt2YXIgdCA9IEN1KGUuYWx0ZXJuYXRlLCBlLCBUdSk7ZS5tZW1vaXplZFByb3BzID0gZS5wZW5kaW5nUHJvcHMsIG51bGwgPT09IHQgPyB3cyhlKSA6IE11ID0gdCwgTnUuY3VycmVudCA9IG51bGx9ZnVuY3Rpb24gd3MoZSkge3ZhciB0ID0gZTtkbyB7dmFyIG4gPSB0LmFsdGVybmF0ZTtpZiAoZSA9IHQucmV0dXJuLCAwID09PSAoMzI3NjggJiB0LmZsYWdzKSkge2lmIChudWxsICE9PSAobiA9IEtpKG4sIHQsIFR1KSkpIHJldHVybiB2b2lkKE11ID0gbil9IGVsc2Uge2lmIChudWxsICE9PSAobiA9IHFpKG4sIHQpKSkgcmV0dXJuIG4uZmxhZ3MgJj0gMzI3NjcsIHZvaWQoTXUgPSBuKTtpZiAobnVsbCA9PT0gZSkgcmV0dXJuIEh1ID0gNiwgdm9pZChNdSA9IG51bGwpO2UuZmxhZ3MgfD0gMzI3NjgsIGUuc3VidHJlZUZsYWdzID0gMCwgZS5kZWxldGlvbnMgPSBudWxsfWlmIChudWxsICE9PSAodCA9IHQuc2libGluZykpIHJldHVybiB2b2lkKE11ID0gdCk7TXUgPSB0ID0gZX0gd2hpbGUgKG51bGwgIT09IHQpOzAgPT09IEh1ICYmIChIdSA9IDUpfWZ1bmN0aW9uIHhzKGUsIHQsIG4pIHt2YXIgciA9IGJ0LGwgPSBQdS50cmFuc2l0aW9uO3RyeSB7UHUudHJhbnNpdGlvbiA9IG51bGwsIGJ0ID0gMSxmdW5jdGlvbihlLCB0LCBuLCByKSB7ZG8ge1NzKCl9IHdoaWxlIChudWxsICE9PSBxdSk7aWYgKDAgIT09ICg2ICYgTHUpKSB0aHJvdyBFcnJvcihhKDMyNykpO24gPSBlLmZpbmlzaGVkV29yazt2YXIgbCA9IGUuZmluaXNoZWRMYW5lcztpZiAobnVsbCA9PT0gbikgcmV0dXJuIG51bGw7aWYgKGUuZmluaXNoZWRXb3JrID0gbnVsbCwgZS5maW5pc2hlZExhbmVzID0gMCwgbiA9PT0gZS5jdXJyZW50KSB0aHJvdyBFcnJvcihhKDE3NykpO2UuY2FsbGJhY2tOb2RlID0gbnVsbCwgZS5jYWxsYmFja1ByaW9yaXR5ID0gMDt2YXIgbyA9IG4ubGFuZXMgfCBuLmNoaWxkTGFuZXM7aWYgKGZ1bmN0aW9uKGUsIHQpIHt2YXIgbiA9IGUucGVuZGluZ0xhbmVzICYgfnQ7ZS5wZW5kaW5nTGFuZXMgPSB0LCBlLnN1c3BlbmRlZExhbmVzID0gMCwgZS5waW5nZWRMYW5lcyA9IDAsIGUuZXhwaXJlZExhbmVzICY9IHQsIGUubXV0YWJsZVJlYWRMYW5lcyAmPSB0LCBlLmVudGFuZ2xlZExhbmVzICY9IHQsIHQgPSBlLmVudGFuZ2xlbWVudHM7dmFyIHIgPSBlLmV2ZW50VGltZXM7Zm9yIChlID0gZS5leHBpcmF0aW9uVGltZXM7IDAgPCBuOykge3ZhciBsID0gMzEgLSBvdChuKSxhID0gMSA8PCBsO3RbbF0gPSAwLCByW2xdID0gLTEsIGVbbF0gPSAtMSwgbiAmPSB+YX19KGUsIG8pLCBlID09PSB6dSAmJiAoTXUgPSB6dSA9IG51bGwsIEZ1ID0gMCksIDAgPT09ICgyMDY0ICYgbi5zdWJ0cmVlRmxhZ3MpICYmIDAgPT09ICgyMDY0ICYgbi5mbGFncykgfHwgS3UgfHwgKEt1ID0gITAsIHpzKHR0LCAoZnVuY3Rpb24oKSB7cmV0dXJuIFNzKCksIG51bGx9KSkpLCBvID0gMCAhPT0gKDE1OTkwICYgbi5mbGFncyksIDAgIT09ICgxNTk5MCAmIG4uc3VidHJlZUZsYWdzKSB8fCBvKSB7byA9IFB1LnRyYW5zaXRpb24sIFB1LnRyYW5zaXRpb24gPSBudWxsO3ZhciBpID0gYnQ7YnQgPSAxO3ZhciB1ID0gTHU7THUgfD0gNCwgTnUuY3VycmVudCA9IG51bGwsZnVuY3Rpb24oZSwgdCkge2lmIChlbCA9IFF0LCBwcihlID0gZHIoKSkpIHtpZiAoInNlbGVjdGlvblN0YXJ0IiBpbiBlKSB2YXIgbiA9IHtzdGFydDogZS5zZWxlY3Rpb25TdGFydCxlbmQ6IGUuc2VsZWN0aW9uRW5kfTtlbHNlIGU6IHt2YXIgciA9IChuID0gKG4gPSBlLm93bmVyRG9jdW1lbnQpICYmIG4uZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRTZWxlY3Rpb24gJiYgbi5nZXRTZWxlY3Rpb24oKTtpZiAociAmJiAwICE9PSByLnJhbmdlQ291bnQpIHtuID0gci5hbmNob3JOb2RlO3ZhciBsID0gci5hbmNob3JPZmZzZXQsbyA9IHIuZm9jdXNOb2RlO3IgPSByLmZvY3VzT2Zmc2V0O3RyeSB7bi5ub2RlVHlwZSwgby5ub2RlVHlwZX0gY2F0Y2ggKHcpIHtuID0gbnVsbDticmVhayBlfXZhciBpID0gMCx1ID0gLTEscyA9IC0xLGMgPSAwLGYgPSAwLGQgPSBlLHAgPSBudWxsO3Q6IGZvciAoOzspIHtmb3IgKHZhciBoOyBkICE9PSBuIHx8IDAgIT09IGwgJiYgMyAhPT0gZC5ub2RlVHlwZSB8fCAodSA9IGkgKyBsKSwgZCAhPT0gbyB8fCAwICE9PSByICYmIDMgIT09IGQubm9kZVR5cGUgfHwgKHMgPSBpICsgciksIDMgPT09IGQubm9kZVR5cGUgJiYgKGkgKz0gZC5ub2RlVmFsdWUubGVuZ3RoKSwgbnVsbCAhPT0gKGggPSBkLmZpcnN0Q2hpbGQpOykgcCA9IGQsIGQgPSBoO2ZvciAoOzspIHtpZiAoZCA9PT0gZSkgYnJlYWsgdDtpZiAocCA9PT0gbiAmJiArK2MgPT09IGwgJiYgKHUgPSBpKSwgcCA9PT0gbyAmJiArK2YgPT09IHIgJiYgKHMgPSBpKSwgbnVsbCAhPT0gKGggPSBkLm5leHRTaWJsaW5nKSkgYnJlYWs7cCA9IChkID0gcCkucGFyZW50Tm9kZX1kID0gaH1uID0gLTEgPT09IHUgfHwgLTEgPT09IHMgPyBudWxsIDoge3N0YXJ0OiB1LGVuZDogc319IGVsc2UgbiA9IG51bGx9biA9IG4gfHwge3N0YXJ0OiAwLGVuZDogMH19IGVsc2UgbiA9IG51bGw7Zm9yICh0bCA9IHtmb2N1c2VkRWxlbTogZSxzZWxlY3Rpb25SYW5nZTogbn0sIFF0ID0gITEsIEppID0gdDsgbnVsbCAhPT0gSmk7KWlmIChlID0gKHQgPSBKaSkuY2hpbGQsIDAgIT09ICgxMDI4ICYgdC5zdWJ0cmVlRmxhZ3MpICYmIG51bGwgIT09IGUpIGUucmV0dXJuID0gdCwgSmkgPSBlO2Vsc2Vmb3IgKDsgbnVsbCAhPT0gSmk7KSB7dCA9IEppO3RyeSB7dmFyIG0gPSB0LmFsdGVybmF0ZTtpZiAoMCAhPT0gKDEwMjQgJiB0LmZsYWdzKSkgc3dpdGNoICh0LnRhZykge2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSA1OmNhc2UgNjpjYXNlIDQ6Y2FzZSAxNzpicmVhaztjYXNlIDE6aWYgKG51bGwgIT09IG0pIHt2YXIgdiA9IG0ubWVtb2l6ZWRQcm9wcyxnID0gbS5tZW1vaXplZFN0YXRlLHkgPSB0LnN0YXRlTm9kZSxiID0geS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh0LmVsZW1lbnRUeXBlID09PSB0LnR5cGUgPyB2IDogdmEodC50eXBlLCB2KSwgZyk7eS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IGJ9YnJlYWs7Y2FzZSAzOnZhciBrID0gdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzsxID09PSBrLm5vZGVUeXBlID8gay50ZXh0Q29udGVudCA9ICIiIDogOSA9PT0gay5ub2RlVHlwZSAmJiBrLmRvY3VtZW50RWxlbWVudCAmJiBrLnJlbW92ZUNoaWxkKGsuZG9jdW1lbnRFbGVtZW50KTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKGEoMTYzKSl9fSBjYXRjaCAodykge0VzKHQsIHQucmV0dXJuLCB3KX1pZiAobnVsbCAhPT0gKGUgPSB0LnNpYmxpbmcpKSB7ZS5yZXR1cm4gPSB0LnJldHVybiwgSmkgPSBlO2JyZWFrfUppID0gdC5yZXR1cm59bSA9IG51LCBudSA9ICExfShlLCBuKSwgZ3UobiwgZSksIGhyKHRsKSwgUXQgPSAhIWVsLCB0bCA9IGVsID0gbnVsbCwgZS5jdXJyZW50ID0gbiwgYnUobiwgZSwgbCksIFllKCksIEx1ID0gdSwgYnQgPSBpLCBQdS50cmFuc2l0aW9uID0gb30gZWxzZSBlLmN1cnJlbnQgPSBuO2lmIChLdSAmJiAoS3UgPSAhMSwgcXUgPSBlLCBZdSA9IGwpLCBvID0gZS5wZW5kaW5nTGFuZXMsIDAgPT09IG8gJiYgKFp1ID0gbnVsbCksIGZ1bmN0aW9uKGUpIHtpZiAoYXQgJiYgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGF0Lm9uQ29tbWl0RmliZXJSb290KSB0cnkge2F0Lm9uQ29tbWl0RmliZXJSb290KGx0LCBlLCB2b2lkIDAsIDEyOCA9PT0gKDEyOCAmIGUuY3VycmVudC5mbGFncykpfSBjYXRjaCAodCkge319KG4uc3RhdGVOb2RlKSwgbHMoZSwgWGUoKSksIG51bGwgIT09IHQpZm9yIChyID0gZS5vblJlY292ZXJhYmxlRXJyb3IsIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgbCA9IHRbbl0sIHIobC52YWx1ZSwge2NvbXBvbmVudFN0YWNrOiBsLnN0YWNrLGRpZ2VzdDogbC5kaWdlc3R9KTtpZiAoV3UpIHRocm93IFd1ID0gITEsIGUgPSAkdSwgJHUgPSBudWxsLCBlOzAgIT09ICgxICYgWXUpICYmIDAgIT09IGUudGFnICYmIFNzKCksIG8gPSBlLnBlbmRpbmdMYW5lcywgMCAhPT0gKDEgJiBvKSA/IGUgPT09IEd1ID8gWHUrKyA6IChYdSA9IDAsIEd1ID0gZSkgOiBYdSA9IDAsIEFsKCl9KGUsIHQsIG4sIHIpfSBmaW5hbGx5IHtQdS50cmFuc2l0aW9uID0gbCwgYnQgPSByfXJldHVybiBudWxsfWZ1bmN0aW9uIFNzKCkge2lmIChudWxsICE9PSBxdSkge3ZhciBlID0ga3QoWXUpLHQgPSBQdS50cmFuc2l0aW9uLG4gPSBidDt0cnkge2lmIChQdS50cmFuc2l0aW9uID0gbnVsbCwgYnQgPSAxNiA+IGUgPyAxNiA6IGUsIG51bGwgPT09IHF1KSB2YXIgciA9ICExO2Vsc2Uge2lmIChlID0gcXUsIHF1ID0gbnVsbCwgWXUgPSAwLCAwICE9PSAoNiAmIEx1KSkgdGhyb3cgRXJyb3IoYSgzMzEpKTt2YXIgbCA9IEx1O2ZvciAoTHUgfD0gNCwgSmkgPSBlLmN1cnJlbnQ7IG51bGwgIT09IEppOykge3ZhciBvID0gSmksaSA9IG8uY2hpbGQ7aWYgKDAgIT09ICgxNiAmIEppLmZsYWdzKSkge3ZhciB1ID0gby5kZWxldGlvbnM7aWYgKG51bGwgIT09IHUpIHtmb3IgKHZhciBzID0gMDsgcyA8IHUubGVuZ3RoOyBzKyspIHt2YXIgYyA9IHVbc107Zm9yIChKaSA9IGM7IG51bGwgIT09IEppOykge3ZhciBmID0gSmk7c3dpdGNoIChmLnRhZykge2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6cnUoOCwgZiwgbyl9dmFyIGQgPSBmLmNoaWxkO2lmIChudWxsICE9PSBkKSBkLnJldHVybiA9IGYsIEppID0gZDtlbHNlZm9yICg7IG51bGwgIT09IEppOykge3ZhciBwID0gKGYgPSBKaSkuc2libGluZyxoID0gZi5yZXR1cm47aWYgKG91KGYpLCBmID09PSBjKSB7SmkgPSBudWxsO2JyZWFrfWlmIChudWxsICE9PSBwKSB7cC5yZXR1cm4gPSBoLCBKaSA9IHA7YnJlYWt9SmkgPSBofX19dmFyIG0gPSBvLmFsdGVybmF0ZTtpZiAobnVsbCAhPT0gbSkge3ZhciB2ID0gbS5jaGlsZDtpZiAobnVsbCAhPT0gdikge20uY2hpbGQgPSBudWxsO2RvIHt2YXIgZyA9IHYuc2libGluZzt2LnNpYmxpbmcgPSBudWxsLCB2ID0gZ30gd2hpbGUgKG51bGwgIT09IHYpfX1KaSA9IG99fWlmICgwICE9PSAoMjA2NCAmIG8uc3VidHJlZUZsYWdzKSAmJiBudWxsICE9PSBpKSBpLnJldHVybiA9IG8sIEppID0gaTtlbHNlIGU6IGZvciAoOyBudWxsICE9PSBKaTspIHtpZiAoMCAhPT0gKDIwNDggJiAobyA9IEppKS5mbGFncykpIHN3aXRjaCAoby50YWcpIHtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OnJ1KDksIG8sIG8ucmV0dXJuKX12YXIgeSA9IG8uc2libGluZztpZiAobnVsbCAhPT0geSkge3kucmV0dXJuID0gby5yZXR1cm4sIEppID0geTticmVhayBlfUppID0gby5yZXR1cm59fXZhciBiID0gZS5jdXJyZW50O2ZvciAoSmkgPSBiOyBudWxsICE9PSBKaTspIHt2YXIgayA9IChpID0gSmkpLmNoaWxkO2lmICgwICE9PSAoMjA2NCAmIGkuc3VidHJlZUZsYWdzKSAmJiBudWxsICE9PSBrKSBrLnJldHVybiA9IGksIEppID0gaztlbHNlIGU6IGZvciAoaSA9IGI7IG51bGwgIT09IEppOykge2lmICgwICE9PSAoMjA0OCAmICh1ID0gSmkpLmZsYWdzKSkgdHJ5IHtzd2l0Y2ggKHUudGFnKSB7Y2FzZSAwOmNhc2UgMTE6Y2FzZSAxNTpsdSg5LCB1KX19IGNhdGNoICh4KSB7RXModSwgdS5yZXR1cm4sIHgpfWlmICh1ID09PSBpKSB7SmkgPSBudWxsO2JyZWFrIGV9dmFyIHcgPSB1LnNpYmxpbmc7aWYgKG51bGwgIT09IHcpIHt3LnJldHVybiA9IHUucmV0dXJuLCBKaSA9IHc7YnJlYWsgZX1KaSA9IHUucmV0dXJufX1pZiAoTHUgPSBsLCBBbCgpLCBhdCAmJiAiZnVuY3Rpb24iID09PSB0eXBlb2YgYXQub25Qb3N0Q29tbWl0RmliZXJSb290KSB0cnkge2F0Lm9uUG9zdENvbW1pdEZpYmVyUm9vdChsdCwgZSl9IGNhdGNoICh4KSB7fXIgPSAhMH1yZXR1cm4gcn0gZmluYWxseSB7YnQgPSBuLCBQdS50cmFuc2l0aW9uID0gdH19cmV0dXJuICExfWZ1bmN0aW9uIENzKGUsIHQsIG4pIHtlID0gVmEoZSwgdCA9IGhpKDAsIHQgPSBjaShuLCB0KSwgMSksIDEpLCB0ID0gdHMoKSwgbnVsbCAhPT0gZSAmJiAoZ3QoZSwgMSwgdCksIGxzKGUsIHQpKX1mdW5jdGlvbiBFcyhlLCB0LCBuKSB7aWYgKDMgPT09IGUudGFnKSBDcyhlLCBlLCBuKTtlbHNlZm9yICg7IG51bGwgIT09IHQ7KSB7aWYgKDMgPT09IHQudGFnKSB7Q3ModCwgZSwgbik7YnJlYWt9aWYgKDEgPT09IHQudGFnKSB7dmFyIHIgPSB0LnN0YXRlTm9kZTtpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHQudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHwgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHIuY29tcG9uZW50RGlkQ2F0Y2ggJiYgKG51bGwgPT09IFp1IHx8ICFadS5oYXMocikpKSB7dCA9IFZhKHQsIGUgPSBtaSh0LCBlID0gY2kobiwgZSksIDEpLCAxKSwgZSA9IHRzKCksIG51bGwgIT09IHQgJiYgKGd0KHQsIDEsIGUpLCBscyh0LCBlKSk7YnJlYWt9fXQgPSB0LnJldHVybn19ZnVuY3Rpb24gX3MoZSwgdCwgbikge3ZhciByID0gZS5waW5nQ2FjaGU7bnVsbCAhPT0gciAmJiByLmRlbGV0ZSh0KSwgdCA9IHRzKCksIGUucGluZ2VkTGFuZXMgfD0gZS5zdXNwZW5kZWRMYW5lcyAmIG4sIHp1ID09PSBlICYmIChGdSAmIG4pID09PSBuICYmICg0ID09PSBIdSB8fCAzID09PSBIdSAmJiAoMTMwMDIzNDI0ICYgRnUpID09PSBGdSAmJiA1MDAgPiBYZSgpIC0gQXUgPyBwcyhlLCAwKSA6IFJ1IHw9IG4pLCBscyhlLCB0KX1mdW5jdGlvbiBOcyhlLCB0KSB7MCA9PT0gdCAmJiAoMCA9PT0gKDEgJiBlLm1vZGUpID8gdCA9IDEgOiAodCA9IGN0LCAwID09PSAoMTMwMDIzNDI0ICYgKGN0IDw8PSAxKSkgJiYgKGN0ID0gNDE5NDMwNCkpKTt2YXIgbiA9IHRzKCk7bnVsbCAhPT0gKGUgPSBMYShlLCB0KSkgJiYgKGd0KGUsIHQsIG4pLCBscyhlLCBuKSl9ZnVuY3Rpb24gUHMoZSkge3ZhciB0ID0gZS5tZW1vaXplZFN0YXRlLG4gPSAwO251bGwgIT09IHQgJiYgKG4gPSB0LnJldHJ5TGFuZSksIE5zKGUsIG4pfWZ1bmN0aW9uIExzKGUsIHQpIHt2YXIgbiA9IDA7c3dpdGNoIChlLnRhZykge2Nhc2UgMTM6dmFyIHIgPSBlLnN0YXRlTm9kZSxsID0gZS5tZW1vaXplZFN0YXRlO251bGwgIT09IGwgJiYgKG4gPSBsLnJldHJ5TGFuZSk7YnJlYWs7Y2FzZSAxOTpyID0gZS5zdGF0ZU5vZGU7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMxNCkpfW51bGwgIT09IHIgJiYgci5kZWxldGUodCksIE5zKGUsIG4pfWZ1bmN0aW9uIHpzKGUsIHQpIHtyZXR1cm4gWmUoZSwgdCl9ZnVuY3Rpb24gTXMoZSwgdCwgbiwgcikge3RoaXMudGFnID0gZSwgdGhpcy5rZXkgPSBuLCB0aGlzLnNpYmxpbmcgPSB0aGlzLmNoaWxkID0gdGhpcy5yZXR1cm4gPSB0aGlzLnN0YXRlTm9kZSA9IHRoaXMudHlwZSA9IHRoaXMuZWxlbWVudFR5cGUgPSBudWxsLCB0aGlzLmluZGV4ID0gMCwgdGhpcy5yZWYgPSBudWxsLCB0aGlzLnBlbmRpbmdQcm9wcyA9IHQsIHRoaXMuZGVwZW5kZW5jaWVzID0gdGhpcy5tZW1vaXplZFN0YXRlID0gdGhpcy51cGRhdGVRdWV1ZSA9IHRoaXMubWVtb2l6ZWRQcm9wcyA9IG51bGwsIHRoaXMubW9kZSA9IHIsIHRoaXMuc3VidHJlZUZsYWdzID0gdGhpcy5mbGFncyA9IDAsIHRoaXMuZGVsZXRpb25zID0gbnVsbCwgdGhpcy5jaGlsZExhbmVzID0gdGhpcy5sYW5lcyA9IDAsIHRoaXMuYWx0ZXJuYXRlID0gbnVsbH1mdW5jdGlvbiBGcyhlLCB0LCBuLCByKSB7cmV0dXJuIG5ldyBNcyhlLCB0LCBuLCByKX1mdW5jdGlvbiBUcyhlKSB7cmV0dXJuICEoIShlID0gZS5wcm90b3R5cGUpIHx8ICFlLmlzUmVhY3RDb21wb25lbnQpfWZ1bmN0aW9uIFZzKGUsIHQpIHt2YXIgbiA9IGUuYWx0ZXJuYXRlO3JldHVybiBudWxsID09PSBuID8gKChuID0gRnMoZS50YWcsIHQsIGUua2V5LCBlLm1vZGUpKS5lbGVtZW50VHlwZSA9IGUuZWxlbWVudFR5cGUsIG4udHlwZSA9IGUudHlwZSwgbi5zdGF0ZU5vZGUgPSBlLnN0YXRlTm9kZSwgbi5hbHRlcm5hdGUgPSBlLCBlLmFsdGVybmF0ZSA9IG4pIDogKG4ucGVuZGluZ1Byb3BzID0gdCwgbi50eXBlID0gZS50eXBlLCBuLmZsYWdzID0gMCwgbi5zdWJ0cmVlRmxhZ3MgPSAwLCBuLmRlbGV0aW9ucyA9IG51bGwpLCBuLmZsYWdzID0gMTQ2ODAwNjQgJiBlLmZsYWdzLCBuLmNoaWxkTGFuZXMgPSBlLmNoaWxkTGFuZXMsIG4ubGFuZXMgPSBlLmxhbmVzLCBuLmNoaWxkID0gZS5jaGlsZCwgbi5tZW1vaXplZFByb3BzID0gZS5tZW1vaXplZFByb3BzLCBuLm1lbW9pemVkU3RhdGUgPSBlLm1lbW9pemVkU3RhdGUsIG4udXBkYXRlUXVldWUgPSBlLnVwZGF0ZVF1ZXVlLCB0ID0gZS5kZXBlbmRlbmNpZXMsIG4uZGVwZW5kZW5jaWVzID0gbnVsbCA9PT0gdCA/IG51bGwgOiB7bGFuZXM6IHQubGFuZXMsZmlyc3RDb250ZXh0OiB0LmZpcnN0Q29udGV4dH0sIG4uc2libGluZyA9IGUuc2libGluZywgbi5pbmRleCA9IGUuaW5kZXgsIG4ucmVmID0gZS5yZWYsIG59ZnVuY3Rpb24gSHMoZSwgdCwgbiwgciwgbCwgbykge3ZhciBpID0gMjtpZiAociA9IGUsICJmdW5jdGlvbiIgPT09IHR5cGVvZiBlKSBUcyhlKSAmJiAoaSA9IDEpO2Vsc2UgaWYgKCJzdHJpbmciID09PSB0eXBlb2YgZSkgaSA9IDU7ZWxzZSBlOiBzd2l0Y2ggKGUpIHtjYXNlIFM6cmV0dXJuIGpzKG4uY2hpbGRyZW4sIGwsIG8sIHQpO2Nhc2UgQzppID0gOCwgbCB8PSA4O2JyZWFrO2Nhc2UgRTpyZXR1cm4gKGUgPSBGcygxMiwgbiwgdCwgMiB8IGwpKS5lbGVtZW50VHlwZSA9IEUsIGUubGFuZXMgPSBvLCBlO2Nhc2UgTDpyZXR1cm4gKGUgPSBGcygxMywgbiwgdCwgbCkpLmVsZW1lbnRUeXBlID0gTCwgZS5sYW5lcyA9IG8sIGU7Y2FzZSB6OnJldHVybiAoZSA9IEZzKDE5LCBuLCB0LCBsKSkuZWxlbWVudFR5cGUgPSB6LCBlLmxhbmVzID0gbywgZTtjYXNlIFQ6cmV0dXJuIERzKG4sIGwsIG8sIHQpO2RlZmF1bHQ6aWYgKCJvYmplY3QiID09PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSBzd2l0Y2ggKGUuJCR0eXBlb2YpIHtjYXNlIF86aSA9IDEwO2JyZWFrIGU7Y2FzZSBOOmkgPSA5O2JyZWFrIGU7Y2FzZSBQOmkgPSAxMTticmVhayBlO2Nhc2UgTTppID0gMTQ7YnJlYWsgZTtjYXNlIEY6aSA9IDE2LCByID0gbnVsbDticmVhayBlfXRocm93IEVycm9yKGEoMTMwLCBudWxsID09IGUgPyBlIDogdHlwZW9mIGUsICIiKSl9cmV0dXJuICh0ID0gRnMoaSwgbiwgdCwgbCkpLmVsZW1lbnRUeXBlID0gZSwgdC50eXBlID0gciwgdC5sYW5lcyA9IG8sIHR9ZnVuY3Rpb24ganMoZSwgdCwgbiwgcikge3JldHVybiAoZSA9IEZzKDcsIGUsIHIsIHQpKS5sYW5lcyA9IG4sIGV9ZnVuY3Rpb24gRHMoZSwgdCwgbiwgcikge3JldHVybiAoZSA9IEZzKDIyLCBlLCByLCB0KSkuZWxlbWVudFR5cGUgPSBULCBlLmxhbmVzID0gbiwgZS5zdGF0ZU5vZGUgPSB7aXNIaWRkZW46ICExfSwgZX1mdW5jdGlvbiBCcyhlLCB0LCBuKSB7cmV0dXJuIChlID0gRnMoNiwgZSwgbnVsbCwgdCkpLmxhbmVzID0gbiwgZX1mdW5jdGlvbiBScyhlLCB0LCBuKSB7cmV0dXJuICh0ID0gRnMoNCwgbnVsbCAhPT0gZS5jaGlsZHJlbiA/IGUuY2hpbGRyZW4gOiBbXSwgZS5rZXksIHQpKS5sYW5lcyA9IG4sIHQuc3RhdGVOb2RlID0ge2NvbnRhaW5lckluZm86IGUuY29udGFpbmVySW5mbyxwZW5kaW5nQ2hpbGRyZW46IG51bGwsaW1wbGVtZW50YXRpb246IGUuaW1wbGVtZW50YXRpb259LCB0fWZ1bmN0aW9uIE9zKGUsIHQsIG4sIHIsIGwpIHt0aGlzLnRhZyA9IHQsIHRoaXMuY29udGFpbmVySW5mbyA9IGUsIHRoaXMuZmluaXNoZWRXb3JrID0gdGhpcy5waW5nQ2FjaGUgPSB0aGlzLmN1cnJlbnQgPSB0aGlzLnBlbmRpbmdDaGlsZHJlbiA9IG51bGwsIHRoaXMudGltZW91dEhhbmRsZSA9IC0xLCB0aGlzLmNhbGxiYWNrTm9kZSA9IHRoaXMucGVuZGluZ0NvbnRleHQgPSB0aGlzLmNvbnRleHQgPSBudWxsLCB0aGlzLmNhbGxiYWNrUHJpb3JpdHkgPSAwLCB0aGlzLmV2ZW50VGltZXMgPSB2dCgwKSwgdGhpcy5leHBpcmF0aW9uVGltZXMgPSB2dCgtMSksIHRoaXMuZW50YW5nbGVkTGFuZXMgPSB0aGlzLmZpbmlzaGVkTGFuZXMgPSB0aGlzLm11dGFibGVSZWFkTGFuZXMgPSB0aGlzLmV4cGlyZWRMYW5lcyA9IHRoaXMucGluZ2VkTGFuZXMgPSB0aGlzLnN1c3BlbmRlZExhbmVzID0gdGhpcy5wZW5kaW5nTGFuZXMgPSAwLCB0aGlzLmVudGFuZ2xlbWVudHMgPSB2dCgwKSwgdGhpcy5pZGVudGlmaWVyUHJlZml4ID0gciwgdGhpcy5vblJlY292ZXJhYmxlRXJyb3IgPSBsLCB0aGlzLm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGEgPSBudWxsfWZ1bmN0aW9uIElzKGUsIHQsIG4sIHIsIGwsIGEsIG8sIGksIHUpIHtyZXR1cm4gZSA9IG5ldyBPcyhlLCB0LCBuLCBpLCB1KSwgMSA9PT0gdCA/ICh0ID0gMSwgITAgPT09IGEgJiYgKHQgfD0gOCkpIDogdCA9IDAsIGEgPSBGcygzLCBudWxsLCBudWxsLCB0KSwgZS5jdXJyZW50ID0gYSwgYS5zdGF0ZU5vZGUgPSBlLCBhLm1lbW9pemVkU3RhdGUgPSB7ZWxlbWVudDogcixpc0RlaHlkcmF0ZWQ6IG4sY2FjaGU6IG51bGwsdHJhbnNpdGlvbnM6IG51bGwscGVuZGluZ1N1c3BlbnNlQm91bmRhcmllczogbnVsbH0sIE1hKGEpLCBlfWZ1bmN0aW9uIEFzKGUpIHtpZiAoIWUpIHJldHVybiBObDtlOiB7aWYgKEFlKGUgPSBlLl9yZWFjdEludGVybmFscykgIT09IGUgfHwgMSAhPT0gZS50YWcpIHRocm93IEVycm9yKGEoMTcwKSk7dmFyIHQgPSBlO2RvIHtzd2l0Y2ggKHQudGFnKSB7Y2FzZSAzOnQgPSB0LnN0YXRlTm9kZS5jb250ZXh0O2JyZWFrIGU7Y2FzZSAxOmlmIChGbCh0LnR5cGUpKSB7dCA9IHQuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIGV9fXQgPSB0LnJldHVybn0gd2hpbGUgKG51bGwgIT09IHQpO3Rocm93IEVycm9yKGEoMTcxKSl9aWYgKDEgPT09IGUudGFnKSB7dmFyIG4gPSBlLnR5cGU7aWYgKEZsKG4pKSByZXR1cm4gSGwoZSwgbiwgdCl9cmV0dXJuIHR9ZnVuY3Rpb24gVXMoZSwgdCwgbiwgciwgbCwgYSwgbywgaSwgdSkge3JldHVybiAoZSA9IElzKG4sIHIsICEwLCBlLCAwLCBhLCAwLCBpLCB1KSkuY29udGV4dCA9IEFzKG51bGwpLCBuID0gZS5jdXJyZW50LCAoYSA9IFRhKHIgPSB0cygpLCBsID0gbnMobikpKS5jYWxsYmFjayA9IHZvaWQgMCAhPT0gdCAmJiBudWxsICE9PSB0ID8gdCA6IG51bGwsIFZhKG4sIGEsIGwpLCBlLmN1cnJlbnQubGFuZXMgPSBsLCBndChlLCBsLCByKSwgbHMoZSwgciksIGV9ZnVuY3Rpb24gUXMoZSwgdCwgbiwgcikge3ZhciBsID0gdC5jdXJyZW50LGEgPSB0cygpLG8gPSBucyhsKTtyZXR1cm4gbiA9IEFzKG4pLCBudWxsID09PSB0LmNvbnRleHQgPyB0LmNvbnRleHQgPSBuIDogdC5wZW5kaW5nQ29udGV4dCA9IG4sICh0ID0gVGEoYSwgbykpLnBheWxvYWQgPSB7ZWxlbWVudDogZX0sIG51bGwgIT09IChyID0gdm9pZCAwID09PSByID8gbnVsbCA6IHIpICYmICh0LmNhbGxiYWNrID0gciksIG51bGwgIT09IChlID0gVmEobCwgdCwgbykpICYmIChycyhlLCBsLCBvLCBhKSwgSGEoZSwgbCwgbykpLCBvfWZ1bmN0aW9uIFdzKGUpIHtyZXR1cm4gKGUgPSBlLmN1cnJlbnQpLmNoaWxkID8gKGUuY2hpbGQudGFnLCBlLmNoaWxkLnN0YXRlTm9kZSkgOiBudWxsfWZ1bmN0aW9uICRzKGUsIHQpIHtpZiAobnVsbCAhPT0gKGUgPSBlLm1lbW9pemVkU3RhdGUpICYmIG51bGwgIT09IGUuZGVoeWRyYXRlZCkge3ZhciBuID0gZS5yZXRyeUxhbmU7ZS5yZXRyeUxhbmUgPSAwICE9PSBuICYmIG4gPCB0ID8gbiA6IHR9fWZ1bmN0aW9uIFpzKGUsIHQpIHskcyhlLCB0KSwgKGUgPSBlLmFsdGVybmF0ZSkgJiYgJHMoZSwgdCl9Q3UgPSBmdW5jdGlvbihlLCB0LCBuKSB7aWYgKG51bGwgIT09IGUpaWYgKGUubWVtb2l6ZWRQcm9wcyAhPT0gdC5wZW5kaW5nUHJvcHMgfHwgTGwuY3VycmVudCkga2kgPSAhMDtlbHNlIHtpZiAoMCA9PT0gKGUubGFuZXMgJiBuKSAmJiAwID09PSAoMTI4ICYgdC5mbGFncykpIHJldHVybiBraSA9ICExLGZ1bmN0aW9uKGUsIHQsIG4pIHtzd2l0Y2ggKHQudGFnKSB7Y2FzZSAzOnppKHQpLCBwYSgpO2JyZWFrO2Nhc2UgNTphbyh0KTticmVhaztjYXNlIDE6RmwodC50eXBlKSAmJiBqbCh0KTticmVhaztjYXNlIDQ6cm8odCwgdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyk7YnJlYWs7Y2FzZSAxMDp2YXIgciA9IHQudHlwZS5fY29udGV4dCxsID0gdC5tZW1vaXplZFByb3BzLnZhbHVlO19sKGdhLCByLl9jdXJyZW50VmFsdWUpLCByLl9jdXJyZW50VmFsdWUgPSBsO2JyZWFrO2Nhc2UgMTM6aWYgKG51bGwgIT09IChyID0gdC5tZW1vaXplZFN0YXRlKSkgcmV0dXJuIG51bGwgIT09IHIuZGVoeWRyYXRlZCA/IChfbChpbywgMSAmIGlvLmN1cnJlbnQpLCB0LmZsYWdzIHw9IDEyOCwgbnVsbCkgOiAwICE9PSAobiAmIHQuY2hpbGQuY2hpbGRMYW5lcykgPyBCaShlLCB0LCBuKSA6IChfbChpbywgMSAmIGlvLmN1cnJlbnQpLCBudWxsICE9PSAoZSA9IFdpKGUsIHQsIG4pKSA/IGUuc2libGluZyA6IG51bGwpO19sKGlvLCAxICYgaW8uY3VycmVudCk7YnJlYWs7Y2FzZSAxOTppZiAociA9IDAgIT09IChuICYgdC5jaGlsZExhbmVzKSwgMCAhPT0gKDEyOCAmIGUuZmxhZ3MpKSB7aWYgKHIpIHJldHVybiBVaShlLCB0LCBuKTt0LmZsYWdzIHw9IDEyOH1pZiAobnVsbCAhPT0gKGwgPSB0Lm1lbW9pemVkU3RhdGUpICYmIChsLnJlbmRlcmluZyA9IG51bGwsIGwudGFpbCA9IG51bGwsIGwubGFzdEVmZmVjdCA9IG51bGwpLCBfbChpbywgaW8uY3VycmVudCksIHIpIGJyZWFrO3JldHVybiBudWxsO2Nhc2UgMjI6Y2FzZSAyMzpyZXR1cm4gdC5sYW5lcyA9IDAsIEVpKGUsIHQsIG4pfXJldHVybiBXaShlLCB0LCBuKX0oZSwgdCwgbik7a2kgPSAwICE9PSAoMTMxMDcyICYgZS5mbGFncyl9ZWxzZSBraSA9ICExLCBsYSAmJiAwICE9PSAoMTA0ODU3NiAmIHQuZmxhZ3MpICYmIEpsKHQsICRsLCB0LmluZGV4KTtzd2l0Y2ggKHQubGFuZXMgPSAwLCB0LnRhZykge2Nhc2UgMjp2YXIgciA9IHQudHlwZTtRaShlLCB0KSwgZSA9IHQucGVuZGluZ1Byb3BzO3ZhciBsID0gTWwodCwgUGwuY3VycmVudCk7Q2EodCwgbiksIGwgPSBDbyhudWxsLCB0LCByLCBlLCBsLCBuKTt2YXIgbyA9IEVvKCk7cmV0dXJuIHQuZmxhZ3MgfD0gMSwgIm9iamVjdCIgPT09IHR5cGVvZiBsICYmIG51bGwgIT09IGwgJiYgImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGwucmVuZGVyICYmIHZvaWQgMCA9PT0gbC4kJHR5cGVvZiA/ICh0LnRhZyA9IDEsIHQubWVtb2l6ZWRTdGF0ZSA9IG51bGwsIHQudXBkYXRlUXVldWUgPSBudWxsLCBGbChyKSA/IChvID0gITAsIGpsKHQpKSA6IG8gPSAhMSwgdC5tZW1vaXplZFN0YXRlID0gbnVsbCAhPT0gbC5zdGF0ZSAmJiB2b2lkIDAgIT09IGwuc3RhdGUgPyBsLnN0YXRlIDogbnVsbCwgTWEodCksIGwudXBkYXRlciA9IElhLCB0LnN0YXRlTm9kZSA9IGwsIGwuX3JlYWN0SW50ZXJuYWxzID0gdCwgV2EodCwgciwgZSwgbiksIHQgPSBMaShudWxsLCB0LCByLCAhMCwgbywgbikpIDogKHQudGFnID0gMCwgbGEgJiYgbyAmJiBlYSh0KSwgd2kobnVsbCwgdCwgbCwgbiksIHQgPSB0LmNoaWxkKSwgdDtjYXNlIDE2OnIgPSB0LmVsZW1lbnRUeXBlO2U6IHtzd2l0Y2ggKFFpKGUsIHQpLCBlID0gdC5wZW5kaW5nUHJvcHMsIHIgPSAobCA9IHIuX2luaXQpKHIuX3BheWxvYWQpLCB0LnR5cGUgPSByLCBsID0gdC50YWcgPSBmdW5jdGlvbihlKSB7aWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiBlKSByZXR1cm4gVHMoZSkgPyAxIDogMDtpZiAodm9pZCAwICE9PSBlICYmIG51bGwgIT09IGUpIHtpZiAoKGUgPSBlLiQkdHlwZW9mKSA9PT0gUCkgcmV0dXJuIDExO2lmIChlID09PSBNKSByZXR1cm4gMTR9cmV0dXJuIDJ9KHIpLCBlID0gdmEociwgZSksIGwpIHtjYXNlIDA6dCA9IE5pKG51bGwsIHQsIHIsIGUsIG4pO2JyZWFrIGU7Y2FzZSAxOnQgPSBQaShudWxsLCB0LCByLCBlLCBuKTticmVhayBlO2Nhc2UgMTE6dCA9IHhpKG51bGwsIHQsIHIsIGUsIG4pO2JyZWFrIGU7Y2FzZSAxNDp0ID0gU2kobnVsbCwgdCwgciwgdmEoci50eXBlLCBlKSwgbik7YnJlYWsgZX10aHJvdyBFcnJvcihhKDMwNiwgciwgIiIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIHIgPSB0LnR5cGUsIGwgPSB0LnBlbmRpbmdQcm9wcywgTmkoZSwgdCwgciwgbCA9IHQuZWxlbWVudFR5cGUgPT09IHIgPyBsIDogdmEociwgbCksIG4pO2Nhc2UgMTpyZXR1cm4gciA9IHQudHlwZSwgbCA9IHQucGVuZGluZ1Byb3BzLCBQaShlLCB0LCByLCBsID0gdC5lbGVtZW50VHlwZSA9PT0gciA/IGwgOiB2YShyLCBsKSwgbik7Y2FzZSAzOmU6IHtpZiAoemkodCksIG51bGwgPT09IGUpIHRocm93IEVycm9yKGEoMzg3KSk7ciA9IHQucGVuZGluZ1Byb3BzLGwgPSAobyA9IHQubWVtb2l6ZWRTdGF0ZSkuZWxlbWVudCxGYShlLCB0KSxEYSh0LCByLCBudWxsLCBuKTt2YXIgaSA9IHQubWVtb2l6ZWRTdGF0ZTtpZiAociA9IGkuZWxlbWVudCwgby5pc0RlaHlkcmF0ZWQpIHtpZiAobyA9IHtlbGVtZW50OiByLGlzRGVoeWRyYXRlZDogITEsY2FjaGU6IGkuY2FjaGUscGVuZGluZ1N1c3BlbnNlQm91bmRhcmllczogaS5wZW5kaW5nU3VzcGVuc2VCb3VuZGFyaWVzLHRyYW5zaXRpb25zOiBpLnRyYW5zaXRpb25zfSwgdC51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBvLCB0Lm1lbW9pemVkU3RhdGUgPSBvLCAyNTYgJiB0LmZsYWdzKSB7dCA9IE1pKGUsIHQsIHIsIG4sIGwgPSBjaShFcnJvcihhKDQyMykpLCB0KSk7YnJlYWsgZX1pZiAociAhPT0gbCkge3QgPSBNaShlLCB0LCByLCBuLCBsID0gY2koRXJyb3IoYSg0MjQpKSwgdCkpO2JyZWFrIGV9Zm9yIChyYSA9IHNsKHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8uZmlyc3RDaGlsZCksIG5hID0gdCwgbGEgPSAhMCwgYWEgPSBudWxsLCBuID0gWGEodCwgbnVsbCwgciwgbiksIHQuY2hpbGQgPSBuOyBuOykgbi5mbGFncyA9IC0zICYgbi5mbGFncyB8IDQwOTYsIG4gPSBuLnNpYmxpbmd9IGVsc2Uge2lmIChwYSgpLCByID09PSBsKSB7dCA9IFdpKGUsIHQsIG4pO2JyZWFrIGV9d2koZSwgdCwgciwgbil9dCA9IHQuY2hpbGR9cmV0dXJuIHQ7Y2FzZSA1OnJldHVybiBhbyh0KSwgbnVsbCA9PT0gZSAmJiBzYSh0KSwgciA9IHQudHlwZSwgbCA9IHQucGVuZGluZ1Byb3BzLCBvID0gbnVsbCAhPT0gZSA/IGUubWVtb2l6ZWRQcm9wcyA6IG51bGwsIGkgPSBsLmNoaWxkcmVuLCBubChyLCBsKSA/IGkgPSBudWxsIDogbnVsbCAhPT0gbyAmJiBubChyLCBvKSAmJiAodC5mbGFncyB8PSAzMiksIF9pKGUsIHQpLCB3aShlLCB0LCBpLCBuKSwgdC5jaGlsZDtjYXNlIDY6cmV0dXJuIG51bGwgPT09IGUgJiYgc2EodCksIG51bGw7Y2FzZSAxMzpyZXR1cm4gQmkoZSwgdCwgbik7Y2FzZSA0OnJldHVybiBybyh0LCB0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSwgciA9IHQucGVuZGluZ1Byb3BzLCBudWxsID09PSBlID8gdC5jaGlsZCA9IFlhKHQsIG51bGwsIHIsIG4pIDogd2koZSwgdCwgciwgbiksIHQuY2hpbGQ7Y2FzZSAxMTpyZXR1cm4gciA9IHQudHlwZSwgbCA9IHQucGVuZGluZ1Byb3BzLCB4aShlLCB0LCByLCBsID0gdC5lbGVtZW50VHlwZSA9PT0gciA/IGwgOiB2YShyLCBsKSwgbik7Y2FzZSA3OnJldHVybiB3aShlLCB0LCB0LnBlbmRpbmdQcm9wcywgbiksIHQuY2hpbGQ7Y2FzZSA4OmNhc2UgMTI6cmV0dXJuIHdpKGUsIHQsIHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLCBuKSwgdC5jaGlsZDtjYXNlIDEwOmU6IHtpZiAociA9IHQudHlwZS5fY29udGV4dCwgbCA9IHQucGVuZGluZ1Byb3BzLCBvID0gdC5tZW1vaXplZFByb3BzLCBpID0gbC52YWx1ZSwgX2woZ2EsIHIuX2N1cnJlbnRWYWx1ZSksIHIuX2N1cnJlbnRWYWx1ZSA9IGksIG51bGwgIT09IG8paWYgKGlyKG8udmFsdWUsIGkpKSB7aWYgKG8uY2hpbGRyZW4gPT09IGwuY2hpbGRyZW4gJiYgIUxsLmN1cnJlbnQpIHt0ID0gV2koZSwgdCwgbik7YnJlYWsgZX19IGVsc2Vmb3IgKG51bGwgIT09IChvID0gdC5jaGlsZCkgJiYgKG8ucmV0dXJuID0gdCk7IG51bGwgIT09IG87KSB7dmFyIHUgPSBvLmRlcGVuZGVuY2llcztpZiAobnVsbCAhPT0gdSkge2kgPSBvLmNoaWxkO2ZvciAodmFyIHMgPSB1LmZpcnN0Q29udGV4dDsgbnVsbCAhPT0gczspIHtpZiAocy5jb250ZXh0ID09PSByKSB7aWYgKDEgPT09IG8udGFnKSB7KHMgPSBUYSgtMSwgbiAmIC1uKSkudGFnID0gMjt2YXIgYyA9IG8udXBkYXRlUXVldWU7aWYgKG51bGwgIT09IGMpIHt2YXIgZiA9IChjID0gYy5zaGFyZWQpLnBlbmRpbmc7bnVsbCA9PT0gZiA/IHMubmV4dCA9IHMgOiAocy5uZXh0ID0gZi5uZXh0LCBmLm5leHQgPSBzKSwgYy5wZW5kaW5nID0gc319by5sYW5lcyB8PSBuLCBudWxsICE9PSAocyA9IG8uYWx0ZXJuYXRlKSAmJiAocy5sYW5lcyB8PSBuKSwgU2Eoby5yZXR1cm4sIG4sIHQpLCB1LmxhbmVzIHw9IG47YnJlYWt9cyA9IHMubmV4dH19IGVsc2UgaWYgKDEwID09PSBvLnRhZykgaSA9IG8udHlwZSA9PT0gdC50eXBlID8gbnVsbCA6IG8uY2hpbGQ7ZWxzZSBpZiAoMTggPT09IG8udGFnKSB7aWYgKG51bGwgPT09IChpID0gby5yZXR1cm4pKSB0aHJvdyBFcnJvcihhKDM0MSkpO2kubGFuZXMgfD0gbiwgbnVsbCAhPT0gKHUgPSBpLmFsdGVybmF0ZSkgJiYgKHUubGFuZXMgfD0gbiksIFNhKGksIG4sIHQpLCBpID0gby5zaWJsaW5nfSBlbHNlIGkgPSBvLmNoaWxkO2lmIChudWxsICE9PSBpKSBpLnJldHVybiA9IG87ZWxzZWZvciAoaSA9IG87IG51bGwgIT09IGk7KSB7aWYgKGkgPT09IHQpIHtpID0gbnVsbDticmVha31pZiAobnVsbCAhPT0gKG8gPSBpLnNpYmxpbmcpKSB7by5yZXR1cm4gPSBpLnJldHVybiwgaSA9IG87YnJlYWt9aSA9IGkucmV0dXJufW8gPSBpfXdpKGUsIHQsIGwuY2hpbGRyZW4sIG4pLHQgPSB0LmNoaWxkfXJldHVybiB0O2Nhc2UgOTpyZXR1cm4gbCA9IHQudHlwZSwgciA9IHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLCBDYSh0LCBuKSwgciA9IHIobCA9IEVhKGwpKSwgdC5mbGFncyB8PSAxLCB3aShlLCB0LCByLCBuKSwgdC5jaGlsZDtjYXNlIDE0OnJldHVybiBsID0gdmEociA9IHQudHlwZSwgdC5wZW5kaW5nUHJvcHMpLCBTaShlLCB0LCByLCBsID0gdmEoci50eXBlLCBsKSwgbik7Y2FzZSAxNTpyZXR1cm4gQ2koZSwgdCwgdC50eXBlLCB0LnBlbmRpbmdQcm9wcywgbik7Y2FzZSAxNzpyZXR1cm4gciA9IHQudHlwZSwgbCA9IHQucGVuZGluZ1Byb3BzLCBsID0gdC5lbGVtZW50VHlwZSA9PT0gciA/IGwgOiB2YShyLCBsKSwgUWkoZSwgdCksIHQudGFnID0gMSwgRmwocikgPyAoZSA9ICEwLCBqbCh0KSkgOiBlID0gITEsIENhKHQsIG4pLCBVYSh0LCByLCBsKSwgV2EodCwgciwgbCwgbiksIExpKG51bGwsIHQsIHIsICEwLCBlLCBuKTtjYXNlIDE5OnJldHVybiBVaShlLCB0LCBuKTtjYXNlIDIyOnJldHVybiBFaShlLCB0LCBuKX10aHJvdyBFcnJvcihhKDE1NiwgdC50YWcpKX07dmFyIEtzID0gImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yID8gcmVwb3J0RXJyb3IgOiBmdW5jdGlvbihlKSB7Y29uc29sZS5lcnJvcihlKX07ZnVuY3Rpb24gcXMoZSkge3RoaXMuX2ludGVybmFsUm9vdCA9IGV9ZnVuY3Rpb24gWXMoZSkge3RoaXMuX2ludGVybmFsUm9vdCA9IGV9ZnVuY3Rpb24gWHMoZSkge3JldHVybiAhKCFlIHx8IDEgIT09IGUubm9kZVR5cGUgJiYgOSAhPT0gZS5ub2RlVHlwZSAmJiAxMSAhPT0gZS5ub2RlVHlwZSl9ZnVuY3Rpb24gR3MoZSkge3JldHVybiAhKCFlIHx8IDEgIT09IGUubm9kZVR5cGUgJiYgOSAhPT0gZS5ub2RlVHlwZSAmJiAxMSAhPT0gZS5ub2RlVHlwZSAmJiAoOCAhPT0gZS5ub2RlVHlwZSB8fCAiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlICIgIT09IGUubm9kZVZhbHVlKSl9ZnVuY3Rpb24gSnMoKSB7fWZ1bmN0aW9uIGVjKGUsIHQsIG4sIHIsIGwpIHt2YXIgYSA9IG4uX3JlYWN0Um9vdENvbnRhaW5lcjtpZiAoYSkge3ZhciBvID0gYTtpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGwpIHt2YXIgaSA9IGw7bCA9IGZ1bmN0aW9uKCkge3ZhciBlID0gV3Mobyk7aS5jYWxsKGUpfX1Rcyh0LCBvLCBlLCBsKX0gZWxzZSBvID0gZnVuY3Rpb24oZSwgdCwgbiwgciwgbCkge2lmIChsKSB7aWYgKCJmdW5jdGlvbiIgPT09IHR5cGVvZiByKSB7dmFyIGEgPSByO3IgPSBmdW5jdGlvbigpIHt2YXIgZSA9IFdzKG8pO2EuY2FsbChlKX19dmFyIG8gPSBVcyh0LCByLCBlLCAwLCBudWxsLCAhMSwgMCwgIiIsIEpzKTtyZXR1cm4gZS5fcmVhY3RSb290Q29udGFpbmVyID0gbywgZVtobF0gPSBvLmN1cnJlbnQsIEFyKDggPT09IGUubm9kZVR5cGUgPyBlLnBhcmVudE5vZGUgOiBlKSwgZnMoKSwgb31mb3IgKDsgbCA9IGUubGFzdENoaWxkOykgZS5yZW1vdmVDaGlsZChsKTtpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIHIpIHt2YXIgaSA9IHI7ciA9IGZ1bmN0aW9uKCkge3ZhciBlID0gV3ModSk7aS5jYWxsKGUpfX12YXIgdSA9IElzKGUsIDAsICExLCBudWxsLCAwLCAhMSwgMCwgIiIsIEpzKTtyZXR1cm4gZS5fcmVhY3RSb290Q29udGFpbmVyID0gdSwgZVtobF0gPSB1LmN1cnJlbnQsIEFyKDggPT09IGUubm9kZVR5cGUgPyBlLnBhcmVudE5vZGUgOiBlKSwgZnMoKGZ1bmN0aW9uKCkge1FzKHQsIHUsIG4sIHIpfSkpLCB1fShuLCB0LCBlLCBsLCByKTtyZXR1cm4gV3Mobyl9WXMucHJvdG90eXBlLnJlbmRlciA9IHFzLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihlKSB7dmFyIHQgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7aWYgKG51bGwgPT09IHQpIHRocm93IEVycm9yKGEoNDA5KSk7UXMoZSwgdCwgbnVsbCwgbnVsbCl9LCBZcy5wcm90b3R5cGUudW5tb3VudCA9IHFzLnByb3RvdHlwZS51bm1vdW50ID0gZnVuY3Rpb24oKSB7dmFyIGUgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7aWYgKG51bGwgIT09IGUpIHt0aGlzLl9pbnRlcm5hbFJvb3QgPSBudWxsO3ZhciB0ID0gZS5jb250YWluZXJJbmZvO2ZzKChmdW5jdGlvbigpIHtRcyhudWxsLCBlLCBudWxsLCBudWxsKX0pKSwgdFtobF0gPSBudWxsfX0sIFlzLnByb3RvdHlwZS51bnN0YWJsZV9zY2hlZHVsZUh5ZHJhdGlvbiA9IGZ1bmN0aW9uKGUpIHtpZiAoZSkge3ZhciB0ID0gQ3QoKTtlID0ge2Jsb2NrZWRPbjogbnVsbCx0YXJnZXQ6IGUscHJpb3JpdHk6IHR9O2ZvciAodmFyIG4gPSAwOyBuIDwgVHQubGVuZ3RoICYmIDAgIT09IHQgJiYgdCA8IFR0W25dLnByaW9yaXR5OyBuKyspO1R0LnNwbGljZShuLCAwLCBlKSwgMCA9PT0gbiAmJiBEdChlKX19LCB3dCA9IGZ1bmN0aW9uKGUpIHtzd2l0Y2ggKGUudGFnKSB7Y2FzZSAzOnZhciB0ID0gZS5zdGF0ZU5vZGU7aWYgKHQuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCkge3ZhciBuID0gZnQodC5wZW5kaW5nTGFuZXMpOzAgIT09IG4gJiYgKHl0KHQsIDEgfCBuKSwgbHModCwgWGUoKSksIDAgPT09ICg2ICYgTHUpICYmIChVdSA9IFhlKCkgKyA1MDAsIEFsKCkpKX1icmVhaztjYXNlIDEzOmZzKChmdW5jdGlvbigpIHt2YXIgdCA9IExhKGUsIDEpO2lmIChudWxsICE9PSB0KSB7dmFyIG4gPSB0cygpO3JzKHQsIGUsIDEsIG4pfX0pKSwgWnMoZSwgMSl9fSwgeHQgPSBmdW5jdGlvbihlKSB7aWYgKDEzID09PSBlLnRhZykge3ZhciB0ID0gTGEoZSwgMTM0MjE3NzI4KTtpZiAobnVsbCAhPT0gdCkgcnModCwgZSwgMTM0MjE3NzI4LCB0cygpKTtacyhlLCAxMzQyMTc3MjgpfX0sIFN0ID0gZnVuY3Rpb24oZSkge2lmICgxMyA9PT0gZS50YWcpIHt2YXIgdCA9IG5zKGUpLG4gPSBMYShlLCB0KTtpZiAobnVsbCAhPT0gbikgcnMobiwgZSwgdCwgdHMoKSk7WnMoZSwgdCl9fSwgQ3QgPSBmdW5jdGlvbigpIHtyZXR1cm4gYnR9LCBFdCA9IGZ1bmN0aW9uKGUsIHQpIHt2YXIgbiA9IGJ0O3RyeSB7cmV0dXJuIGJ0ID0gZSwgdCgpfSBmaW5hbGx5IHtidCA9IG59fSwgeGUgPSBmdW5jdGlvbihlLCB0LCBuKSB7c3dpdGNoICh0KSB7Y2FzZSAiaW5wdXQiOmlmIChHKGUsIG4pLCB0ID0gbi5uYW1lLCAicmFkaW8iID09PSBuLnR5cGUgJiYgbnVsbCAhPSB0KSB7Zm9yIChuID0gZTsgbi5wYXJlbnROb2RlOykgbiA9IG4ucGFyZW50Tm9kZTtmb3IgKG4gPSBuLnF1ZXJ5U2VsZWN0b3JBbGwoImlucHV0W25hbWU9IiArIEpTT04uc3RyaW5naWZ5KCIiICsgdCkgKyAnXVt0eXBlPSJyYWRpbyJdJyksIHQgPSAwOyB0IDwgbi5sZW5ndGg7IHQrKykge3ZhciByID0gblt0XTtpZiAociAhPT0gZSAmJiByLmZvcm0gPT09IGUuZm9ybSkge3ZhciBsID0gd2wocik7aWYgKCFsKSB0aHJvdyBFcnJvcihhKDkwKSk7WihyKSwgRyhyLCBsKX19fWJyZWFrO2Nhc2UgInRleHRhcmVhIjphZShlLCBuKTticmVhaztjYXNlICJzZWxlY3QiOm51bGwgIT0gKHQgPSBuLnZhbHVlKSAmJiBuZShlLCAhIW4ubXVsdGlwbGUsIHQsICExKX19LCBQZSA9IGNzLCBMZSA9IGZzO3ZhciB0YyA9IHt1c2luZ0NsaWVudEVudHJ5UG9pbnQ6ICExLEV2ZW50czogW2JsLCBrbCwgd2wsIF9lLCBOZSwgY3NdfSxuYyA9IHtmaW5kRmliZXJCeUhvc3RJbnN0YW5jZTogeWwsYnVuZGxlVHlwZTogMCx2ZXJzaW9uOiAiMTguMi4wIixyZW5kZXJlclBhY2thZ2VOYW1lOiAicmVhY3QtZG9tIn0scmMgPSB7YnVuZGxlVHlwZTogbmMuYnVuZGxlVHlwZSx2ZXJzaW9uOiBuYy52ZXJzaW9uLHJlbmRlcmVyUGFja2FnZU5hbWU6IG5jLnJlbmRlcmVyUGFja2FnZU5hbWUscmVuZGVyZXJDb25maWc6IG5jLnJlbmRlcmVyQ29uZmlnLG92ZXJyaWRlSG9va1N0YXRlOiBudWxsLG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aDogbnVsbCxvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGg6IG51bGwsb3ZlcnJpZGVQcm9wczogbnVsbCxvdmVycmlkZVByb3BzRGVsZXRlUGF0aDogbnVsbCxvdmVycmlkZVByb3BzUmVuYW1lUGF0aDogbnVsbCxzZXRFcnJvckhhbmRsZXI6IG51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOiBudWxsLHNjaGVkdWxlVXBkYXRlOiBudWxsLGN1cnJlbnREaXNwYXRjaGVyUmVmOiBrLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6IGZ1bmN0aW9uKGUpIHtyZXR1cm4gbnVsbCA9PT0gKGUgPSBXZShlKSkgPyBudWxsIDogZS5zdGF0ZU5vZGV9LGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBuYy5maW5kRmliZXJCeUhvc3RJbnN0YW5jZSB8fCBmdW5jdGlvbigpIHtyZXR1cm4gbnVsbH0sZmluZEhvc3RJbnN0YW5jZXNGb3JSZWZyZXNoOiBudWxsLHNjaGVkdWxlUmVmcmVzaDogbnVsbCxzY2hlZHVsZVJvb3Q6IG51bGwsc2V0UmVmcmVzaEhhbmRsZXI6IG51bGwsZ2V0Q3VycmVudEZpYmVyOiBudWxsLHJlY29uY2lsZXJWZXJzaW9uOiAiMTguMi4wLW5leHQtOWUzYjc3MmI4LTIwMjIwNjA4In07aWYgKCJ1bmRlZmluZWQiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKSB7dmFyIGxjID0gX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO2lmICghbGMuaXNEaXNhYmxlZCAmJiBsYy5zdXBwb3J0c0ZpYmVyKSB0cnkge2x0ID0gbGMuaW5qZWN0KHJjKSwgYXQgPSBsY30gY2F0Y2ggKGNlKSB7fX10Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEID0gdGMsIHQuY3JlYXRlUG9ydGFsID0gZnVuY3Rpb24oZSwgdCkge3ZhciBuID0gMiA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiBudWxsO2lmICghWHModCkpIHRocm93IEVycm9yKGEoMjAwKSk7cmV0dXJuIGZ1bmN0aW9uKGUsIHQsIG4pIHt2YXIgciA9IDMgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzNdID8gYXJndW1lbnRzWzNdIDogbnVsbDtyZXR1cm4geyQkdHlwZW9mOiB4LGtleTogbnVsbCA9PSByID8gbnVsbCA6ICIiICsgcixjaGlsZHJlbjogZSxjb250YWluZXJJbmZvOiB0LGltcGxlbWVudGF0aW9uOiBufX0oZSwgdCwgbnVsbCwgbil9LCB0LmNyZWF0ZVJvb3QgPSBmdW5jdGlvbihlLCB0KSB7aWYgKCFYcyhlKSkgdGhyb3cgRXJyb3IoYSgyOTkpKTt2YXIgbiA9ICExLHIgPSAiIixsID0gS3M7cmV0dXJuIG51bGwgIT09IHQgJiYgdm9pZCAwICE9PSB0ICYmICghMCA9PT0gdC51bnN0YWJsZV9zdHJpY3RNb2RlICYmIChuID0gITApLCB2b2lkIDAgIT09IHQuaWRlbnRpZmllclByZWZpeCAmJiAociA9IHQuaWRlbnRpZmllclByZWZpeCksIHZvaWQgMCAhPT0gdC5vblJlY292ZXJhYmxlRXJyb3IgJiYgKGwgPSB0Lm9uUmVjb3ZlcmFibGVFcnJvcikpLCB0ID0gSXMoZSwgMSwgITEsIG51bGwsIDAsIG4sIDAsIHIsIGwpLCBlW2hsXSA9IHQuY3VycmVudCwgQXIoOCA9PT0gZS5ub2RlVHlwZSA/IGUucGFyZW50Tm9kZSA6IGUpLCBuZXcgcXModCl9LCB0LmZpbmRET01Ob2RlID0gZnVuY3Rpb24oZSkge2lmIChudWxsID09IGUpIHJldHVybiBudWxsO2lmICgxID09PSBlLm5vZGVUeXBlKSByZXR1cm4gZTt2YXIgdCA9IGUuX3JlYWN0SW50ZXJuYWxzO2lmICh2b2lkIDAgPT09IHQpIHtpZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGUucmVuZGVyKSB0aHJvdyBFcnJvcihhKDE4OCkpO3Rocm93IGUgPSBPYmplY3Qua2V5cyhlKS5qb2luKCIsIiksIEVycm9yKGEoMjY4LCBlKSl9cmV0dXJuIGUgPSBudWxsID09PSAoZSA9IFdlKHQpKSA/IG51bGwgOiBlLnN0YXRlTm9kZX0sIHQuZmx1c2hTeW5jID0gZnVuY3Rpb24oZSkge3JldHVybiBmcyhlKX0sIHQuaHlkcmF0ZSA9IGZ1bmN0aW9uKGUsIHQsIG4pIHtpZiAoIUdzKHQpKSB0aHJvdyBFcnJvcihhKDIwMCkpO3JldHVybiBlYyhudWxsLCBlLCB0LCAhMCwgbil9LCB0Lmh5ZHJhdGVSb290ID0gZnVuY3Rpb24oZSwgdCwgbikge2lmICghWHMoZSkpIHRocm93IEVycm9yKGEoNDA1KSk7dmFyIHIgPSBudWxsICE9IG4gJiYgbi5oeWRyYXRlZFNvdXJjZXMgfHwgbnVsbCxsID0gITEsbyA9ICIiLGkgPSBLcztpZiAobnVsbCAhPT0gbiAmJiB2b2lkIDAgIT09IG4gJiYgKCEwID09PSBuLnVuc3RhYmxlX3N0cmljdE1vZGUgJiYgKGwgPSAhMCksIHZvaWQgMCAhPT0gbi5pZGVudGlmaWVyUHJlZml4ICYmIChvID0gbi5pZGVudGlmaWVyUHJlZml4KSwgdm9pZCAwICE9PSBuLm9uUmVjb3ZlcmFibGVFcnJvciAmJiAoaSA9IG4ub25SZWNvdmVyYWJsZUVycm9yKSksIHQgPSBVcyh0LCBudWxsLCBlLCAxLCBudWxsICE9IG4gPyBuIDogbnVsbCwgbCwgMCwgbywgaSksIGVbaGxdID0gdC5jdXJyZW50LCBBcihlKSwgcilmb3IgKGUgPSAwOyBlIDwgci5sZW5ndGg7IGUrKykgbCA9IChsID0gKG4gPSByW2VdKS5fZ2V0VmVyc2lvbikobi5fc291cmNlKSwgbnVsbCA9PSB0Lm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGEgPyB0Lm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGEgPSBbbiwgbF0gOiB0Lm11dGFibGVTb3VyY2VFYWdlckh5ZHJhdGlvbkRhdGEucHVzaChuLCBsKTtyZXR1cm4gbmV3IFlzKHQpfSwgdC5yZW5kZXIgPSBmdW5jdGlvbihlLCB0LCBuKSB7aWYgKCFHcyh0KSkgdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gZWMobnVsbCwgZSwgdCwgITEsIG4pfSwgdC51bm1vdW50Q29tcG9uZW50QXROb2RlID0gZnVuY3Rpb24oZSkge2lmICghR3MoZSkpIHRocm93IEVycm9yKGEoNDApKTtyZXR1cm4gISFlLl9yZWFjdFJvb3RDb250YWluZXIgJiYgKGZzKChmdW5jdGlvbigpIHtlYyhudWxsLCBudWxsLCBlLCAhMSwgKGZ1bmN0aW9uKCkge2UuX3JlYWN0Um9vdENvbnRhaW5lciA9IG51bGwsIGVbaGxdID0gbnVsbH0pKX0pKSwgITApfSwgdC51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA9IGNzLCB0LnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyID0gZnVuY3Rpb24oZSwgdCwgbiwgcikge2lmICghR3MobikpIHRocm93IEVycm9yKGEoMjAwKSk7aWYgKG51bGwgPT0gZSB8fCB2b2lkIDAgPT09IGUuX3JlYWN0SW50ZXJuYWxzKSB0aHJvdyBFcnJvcihhKDM4KSk7cmV0dXJuIGVjKGUsIHQsIG4sICExLCByKX0sIHQudmVyc2lvbiA9ICIxOC4yLjAtbmV4dC05ZTNiNzcyYjgtMjAyMjA2MDgifSw3Mzk6IGZ1bmN0aW9uKGUsIHQsIG4pIHt2YXIgciA9IG4oMTY4KTt0LmNyZWF0ZVJvb3QgPSByLmNyZWF0ZVJvb3QsIHQuaHlkcmF0ZVJvb3QgPSByLmh5ZHJhdGVSb290fSwxNjg6IGZ1bmN0aW9uKGUsIHQsIG4pIHshIGZ1bmN0aW9uIGUoKSB7aWYgKCJ1bmRlZmluZWQiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UpIHRyeSB7X19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGUpfSBjYXRjaCAodCkge2NvbnNvbGUuZXJyb3IodCl9fSgpLCBlLmV4cG9ydHMgPSBuKDUzNCl9LDkxODogZnVuY3Rpb24oZSwgdCwgbikge3ZhciByID0gbigzMTMpLGwgPSBTeW1ib2wuZm9yKCJyZWFjdC5lbGVtZW50IiksYSA9IFN5bWJvbC5mb3IoInJlYWN0LmZyYWdtZW50IiksbyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksaSA9IHIuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQuUmVhY3RDdXJyZW50T3duZXIsdSA9IHtrZXk6ICEwLHJlZjogITAsX19zZWxmOiAhMCxfX3NvdXJjZTogITB9O2Z1bmN0aW9uIHMoZSwgdCwgbikge3ZhciByLCBhID0ge30scyA9IG51bGwsYyA9IG51bGw7Zm9yIChyIGluIHZvaWQgMCAhPT0gbiAmJiAocyA9ICIiICsgbiksIHZvaWQgMCAhPT0gdC5rZXkgJiYgKHMgPSAiIiArIHQua2V5KSwgdm9pZCAwICE9PSB0LnJlZiAmJiAoYyA9IHQucmVmKSwgdCkgby5jYWxsKHQsIHIpICYmICF1Lmhhc093blByb3BlcnR5KHIpICYmIChhW3JdID0gdFtyXSk7aWYgKGUgJiYgZS5kZWZhdWx0UHJvcHMpZm9yIChyIGluIHQgPSBlLmRlZmF1bHRQcm9wcykgdm9pZCAwID09PSBhW3JdICYmIChhW3JdID0gdFtyXSk7cmV0dXJuIHskJHR5cGVvZjogbCx0eXBlOiBlLGtleTogcyxyZWY6IGMscHJvcHM6IGEsX293bmVyOiBpLmN1cnJlbnR9fXQuanN4ID0gcywgdC5qc3hzID0gc30sMzA2OiBmdW5jdGlvbihlLCB0KSB7dmFyIG4gPSBTeW1ib2wuZm9yKCJyZWFjdC5lbGVtZW50IiksciA9IFN5bWJvbC5mb3IoInJlYWN0LnBvcnRhbCIpLGwgPSBTeW1ib2wuZm9yKCJyZWFjdC5mcmFnbWVudCIpLGEgPSBTeW1ib2wuZm9yKCJyZWFjdC5zdHJpY3RfbW9kZSIpLG8gPSBTeW1ib2wuZm9yKCJyZWFjdC5wcm9maWxlciIpLGkgPSBTeW1ib2wuZm9yKCJyZWFjdC5wcm92aWRlciIpLHUgPSBTeW1ib2wuZm9yKCJyZWFjdC5jb250ZXh0IikscyA9IFN5bWJvbC5mb3IoInJlYWN0LmZvcndhcmRfcmVmIiksYyA9IFN5bWJvbC5mb3IoInJlYWN0LnN1c3BlbnNlIiksZiA9IFN5bWJvbC5mb3IoInJlYWN0Lm1lbW8iKSxkID0gU3ltYm9sLmZvcigicmVhY3QubGF6eSIpLHAgPSBTeW1ib2wuaXRlcmF0b3I7dmFyIGggPSB7aXNNb3VudGVkOiBmdW5jdGlvbigpIHtyZXR1cm4gITF9LGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24oKSB7fSxlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbigpIHt9LGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24oKSB7fX0sbSA9IE9iamVjdC5hc3NpZ24sdiA9IHt9O2Z1bmN0aW9uIGcoZSwgdCwgbikge3RoaXMucHJvcHMgPSBlLCB0aGlzLmNvbnRleHQgPSB0LCB0aGlzLnJlZnMgPSB2LCB0aGlzLnVwZGF0ZXIgPSBuIHx8IGh9ZnVuY3Rpb24geSgpIHt9ZnVuY3Rpb24gYihlLCB0LCBuKSB7dGhpcy5wcm9wcyA9IGUsIHRoaXMuY29udGV4dCA9IHQsIHRoaXMucmVmcyA9IHYsIHRoaXMudXBkYXRlciA9IG4gfHwgaH1nLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge30sIGcucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24oZSwgdCkge2lmICgib2JqZWN0IiAhPT0gdHlwZW9mIGUgJiYgImZ1bmN0aW9uIiAhPT0gdHlwZW9mIGUgJiYgbnVsbCAhPSBlKSB0aHJvdyBFcnJvcigic2V0U3RhdGUoLi4uKTogdGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuIik7dGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBlLCB0LCAic2V0U3RhdGUiKX0sIGcucHJvdG90eXBlLmZvcmNlVXBkYXRlID0gZnVuY3Rpb24oZSkge3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcywgZSwgImZvcmNlVXBkYXRlIil9LCB5LnByb3RvdHlwZSA9IGcucHJvdG90eXBlO3ZhciBrID0gYi5wcm90b3R5cGUgPSBuZXcgeTtrLmNvbnN0cnVjdG9yID0gYiwgbShrLCBnLnByb3RvdHlwZSksIGsuaXNQdXJlUmVhY3RDb21wb25lbnQgPSAhMDt2YXIgdyA9IEFycmF5LmlzQXJyYXkseCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksUyA9IHtjdXJyZW50OiBudWxsfSxDID0ge2tleTogITAscmVmOiAhMCxfX3NlbGY6ICEwLF9fc291cmNlOiAhMH07ZnVuY3Rpb24gRShlLCB0LCByKSB7dmFyIGwsIGEgPSB7fSxvID0gbnVsbCxpID0gbnVsbDtpZiAobnVsbCAhPSB0KWZvciAobCBpbiB2b2lkIDAgIT09IHQucmVmICYmIChpID0gdC5yZWYpLCB2b2lkIDAgIT09IHQua2V5ICYmIChvID0gIiIgKyB0LmtleSksIHQpIHguY2FsbCh0LCBsKSAmJiAhQy5oYXNPd25Qcm9wZXJ0eShsKSAmJiAoYVtsXSA9IHRbbF0pO3ZhciB1ID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7aWYgKDEgPT09IHUpIGEuY2hpbGRyZW4gPSByO2Vsc2UgaWYgKDEgPCB1KSB7Zm9yICh2YXIgcyA9IEFycmF5KHUpLCBjID0gMDsgYyA8IHU7IGMrKykgc1tjXSA9IGFyZ3VtZW50c1tjICsgMl07YS5jaGlsZHJlbiA9IHN9aWYgKGUgJiYgZS5kZWZhdWx0UHJvcHMpZm9yIChsIGluIHUgPSBlLmRlZmF1bHRQcm9wcykgdm9pZCAwID09PSBhW2xdICYmIChhW2xdID0gdVtsXSk7cmV0dXJuIHskJHR5cGVvZjogbix0eXBlOiBlLGtleTogbyxyZWY6IGkscHJvcHM6IGEsX293bmVyOiBTLmN1cnJlbnR9fWZ1bmN0aW9uIF8oZSkge3JldHVybiAib2JqZWN0IiA9PT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSAmJiBlLiQkdHlwZW9mID09PSBufXZhciBOID0gL1wvKy9nO2Z1bmN0aW9uIFAoZSwgdCkge3JldHVybiAib2JqZWN0IiA9PT0gdHlwZW9mIGUgJiYgbnVsbCAhPT0gZSAmJiBudWxsICE9IGUua2V5ID8gZnVuY3Rpb24oZSkge3ZhciB0ID0geyI9IjogIj0wIiwiOiI6ICI9MiJ9O3JldHVybiAiJCIgKyBlLnJlcGxhY2UoL1s9Ol0vZywgKGZ1bmN0aW9uKGUpIHtyZXR1cm4gdFtlXX0pKX0oIiIgKyBlLmtleSkgOiB0LnRvU3RyaW5nKDM2KX1mdW5jdGlvbiBMKGUsIHQsIGwsIGEsIG8pIHt2YXIgaSA9IHR5cGVvZiBlOyJ1bmRlZmluZWQiICE9PSBpICYmICJib29sZWFuIiAhPT0gaSB8fCAoZSA9IG51bGwpO3ZhciB1ID0gITE7aWYgKG51bGwgPT09IGUpIHUgPSAhMDtlbHNlIHN3aXRjaCAoaSkge2Nhc2UgInN0cmluZyI6Y2FzZSAibnVtYmVyIjp1ID0gITA7YnJlYWs7Y2FzZSAib2JqZWN0Ijpzd2l0Y2ggKGUuJCR0eXBlb2YpIHtjYXNlIG46Y2FzZSByOnUgPSAhMH19aWYgKHUpIHJldHVybiBvID0gbyh1ID0gZSksIGUgPSAiIiA9PT0gYSA/ICIuIiArIFAodSwgMCkgOiBhLCB3KG8pID8gKGwgPSAiIiwgbnVsbCAhPSBlICYmIChsID0gZS5yZXBsYWNlKE4sICIkJi8iKSArICIvIiksIEwobywgdCwgbCwgIiIsIChmdW5jdGlvbihlKSB7cmV0dXJuIGV9KSkpIDogbnVsbCAhPSBvICYmIChfKG8pICYmIChvID0gZnVuY3Rpb24oZSwgdCkge3JldHVybiB7JCR0eXBlb2Y6IG4sdHlwZTogZS50eXBlLGtleTogdCxyZWY6IGUucmVmLHByb3BzOiBlLnByb3BzLF9vd25lcjogZS5fb3duZXJ9fShvLCBsICsgKCFvLmtleSB8fCB1ICYmIHUua2V5ID09PSBvLmtleSA/ICIiIDogKCIiICsgby5rZXkpLnJlcGxhY2UoTiwgIiQmLyIpICsgIi8iKSArIGUpKSwgdC5wdXNoKG8pKSwgMTtpZiAodSA9IDAsIGEgPSAiIiA9PT0gYSA/ICIuIiA6IGEgKyAiOiIsIHcoZSkpZm9yICh2YXIgcyA9IDA7IHMgPCBlLmxlbmd0aDsgcysrKSB7dmFyIGMgPSBhICsgUChpID0gZVtzXSwgcyk7dSArPSBMKGksIHQsIGwsIGMsIG8pfSBlbHNlIGlmIChjID0gZnVuY3Rpb24oZSkge3JldHVybiBudWxsID09PSBlIHx8ICJvYmplY3QiICE9PSB0eXBlb2YgZSA/IG51bGwgOiAiZnVuY3Rpb24iID09PSB0eXBlb2YoZSA9IHAgJiYgZVtwXSB8fCBlWyJAQGl0ZXJhdG9yIl0pID8gZSA6IG51bGx9KGUpLCAiZnVuY3Rpb24iID09PSB0eXBlb2YgYylmb3IgKGUgPSBjLmNhbGwoZSksIHMgPSAwOyAhKGkgPSBlLm5leHQoKSkuZG9uZTspIHUgKz0gTChpID0gaS52YWx1ZSwgdCwgbCwgYyA9IGEgKyBQKGksIHMrKyksIG8pO2Vsc2UgaWYgKCJvYmplY3QiID09PSBpKSB0aHJvdyB0ID0gU3RyaW5nKGUpLCBFcnJvcigiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiAiICsgKCJbb2JqZWN0IE9iamVjdF0iID09PSB0ID8gIm9iamVjdCB3aXRoIGtleXMgeyIgKyBPYmplY3Qua2V5cyhlKS5qb2luKCIsICIpICsgIn0iIDogdCkgKyAiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLiIpO3JldHVybiB1fWZ1bmN0aW9uIHooZSwgdCwgbikge2lmIChudWxsID09IGUpIHJldHVybiBlO3ZhciByID0gW10sbCA9IDA7cmV0dXJuIEwoZSwgciwgIiIsICIiLCAoZnVuY3Rpb24oZSkge3JldHVybiB0LmNhbGwobiwgZSwgbCsrKX0pKSwgcn1mdW5jdGlvbiBNKGUpIHtpZiAoLTEgPT09IGUuX3N0YXR1cykge3ZhciB0ID0gZS5fcmVzdWx0Oyh0ID0gdCgpKS50aGVuKChmdW5jdGlvbih0KSB7MCAhPT0gZS5fc3RhdHVzICYmIC0xICE9PSBlLl9zdGF0dXMgfHwgKGUuX3N0YXR1cyA9IDEsIGUuX3Jlc3VsdCA9IHQpfSksIChmdW5jdGlvbih0KSB7MCAhPT0gZS5fc3RhdHVzICYmIC0xICE9PSBlLl9zdGF0dXMgfHwgKGUuX3N0YXR1cyA9IDIsIGUuX3Jlc3VsdCA9IHQpfSkpLCAtMSA9PT0gZS5fc3RhdHVzICYmIChlLl9zdGF0dXMgPSAwLCBlLl9yZXN1bHQgPSB0KX1pZiAoMSA9PT0gZS5fc3RhdHVzKSByZXR1cm4gZS5fcmVzdWx0LmRlZmF1bHQ7dGhyb3cgZS5fcmVzdWx0fXZhciBGID0ge2N1cnJlbnQ6IG51bGx9LFQgPSB7dHJhbnNpdGlvbjogbnVsbH0sViA9IHtSZWFjdEN1cnJlbnREaXNwYXRjaGVyOiBGLFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnOiBULFJlYWN0Q3VycmVudE93bmVyOiBTfTt0LkNoaWxkcmVuID0ge21hcDogeixmb3JFYWNoOiBmdW5jdGlvbihlLCB0LCBuKSB7eihlLCAoZnVuY3Rpb24oKSB7dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpfSksIG4pfSxjb3VudDogZnVuY3Rpb24oZSkge3ZhciB0ID0gMDtyZXR1cm4geihlLCAoZnVuY3Rpb24oKSB7dCsrfSkpLCB0fSx0b0FycmF5OiBmdW5jdGlvbihlKSB7cmV0dXJuIHooZSwgKGZ1bmN0aW9uKGUpIHtyZXR1cm4gZX0pKSB8fCBbXX0sb25seTogZnVuY3Rpb24oZSkge2lmICghXyhlKSkgdGhyb3cgRXJyb3IoIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLiIpO3JldHVybiBlfX0sIHQuQ29tcG9uZW50ID0gZywgdC5GcmFnbWVudCA9IGwsIHQuUHJvZmlsZXIgPSBvLCB0LlB1cmVDb21wb25lbnQgPSBiLCB0LlN0cmljdE1vZGUgPSBhLCB0LlN1c3BlbnNlID0gYywgdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCA9IFYsIHQuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24oZSwgdCwgcikge2lmIChudWxsID09PSBlIHx8IHZvaWQgMCA9PT0gZSkgdGhyb3cgRXJyb3IoIlJlYWN0LmNsb25lRWxlbWVudCguLi4pOiBUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkICIgKyBlICsgIi4iKTt2YXIgbCA9IG0oe30sIGUucHJvcHMpLGEgPSBlLmtleSxvID0gZS5yZWYsaSA9IGUuX293bmVyO2lmIChudWxsICE9IHQpIHtpZiAodm9pZCAwICE9PSB0LnJlZiAmJiAobyA9IHQucmVmLCBpID0gUy5jdXJyZW50KSwgdm9pZCAwICE9PSB0LmtleSAmJiAoYSA9ICIiICsgdC5rZXkpLCBlLnR5cGUgJiYgZS50eXBlLmRlZmF1bHRQcm9wcykgdmFyIHUgPSBlLnR5cGUuZGVmYXVsdFByb3BzO2ZvciAocyBpbiB0KSB4LmNhbGwodCwgcykgJiYgIUMuaGFzT3duUHJvcGVydHkocykgJiYgKGxbc10gPSB2b2lkIDAgPT09IHRbc10gJiYgdm9pZCAwICE9PSB1ID8gdVtzXSA6IHRbc10pfXZhciBzID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7aWYgKDEgPT09IHMpIGwuY2hpbGRyZW4gPSByO2Vsc2UgaWYgKDEgPCBzKSB7dSA9IEFycmF5KHMpO2ZvciAodmFyIGMgPSAwOyBjIDwgczsgYysrKSB1W2NdID0gYXJndW1lbnRzW2MgKyAyXTtsLmNoaWxkcmVuID0gdX1yZXR1cm4geyQkdHlwZW9mOiBuLHR5cGU6IGUudHlwZSxrZXk6IGEscmVmOiBvLHByb3BzOiBsLF9vd25lcjogaX19LCB0LmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbihlKSB7cmV0dXJuIChlID0geyQkdHlwZW9mOiB1LF9jdXJyZW50VmFsdWU6IGUsX2N1cnJlbnRWYWx1ZTI6IGUsX3RocmVhZENvdW50OiAwLFByb3ZpZGVyOiBudWxsLENvbnN1bWVyOiBudWxsLF9kZWZhdWx0VmFsdWU6IG51bGwsX2dsb2JhbE5hbWU6IG51bGx9KS5Qcm92aWRlciA9IHskJHR5cGVvZjogaSxfY29udGV4dDogZX0sIGUuQ29uc3VtZXIgPSBlfSwgdC5jcmVhdGVFbGVtZW50ID0gRSwgdC5jcmVhdGVGYWN0b3J5ID0gZnVuY3Rpb24oZSkge3ZhciB0ID0gRS5iaW5kKG51bGwsIGUpO3JldHVybiB0LnR5cGUgPSBlLCB0fSwgdC5jcmVhdGVSZWYgPSBmdW5jdGlvbigpIHtyZXR1cm4ge2N1cnJlbnQ6IG51bGx9fSwgdC5mb3J3YXJkUmVmID0gZnVuY3Rpb24oZSkge3JldHVybiB7JCR0eXBlb2Y6IHMscmVuZGVyOiBlfX0sIHQuaXNWYWxpZEVsZW1lbnQgPSBfLCB0LmxhenkgPSBmdW5jdGlvbihlKSB7cmV0dXJuIHskJHR5cGVvZjogZCxfcGF5bG9hZDoge19zdGF0dXM6IC0xLF9yZXN1bHQ6IGV9LF9pbml0OiBNfX0sIHQubWVtbyA9IGZ1bmN0aW9uKGUsIHQpIHtyZXR1cm4geyQkdHlwZW9mOiBmLHR5cGU6IGUsY29tcGFyZTogdm9pZCAwID09PSB0ID8gbnVsbCA6IHR9fSwgdC5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbihlKSB7dmFyIHQgPSBULnRyYW5zaXRpb247VC50cmFuc2l0aW9uID0ge307dHJ5IHtlKCl9IGZpbmFsbHkge1QudHJhbnNpdGlvbiA9IHR9fSwgdC51bnN0YWJsZV9hY3QgPSBmdW5jdGlvbigpIHt0aHJvdyBFcnJvcigiYWN0KC4uLikgaXMgbm90IHN1cHBvcnRlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcyBvZiBSZWFjdC4iKX0sIHQudXNlQ2FsbGJhY2sgPSBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIEYuY3VycmVudC51c2VDYWxsYmFjayhlLCB0KX0sIHQudXNlQ29udGV4dCA9IGZ1bmN0aW9uKGUpIHtyZXR1cm4gRi5jdXJyZW50LnVzZUNvbnRleHQoZSl9LCB0LnVzZURlYnVnVmFsdWUgPSBmdW5jdGlvbigpIHt9LCB0LnVzZURlZmVycmVkVmFsdWUgPSBmdW5jdGlvbihlKSB7cmV0dXJuIEYuY3VycmVudC51c2VEZWZlcnJlZFZhbHVlKGUpfSwgdC51c2VFZmZlY3QgPSBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIEYuY3VycmVudC51c2VFZmZlY3QoZSwgdCl9LCB0LnVzZUlkID0gZnVuY3Rpb24oKSB7cmV0dXJuIEYuY3VycmVudC51c2VJZCgpfSwgdC51c2VJbXBlcmF0aXZlSGFuZGxlID0gZnVuY3Rpb24oZSwgdCwgbikge3JldHVybiBGLmN1cnJlbnQudXNlSW1wZXJhdGl2ZUhhbmRsZShlLCB0LCBuKX0sIHQudXNlSW5zZXJ0aW9uRWZmZWN0ID0gZnVuY3Rpb24oZSwgdCkge3JldHVybiBGLmN1cnJlbnQudXNlSW5zZXJ0aW9uRWZmZWN0KGUsIHQpfSwgdC51c2VMYXlvdXRFZmZlY3QgPSBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIEYuY3VycmVudC51c2VMYXlvdXRFZmZlY3QoZSwgdCl9LCB0LnVzZU1lbW8gPSBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIEYuY3VycmVudC51c2VNZW1vKGUsIHQpfSwgdC51c2VSZWR1Y2VyID0gZnVuY3Rpb24oZSwgdCwgbikge3JldHVybiBGLmN1cnJlbnQudXNlUmVkdWNlcihlLCB0LCBuKX0sIHQudXNlUmVmID0gZnVuY3Rpb24oZSkge3JldHVybiBGLmN1cnJlbnQudXNlUmVmKGUpfSwgdC51c2VTdGF0ZSA9IGZ1bmN0aW9uKGUpIHtyZXR1cm4gRi5jdXJyZW50LnVzZVN0YXRlKGUpfSwgdC51c2VTeW5jRXh0ZXJuYWxTdG9yZSA9IGZ1bmN0aW9uKGUsIHQsIG4pIHtyZXR1cm4gRi5jdXJyZW50LnVzZVN5bmNFeHRlcm5hbFN0b3JlKGUsIHQsIG4pfSwgdC51c2VUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7cmV0dXJuIEYuY3VycmVudC51c2VUcmFuc2l0aW9uKCl9LCB0LnZlcnNpb24gPSAiMTguMi4wIn0sMzEzOiBmdW5jdGlvbihlLCB0LCBuKSB7ZS5leHBvcnRzID0gbigzMDYpfSw0MTc6IGZ1bmN0aW9uKGUsIHQsIG4pIHtlLmV4cG9ydHMgPSBuKDkxOCl9LDk1OiBmdW5jdGlvbihlLCB0KSB7ZnVuY3Rpb24gbihlLCB0KSB7dmFyIG4gPSBlLmxlbmd0aDtlLnB1c2godCk7ZTogZm9yICg7IDAgPCBuOykge3ZhciByID0gbiAtIDEgPj4+IDEsbCA9IGVbcl07aWYgKCEoMCA8IGEobCwgdCkpKSBicmVhayBlO2Vbcl0gPSB0LCBlW25dID0gbCwgbiA9IHJ9fWZ1bmN0aW9uIHIoZSkge3JldHVybiAwID09PSBlLmxlbmd0aCA/IG51bGwgOiBlWzBdfWZ1bmN0aW9uIGwoZSkge2lmICgwID09PSBlLmxlbmd0aCkgcmV0dXJuIG51bGw7dmFyIHQgPSBlWzBdLG4gPSBlLnBvcCgpO2lmIChuICE9PSB0KSB7ZVswXSA9IG47ZTogZm9yICh2YXIgciA9IDAsIGwgPSBlLmxlbmd0aCwgbyA9IGwgPj4+IDE7IHIgPCBvOykge3ZhciBpID0gMiAqIChyICsgMSkgLSAxLHUgPSBlW2ldLHMgPSBpICsgMSxjID0gZVtzXTtpZiAoMCA+IGEodSwgbikpIHMgPCBsICYmIDAgPiBhKGMsIHUpID8gKGVbcl0gPSBjLCBlW3NdID0gbiwgciA9IHMpIDogKGVbcl0gPSB1LCBlW2ldID0gbiwgciA9IGkpO2Vsc2Uge2lmICghKHMgPCBsICYmIDAgPiBhKGMsIG4pKSkgYnJlYWsgZTtlW3JdID0gYywgZVtzXSA9IG4sIHIgPSBzfX19cmV0dXJuIHR9ZnVuY3Rpb24gYShlLCB0KSB7dmFyIG4gPSBlLnNvcnRJbmRleCAtIHQuc29ydEluZGV4O3JldHVybiAwICE9PSBuID8gbiA6IGUuaWQgLSB0LmlkfWlmICgib2JqZWN0IiA9PT0gdHlwZW9mIHBlcmZvcm1hbmNlICYmICJmdW5jdGlvbiIgPT09IHR5cGVvZiBwZXJmb3JtYW5jZS5ub3cpIHt2YXIgbyA9IHBlcmZvcm1hbmNlO3QudW5zdGFibGVfbm93ID0gZnVuY3Rpb24oKSB7cmV0dXJuIG8ubm93KCl9fSBlbHNlIHt2YXIgaSA9IERhdGUsdSA9IGkubm93KCk7dC51bnN0YWJsZV9ub3cgPSBmdW5jdGlvbigpIHtyZXR1cm4gaS5ub3coKSAtIHV9fXZhciBzID0gW10sYyA9IFtdLGYgPSAxLGQgPSBudWxsLHAgPSAzLGggPSAhMSxtID0gITEsdiA9ICExLGcgPSAiZnVuY3Rpb24iID09PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiBudWxsLHkgPSAiZnVuY3Rpb24iID09PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogbnVsbCxiID0gInVuZGVmaW5lZCIgIT09IHR5cGVvZiBzZXRJbW1lZGlhdGUgPyBzZXRJbW1lZGlhdGUgOiBudWxsO2Z1bmN0aW9uIGsoZSkge2ZvciAodmFyIHQgPSByKGMpOyBudWxsICE9PSB0Oykge2lmIChudWxsID09PSB0LmNhbGxiYWNrKSBsKGMpO2Vsc2Uge2lmICghKHQuc3RhcnRUaW1lIDw9IGUpKSBicmVhaztsKGMpLCB0LnNvcnRJbmRleCA9IHQuZXhwaXJhdGlvblRpbWUsIG4ocywgdCl9dCA9IHIoYyl9fWZ1bmN0aW9uIHcoZSkge2lmICh2ID0gITEsIGsoZSksICFtKWlmIChudWxsICE9PSByKHMpKSBtID0gITAsIFQoeCk7ZWxzZSB7dmFyIHQgPSByKGMpO251bGwgIT09IHQgJiYgVih3LCB0LnN0YXJ0VGltZSAtIGUpfX1mdW5jdGlvbiB4KGUsIG4pIHttID0gITEsIHYgJiYgKHYgPSAhMSwgeShfKSwgXyA9IC0xKSwgaCA9ICEwO3ZhciBhID0gcDt0cnkge2ZvciAoayhuKSwgZCA9IHIocyk7IG51bGwgIT09IGQgJiYgKCEoZC5leHBpcmF0aW9uVGltZSA+IG4pIHx8IGUgJiYgIUwoKSk7KSB7dmFyIG8gPSBkLmNhbGxiYWNrO2lmICgiZnVuY3Rpb24iID09PSB0eXBlb2Ygbykge2QuY2FsbGJhY2sgPSBudWxsLCBwID0gZC5wcmlvcml0eUxldmVsO3ZhciBpID0gbyhkLmV4cGlyYXRpb25UaW1lIDw9IG4pO24gPSB0LnVuc3RhYmxlX25vdygpLCAiZnVuY3Rpb24iID09PSB0eXBlb2YgaSA/IGQuY2FsbGJhY2sgPSBpIDogZCA9PT0gcihzKSAmJiBsKHMpLCBrKG4pfSBlbHNlIGwocyk7ZCA9IHIocyl9aWYgKG51bGwgIT09IGQpIHZhciB1ID0gITA7ZWxzZSB7dmFyIGYgPSByKGMpO251bGwgIT09IGYgJiYgVih3LCBmLnN0YXJ0VGltZSAtIG4pLCB1ID0gITF9cmV0dXJuIHV9IGZpbmFsbHkge2QgPSBudWxsLCBwID0gYSwgaCA9ICExfX0idW5kZWZpbmVkIiAhPT0gdHlwZW9mIG5hdmlnYXRvciAmJiB2b2lkIDAgIT09IG5hdmlnYXRvci5zY2hlZHVsaW5nICYmIHZvaWQgMCAhPT0gbmF2aWdhdG9yLnNjaGVkdWxpbmcuaXNJbnB1dFBlbmRpbmcgJiYgbmF2aWdhdG9yLnNjaGVkdWxpbmcuaXNJbnB1dFBlbmRpbmcuYmluZChuYXZpZ2F0b3Iuc2NoZWR1bGluZyk7dmFyIFMsIEMgPSAhMSxFID0gbnVsbCxfID0gLTEsTiA9IDUsUCA9IC0xO2Z1bmN0aW9uIEwoKSB7cmV0dXJuICEodC51bnN0YWJsZV9ub3coKSAtIFAgPCBOKX1mdW5jdGlvbiB6KCkge2lmIChudWxsICE9PSBFKSB7dmFyIGUgPSB0LnVuc3RhYmxlX25vdygpO1AgPSBlO3ZhciBuID0gITA7dHJ5IHtuID0gRSghMCwgZSl9IGZpbmFsbHkge24gPyBTKCkgOiAoQyA9ICExLCBFID0gbnVsbCl9fSBlbHNlIEMgPSAhMX1pZiAoImZ1bmN0aW9uIiA9PT0gdHlwZW9mIGIpIFMgPSBmdW5jdGlvbigpIHtiKHopfTtlbHNlIGlmICgidW5kZWZpbmVkIiAhPT0gdHlwZW9mIE1lc3NhZ2VDaGFubmVsKSB7dmFyIE0gPSBuZXcgTWVzc2FnZUNoYW5uZWwsRiA9IE0ucG9ydDI7TS5wb3J0MS5vbm1lc3NhZ2UgPSB6LCBTID0gZnVuY3Rpb24oKSB7Ri5wb3N0TWVzc2FnZShudWxsKX19IGVsc2UgUyA9IGZ1bmN0aW9uKCkge2coeiwgMCl9O2Z1bmN0aW9uIFQoZSkge0UgPSBlLCBDIHx8IChDID0gITAsIFMoKSl9ZnVuY3Rpb24gVihlLCBuKSB7XyA9IGcoKGZ1bmN0aW9uKCkge2UodC51bnN0YWJsZV9ub3coKSl9KSwgbil9dC51bnN0YWJsZV9JZGxlUHJpb3JpdHkgPSA1LCB0LnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5ID0gMSwgdC51bnN0YWJsZV9Mb3dQcmlvcml0eSA9IDQsIHQudW5zdGFibGVfTm9ybWFsUHJpb3JpdHkgPSAzLCB0LnVuc3RhYmxlX1Byb2ZpbGluZyA9IG51bGwsIHQudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHkgPSAyLCB0LnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrID0gZnVuY3Rpb24oZSkge2UuY2FsbGJhY2sgPSBudWxsfSwgdC51bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbiA9IGZ1bmN0aW9uKCkge20gfHwgaCB8fCAobSA9ICEwLCBUKHgpKX0sIHQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGUgPSBmdW5jdGlvbihlKSB7MCA+IGUgfHwgMTI1IDwgZSA/IGNvbnNvbGUuZXJyb3IoImZvcmNlRnJhbWVSYXRlIHRha2VzIGEgcG9zaXRpdmUgaW50IGJldHdlZW4gMCBhbmQgMTI1LCBmb3JjaW5nIGZyYW1lIHJhdGVzIGhpZ2hlciB0aGFuIDEyNSBmcHMgaXMgbm90IHN1cHBvcnRlZCIpIDogTiA9IDAgPCBlID8gTWF0aC5mbG9vcigxZTMgLyBlKSA6IDV9LCB0LnVuc3RhYmxlX2dldEN1cnJlbnRQcmlvcml0eUxldmVsID0gZnVuY3Rpb24oKSB7cmV0dXJuIHB9LCB0LnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlID0gZnVuY3Rpb24oKSB7cmV0dXJuIHIocyl9LCB0LnVuc3RhYmxlX25leHQgPSBmdW5jdGlvbihlKSB7c3dpdGNoIChwKSB7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQgPSAzO2JyZWFrO2RlZmF1bHQ6dCA9IHB9dmFyIG4gPSBwO3AgPSB0O3RyeSB7cmV0dXJuIGUoKX0gZmluYWxseSB7cCA9IG59fSwgdC51bnN0YWJsZV9wYXVzZUV4ZWN1dGlvbiA9IGZ1bmN0aW9uKCkge30sIHQudW5zdGFibGVfcmVxdWVzdFBhaW50ID0gZnVuY3Rpb24oKSB7fSwgdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkgPSBmdW5jdGlvbihlLCB0KSB7c3dpdGNoIChlKSB7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmUgPSAzfXZhciBuID0gcDtwID0gZTt0cnkge3JldHVybiB0KCl9IGZpbmFsbHkge3AgPSBufX0sIHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayA9IGZ1bmN0aW9uKGUsIGwsIGEpIHt2YXIgbyA9IHQudW5zdGFibGVfbm93KCk7c3dpdGNoICgib2JqZWN0IiA9PT0gdHlwZW9mIGEgJiYgbnVsbCAhPT0gYSA/IGEgPSAibnVtYmVyIiA9PT0gdHlwZW9mKGEgPSBhLmRlbGF5KSAmJiAwIDwgYSA/IG8gKyBhIDogbyA6IGEgPSBvLCBlKSB7Y2FzZSAxOnZhciBpID0gLTE7YnJlYWs7Y2FzZSAyOmkgPSAyNTA7YnJlYWs7Y2FzZSA1OmkgPSAxMDczNzQxODIzO2JyZWFrO2Nhc2UgNDppID0gMWU0O2JyZWFrO2RlZmF1bHQ6aSA9IDVlM31yZXR1cm4gZSA9IHtpZDogZisrLGNhbGxiYWNrOiBsLHByaW9yaXR5TGV2ZWw6IGUsc3RhcnRUaW1lOiBhLGV4cGlyYXRpb25UaW1lOiBpID0gYSArIGksc29ydEluZGV4OiAtMX0sIGEgPiBvID8gKGUuc29ydEluZGV4ID0gYSwgbihjLCBlKSwgbnVsbCA9PT0gcihzKSAmJiBlID09PSByKGMpICYmICh2ID8gKHkoXyksIF8gPSAtMSkgOiB2ID0gITAsIFYodywgYSAtIG8pKSkgOiAoZS5zb3J0SW5kZXggPSBpLCBuKHMsIGUpLCBtIHx8IGggfHwgKG0gPSAhMCwgVCh4KSkpLCBlfSwgdC51bnN0YWJsZV9zaG91bGRZaWVsZCA9IEwsIHQudW5zdGFibGVfd3JhcENhbGxiYWNrID0gZnVuY3Rpb24oZSkge3ZhciB0ID0gcDtyZXR1cm4gZnVuY3Rpb24oKSB7dmFyIG4gPSBwO3AgPSB0O3RyeSB7cmV0dXJuIGUuYXBwbHkodGhpcywgYXJndW1lbnRzKX0gZmluYWxseSB7cCA9IG59fX19LDIyNDogZnVuY3Rpb24oZSwgdCwgbikge2UuZXhwb3J0cyA9IG4oOTUpfX0sdCA9IHt9O2Z1bmN0aW9uIG4ocikge3ZhciBsID0gdFtyXTtpZiAodm9pZCAwICE9PSBsKSByZXR1cm4gbC5leHBvcnRzO3ZhciBhID0gdFtyXSA9IHtleHBvcnRzOiB7fX07cmV0dXJuIGVbcl0oYSwgYS5leHBvcnRzLCBuKSwgYS5leHBvcnRzfW4ubSA9IGUsIG4uZCA9IGZ1bmN0aW9uKGUsIHQpIHtmb3IgKHZhciByIGluIHQpIG4ubyh0LCByKSAmJiAhbi5vKGUsIHIpICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7ZW51bWVyYWJsZTogITAsZ2V0OiB0W3JdfSl9LCBuLmYgPSB7fSwgbi5lID0gZnVuY3Rpb24oZSkge3JldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhuLmYpLnJlZHVjZSgoZnVuY3Rpb24odCwgcikge3JldHVybiBuLmZbcl0oZSwgdCksIHR9KSwgW10pKX0sIG4udSA9IGZ1bmN0aW9uKGUpIHtyZXR1cm4gInN0YXRpYy9qcy8iICsgZSArICIuYjNhOWRiZjIuY2h1bmsuanMifSwgbi5taW5pQ3NzRiA9IGZ1bmN0aW9uKGUpIHt9LCBuLm8gPSBmdW5jdGlvbihlLCB0KSB7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCB0KX0sZnVuY3Rpb24oKSB7dmFyIGUgPSB7fSx0ID0gIm5ld2FwcDoiO24ubCA9IGZ1bmN0aW9uKHIsIGwsIGEsIG8pIHtpZiAoZVtyXSkgZVtyXS5wdXNoKGwpO2Vsc2Uge3ZhciBpLCB1O2lmICh2b2lkIDAgIT09IGEpZm9yICh2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSwgYyA9IDA7IGMgPCBzLmxlbmd0aDsgYysrKSB7dmFyIGYgPSBzW2NdO2lmIChmLmdldEF0dHJpYnV0ZSgic3JjIikgPT0gciB8fCBmLmdldEF0dHJpYnV0ZSgiZGF0YS13ZWJwYWNrIikgPT0gdCArIGEpIHtpID0gZjticmVha319aSB8fCAodSA9ICEwLCAoaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpKS5jaGFyc2V0ID0gInV0Zi04IiwgaS50aW1lb3V0ID0gMTIwLCBuLm5jICYmIGkuc2V0QXR0cmlidXRlKCJub25jZSIsIG4ubmMpLCBpLnNldEF0dHJpYnV0ZSgiZGF0YS13ZWJwYWNrIiwgdCArIGEpLCBpLnNyYyA9IHIpLCBlW3JdID0gW2xdO3ZhciBkID0gZnVuY3Rpb24odCwgbikge2kub25lcnJvciA9IGkub25sb2FkID0gbnVsbCwgY2xlYXJUaW1lb3V0KHApO3ZhciBsID0gZVtyXTtpZiAoZGVsZXRlIGVbcl0sIGkucGFyZW50Tm9kZSAmJiBpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSksIGwgJiYgbC5mb3JFYWNoKChmdW5jdGlvbihlKSB7cmV0dXJuIGUobil9KSksIHQpIHJldHVybiB0KG4pfSxwID0gc2V0VGltZW91dChkLmJpbmQobnVsbCwgdm9pZCAwLCB7dHlwZTogInRpbWVvdXQiLHRhcmdldDogaX0pLCAxMmU0KTtpLm9uZXJyb3IgPSBkLmJpbmQobnVsbCwgaS5vbmVycm9yKSwgaS5vbmxvYWQgPSBkLmJpbmQobnVsbCwgaS5vbmxvYWQpLCB1ICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaSl9fX0oKSwgbi5yID0gZnVuY3Rpb24oZSkgeyJ1bmRlZmluZWQiICE9PSB0eXBlb2YgU3ltYm9sICYmIFN5bWJvbC50b1N0cmluZ1RhZyAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7dmFsdWU6ICJNb2R1bGUifSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCAiX19lc01vZHVsZSIsIHt2YWx1ZTogITB9KX0sIG4ucCA9ICIvIixmdW5jdGlvbigpIHt2YXIgZSA9IHsxNzk6IDB9O24uZi5qID0gZnVuY3Rpb24odCwgcikge3ZhciBsID0gbi5vKGUsIHQpID8gZVt0XSA6IHZvaWQgMDtpZiAoMCAhPT0gbClpZiAobCkgci5wdXNoKGxbMl0pO2Vsc2Uge3ZhciBhID0gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4sIHIpIHtsID0gZVt0XSA9IFtuLCByXX0pKTtyLnB1c2gobFsyXSA9IGEpO3ZhciBvID0gbi5wICsgbi51KHQpLGkgPSBuZXcgRXJyb3I7bi5sKG8sIChmdW5jdGlvbihyKSB7aWYgKG4ubyhlLCB0KSAmJiAoMCAhPT0gKGwgPSBlW3RdKSAmJiAoZVt0XSA9IHZvaWQgMCksIGwpKSB7dmFyIGEgPSByICYmICgibG9hZCIgPT09IHIudHlwZSA/ICJtaXNzaW5nIiA6IHIudHlwZSksbyA9IHIgJiYgci50YXJnZXQgJiYgci50YXJnZXQuc3JjO2kubWVzc2FnZSA9ICJMb2FkaW5nIGNodW5rICIgKyB0ICsgIiBmYWlsZWQuXG4oIiArIGEgKyAiOiAiICsgbyArICIpIiwgaS5uYW1lID0gIkNodW5rTG9hZEVycm9yIiwgaS50eXBlID0gYSwgaS5yZXF1ZXN0ID0gbywgbFsxXShpKX19KSwgImNodW5rLSIgKyB0LCB0KX19O3ZhciB0ID0gZnVuY3Rpb24odCwgcikge3ZhciBsLCBhLCBvID0gclswXSxpID0gclsxXSx1ID0gclsyXSxzID0gMDtpZiAoby5zb21lKChmdW5jdGlvbih0KSB7cmV0dXJuIDAgIT09IGVbdF19KSkpIHtmb3IgKGwgaW4gaSkgbi5vKGksIGwpICYmIChuLm1bbF0gPSBpW2xdKTtpZiAodSkgdShuKX1mb3IgKHQgJiYgdChyKTsgcyA8IG8ubGVuZ3RoOyBzKyspIGEgPSBvW3NdLCBuLm8oZSwgYSkgJiYgZVthXSAmJiBlW2FdWzBdKCksIGVbYV0gPSAwfSxyID0gc2VsZi53ZWJwYWNrQ2h1bmtuZXdhcHAgPSBzZWxmLndlYnBhY2tDaHVua25ld2FwcCB8fCBbXTtyLmZvckVhY2godC5iaW5kKG51bGwsIDApKSwgci5wdXNoID0gdC5iaW5kKG51bGwsIHIucHVzaC5iaW5kKHIpKX0oKSxmdW5jdGlvbigpIHt2YXIgZSA9IG4oMzEzKSx0ID0gbig3MzkpO2Z1bmN0aW9uIHIoZSwgdCkgeyhudWxsID09IHQgfHwgdCA+IGUubGVuZ3RoKSAmJiAodCA9IGUubGVuZ3RoKTtmb3IgKHZhciBuID0gMCwgciA9IG5ldyBBcnJheSh0KTsgbiA8IHQ7IG4rKykgcltuXSA9IGVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gbChlLCB0KSB7cmV0dXJuIGZ1bmN0aW9uKGUpIHtpZiAoQXJyYXkuaXNBcnJheShlKSkgcmV0dXJuIGV9KGUpIHx8IGZ1bmN0aW9uKGUsIHQpIHt2YXIgbiA9IG51bGwgPT0gZSA/IG51bGwgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgU3ltYm9sICYmIGVbU3ltYm9sLml0ZXJhdG9yXSB8fCBlWyJAQGl0ZXJhdG9yIl07aWYgKG51bGwgIT0gbikge3ZhciByLCBsLCBhLCBvLCBpID0gW10sdSA9ICEwLHMgPSAhMTt0cnkge2lmIChhID0gKG4gPSBuLmNhbGwoZSkpLm5leHQsIDAgPT09IHQpIHtpZiAoT2JqZWN0KG4pICE9PSBuKSByZXR1cm47dSA9ICExfSBlbHNlZm9yICg7ICEodSA9IChyID0gYS5jYWxsKG4pKS5kb25lKSAmJiAoaS5wdXNoKHIudmFsdWUpLCBpLmxlbmd0aCAhPT0gdCk7IHUgPSAhMCk7fSBjYXRjaCAoYykge3MgPSAhMCwgbCA9IGN9IGZpbmFsbHkge3RyeSB7aWYgKCF1ICYmIG51bGwgIT0gbi5yZXR1cm4gJiYgKG8gPSBuLnJldHVybigpLCBPYmplY3QobykgIT09IG8pKSByZXR1cm59IGZpbmFsbHkge2lmIChzKSB0aHJvdyBsfX1yZXR1cm4gaX19KGUsIHQpIHx8IGZ1bmN0aW9uKGUsIHQpIHtpZiAoZSkge2lmICgic3RyaW5nIiA9PT0gdHlwZW9mIGUpIHJldHVybiByKGUsIHQpO3ZhciBuID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsIC0xKTtyZXR1cm4gIk9iamVjdCIgPT09IG4gJiYgZS5jb25zdHJ1Y3RvciAmJiAobiA9IGUuY29uc3RydWN0b3IubmFtZSksICJNYXAiID09PSBuIHx8ICJTZXQiID09PSBuID8gQXJyYXkuZnJvbShlKSA6ICJBcmd1bWVudHMiID09PSBuIHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pID8gcihlLCB0KSA6IHZvaWQgMH19KGUsIHQpIHx8IGZ1bmN0aW9uKCkge3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9dmFyIGEgPSB7Y2FwQnJEdjogImNzc19jYXBCckR2X19WRlA3dSIsY2FwT3JnRHY6ICJjc3NfY2FwT3JnRHZfX2ZCcDhRIixtYWluRHY6ICJjc3NfbWFpbkR2X19QbXFiTiIsbXRMZ0R2OiAiY3NzX210TGdEdl9fY21HVkIiLGNhcFBkRHY6ICJjc3NfY2FwUGREdl9fQUI5Z1IiLENudEJ0bjogImNzc19DbnRCdG5fXzlnWDRWIixidG5Ec2I6ICJjc3NfYnRuRHNiX196TWs5ciJ9LG8gPSBuLnAgKyAibmV3ZmIvbWV0YS0wMS5wbmciLGkgPSBuLnAgKyAibmV3ZmIvbWV0YS1maW5hbC1idXNpbmVzcy1oZWxwLnBuZyIsdSA9IG4oNDE3KTt2YXIgcyA9IGZ1bmN0aW9uKCkge3JldHVybiAoMCwgdS5qc3hzKSgiZGl2Iiwge2lkOiAiYW5jaG9yIiwiYXJpYS1oaWRkZW4iOiAiZmFsc2UiLHN0eWxlOiB7Ym94U2l6aW5nOiAiY29udGVudC1ib3giLG1heFdpZHRoOiAiMzEwcHgiLGhlaWdodDogIjc0cHgiLHBhZGRpbmc6ICIwcHgiLG1hcmdpbjogImF1dG8iLGJvcmRlcldpZHRoOiAiMXB4Iixib3JkZXJTdHlsZTogInNvbGlkIixib3JkZXJSYWRpdXM6ICI0cHgiLGJvcmRlckNvbG9yOiAicmdiKDIyNCwgMjI0LCAyMjQpIixiYWNrZ3JvdW5kQ29sb3I6ICJyZ2IoMjUwLCAyNTAsIDI1MCkiLGN1cnNvcjogInBvaW50ZXIiLGRpc3BsYXk6ICJibG9jayJ9LGNoaWxkcmVuOiBbKDAsIHUuanN4cykoImRpdiIsIHtpZDogImFuY2hvci13ciIsc3R5bGU6IHtwb3NpdGlvbjogInJlbGF0aXZlIixkaXNwbGF5OiAiaW5saW5lLWJsb2NrIixoZWlnaHQ6ICIxMDAlIn0sY2hpbGRyZW46IFsoMCwgdS5qc3gpKCJkaXYiLCB7aWQ6ICJhbmNob3ItdGQiLHN0eWxlOiB7cG9zaXRpb246ICJyZWxhdGl2ZSIsZGlzcGxheTogInRhYmxlIix0b3A6ICIwcHgiLGhlaWdodDogIjEwMCUifSxjaGlsZHJlbjogKDAsIHUuanN4KSgiZGl2Iiwge2lkOiAiYW5jaG9yLXRjIixzdHlsZToge2Rpc3BsYXk6ICJ0YWJsZS1jZWxsIix2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIn0sY2hpbGRyZW46ICgwLCB1LmpzeHMpKCJkaXYiLCB7aWQ6ICJhbmNob3Itc3RhdGUiLHN0eWxlOiB7cG9zaXRpb246ICJyZWxhdGl2ZSIsd2lkdGg6ICIzMHB4IixoZWlnaHQ6ICIzMHB4IixtYXJnaW46ICIwcHggMTVweCJ9LGNoaWxkcmVuOiBbKDAsIHUuanN4KSgiZGl2Iiwge2lkOiAiY2hlY2tib3giLG9uQ2xpY2s6IGZ1bmN0aW9uKCkge3ZhciBlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLnB1bHNlIiksdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jaGVjayIpO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJjaGVja2JveCIpLnN0eWxlLmJvcmRlckNvbG9yID0gInRyYW5zcGFyZW50IiwgZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIiwgc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7ZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCB0LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RwMUJ0Iikuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gIiMzMDg0ZjQiLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3RwMUJ0Iikuc3R5bGUucG9pbnRlckV2ZW50cyA9ICJhbGwifSksIDE1MDApfSwiYXJpYS1jaGVja2VkIjogImZhbHNlIixyb2xlOiAiY2hlY2tib3giLHRhYkluZGV4OiAwLCJhcmlhLWxpdmUiOiAiYXNzZXJ0aXZlIiwiYXJpYS1sYWJlbGxlZGJ5IjogImExMXktbGFiZWwiLCJhcmlhLWRlc2NyaWJlZGJ5IjogInN0YXR1cyIsc3R5bGU6IHtwb3NpdGlvbjogImFic29sdXRlIix3aWR0aDogIjI4cHgiLGhlaWdodDogIjI4cHgiLGJvcmRlcldpZHRoOiAiMXB4Iixib3JkZXJTdHlsZTogInNvbGlkIixib3JkZXJDb2xvcjogInJnYigxNDUsIDE0NSwgMTQ1KSIsYm9yZGVyUmFkaXVzOiAiNHB4IixiYWNrZ3JvdW5kQ29sb3I6ICJyZ2IoMjUwLCAyNTAsIDI1MCkiLHRvcDogIjBweCIsbGVmdDogIjBweCJ9fSksICgwLCB1LmpzeCkoImRpdiIsIHtjbGFzc05hbWU6ICJwdWxzZSIsc3R5bGU6IHt3aWR0aDogIjMwcHgiLGhlaWdodDogIjMwcHgiLGRpc3BsYXk6ICJub25lIixwb3NpdGlvbjogImFic29sdXRlIix0b3A6ICIwcHgiLGxlZnQ6ICIwcHgifSxjaGlsZHJlbjogKDAsIHUuanN4cykoInN2ZyIsIHt4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixpZDogIkxheWVyXzEiLHg6ICIwcHgiLHk6ICIwcHgiLHZpZXdCb3g6ICIwIDAgNDQgNDQiLHN0eWxlOiB7d2lkdGg6ICIzMHB4IixoZWlnaHQ6ICIzMHB4IixkaXNwbGF5OiAiYmxvY2sifSxjaGlsZHJlbjogWygwLCB1LmpzeCkoInN0eWxlIiwge3R5cGU6ICJ0ZXh0L2NzcyIsZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtfX2h0bWw6ICJcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIn19KSwgKDAsIHUuanN4cykoImciLCB7Y2hpbGRyZW46IFsoMCwgdS5qc3hzKSgiY2lyY2xlIiwge2NsYXNzTmFtZTogInN0MCIsY3g6IDIyLGN5OiAyMixyOiAxLGNoaWxkcmVuOiBbKDAsIHUuanN4KSgiYW5pbWF0ZSIsIHthY2N1bXVsYXRlOiAibm9uZSIsYWRkaXRpdmU6ICJyZXBsYWNlIixhdHRyaWJ1dGVOYW1lOiAiciIsYmVnaW46ICIwcyIsY2FsY01vZGU6ICJzcGxpbmUiLGR1cjogIjEuOHMiLGZpbGw6ICJyZW1vdmUiLGtleVNwbGluZXM6ICIwLjE2NSwgMC44NCwgMC40NCwgMSIsa2V5VGltZXM6ICIwOyAxIixyZXBlYXRDb3VudDogImluZGVmaW5pdGUiLHJlc3RhcnQ6ICJhbHdheXMiLHZhbHVlczogIjE7IDIwIn0pLCAoMCwgdS5qc3gpKCJhbmltYXRlIiwge2FjY3VtdWxhdGU6ICJub25lIixhZGRpdGl2ZTogInJlcGxhY2UiLGF0dHJpYnV0ZU5hbWU6ICJzdHJva2Utb3BhY2l0eSIsYmVnaW46ICIwcyIsY2FsY01vZGU6ICJzcGxpbmUiLGR1cjogIjEuOHMiLGZpbGw6ICJyZW1vdmUiLGtleVNwbGluZXM6ICIwLjMsIDAuNjEsIDAuMzU1LCAxIixrZXlUaW1lczogIjA7IDEiLHJlcGVhdENvdW50OiAiaW5kZWZpbml0ZSIscmVzdGFydDogImFsd2F5cyIsdmFsdWVzOiAiMTsgMCIsY2hpbGRyZW46ICIgIn0pXX0pLCAoMCwgdS5qc3hzKSgiY2lyY2xlIiwge2NsYXNzTmFtZTogInN0MCIsY3g6IDIyLGN5OiAyMixyOiAxLGNoaWxkcmVuOiBbKDAsIHUuanN4KSgiYW5pbWF0ZSIsIHthY2N1bXVsYXRlOiAibm9uZSIsYWRkaXRpdmU6ICJyZXBsYWNlIixhdHRyaWJ1dGVOYW1lOiAiciIsYmVnaW46ICItMC45cyIsY2FsY01vZGU6ICJzcGxpbmUiLGR1cjogIjEuOHMiLGZpbGw6ICJyZW1vdmUiLGtleVNwbGluZXM6ICIwLjE2NSwgMC44NCwgMC40NCwgMSIsa2V5VGltZXM6ICIwOyAxIixyZXBlYXRDb3VudDogImluZGVmaW5pdGUiLHJlc3RhcnQ6ICJhbHdheXMiLHZhbHVlczogIjE7IDIwIn0pLCAoMCwgdS5qc3gpKCJhbmltYXRlIiwge2FjY3VtdWxhdGU6ICJub25lIixhZGRpdGl2ZTogInJlcGxhY2UiLGF0dHJpYnV0ZU5hbWU6ICJzdHJva2Utb3BhY2l0eSIsYmVnaW46ICItMC45cyIsY2FsY01vZGU6ICJzcGxpbmUiLGR1cjogIjEuOHMiLGZpbGw6ICJyZW1vdmUiLGtleVNwbGluZXM6ICIwLjMsIDAuNjEsIDAuMzU1LCAxIixrZXlUaW1lczogIjA7IDEiLHJlcGVhdENvdW50OiAiaW5kZWZpbml0ZSIscmVzdGFydDogImFsd2F5cyIsdmFsdWVzOiAiMTsgMCIsY2hpbGRyZW46ICIgIn0pXX0pXX0pXX0pfSksICgwLCB1LmpzeCkoImRpdiIsIHtjbGFzc05hbWU6ICJjaGVjayIsc3R5bGU6IHt3aWR0aDogIjMwcHgiLGhlaWdodDogIjMwcHgiLGRpc3BsYXk6ICJub25lIixwb3NpdGlvbjogImFic29sdXRlIix0b3A6ICIwcHgiLGxlZnQ6ICIwcHgiLGFuaW1hdGlvbjogIjBzIGVhc2UgMHMgMSBub3JtYWwgbm9uZSBydW5uaW5nIGF1dG8ifSxjaGlsZHJlbjogKDAsIHUuanN4KSgiaW1nIiwge2FsdDogIiIsc3JjOiAiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFFQUFBQUJBQ0FZQUFBQ3FhWEhlQUFBQUJtSkxSMFFBL3dEL0FQK2d2YWVUQUFBQzAwbEVRVlI0bk8yYVRVOFRRUnlIbjM5YklkWEVtM2p3TFFoZWZQa0FKb3JZTFlzbElGNjRvaHdNOGVRSDBBL2d6WVNMSVJvb3hCT1JLSnI0VWx0cTRzbXo4WWdRYjNvdzRZQW1VSFk4SUVwZ2Q3dlEzZTBzbWVlNCs1L3VQTCtkYVhkbUN3YUR3V0F3R0F3R2c4RmdNQmdNK3dCcjB1N0pGZTE3UVdyVFVYY21icXhKdXdkaFRwRGVqc0hPN05lNWhiSmYvYjRLWUZNZUpBdUFjS2xlQ1BzbWdCM3ltd2lYMm05MDFCWmZMSHgwYTVlS3BYY1I0eWtQZ1BxZEV2bmsxVmFpN0ZnYzFKTVhrZXZsbSs4OHAwQ2lBMmhVSGhJY1FCanlrTkFBd3BLSEJBWVFwandrTElDdzVTRkJBVVFoRHdrSklDcDVTRUFBVWNxRDVnRkVMUThhQnhDSFBHZ2FRRnp5b0dFQWNjcER3TlhneFptaExDcjZzUEpUdlhrL2VSU0RZY3BEZ0FBR3hnY09abGVXMzFoRisxR1VJVmlUZG85UzZxWGZuYStNbE42SGZWM2ZBQXBqaGRaZnJhdXpJbklGa2RHb1FvaDcyRy9GTTRDaG1hR1cxY1BPTStEYXY0TVJoTkJNZWZBSjRPZks4aGpRditPRXlLaFY3SDBZUmdqTm1QUGI4UXhnbmRRRFlNbjFwSEMzMFpIUXJEbS9IYzhBUG95OFhWSzFkRGV3NkZyUXdIVElGZTB1Uko0M2E5aHZwVzduYzAvNlRrbG12UXEwdXhZb05WNjVWYnFEb0lKY01GZTB1d1I1RFJ4eStiQlk1U0hnZzFCK09uOVNPWmtxcU5PdUJRRkQwRTBlZHZFa3VCRkNlaDdvY0Myb0U0S084ckNMOXdMbDRmSzN0S091QWd1dUJUN2ZDYnJLd3g3V0F2YUVmY0pKeWJ5Q1R0ZUNiU05CWjNuWTQyS28rMm5oZUtibVZPdUZrSnV5TCtzc0R3MnNCbk5UL2NkRXJWV0JNeDRsczZENi9CNXk0dmlkcjBkRFQzUFdZK3NvQnpMendObmdyZlM0ODVzMDlISzBjcnZ5bmJWYUR2Z1NySVZlOGhEU2hzamZrVkFCem5sWDZTY1BJZTRJMmROMlc4MlJpc0Q1bldmMWxJZVF0OFRzYWJ0dDNhRU1jdUgvVVgzbEllUS9TSlNHU3o5YW5MUUY2dlBHRWIzbElhSk4wY0pFNGNpYU9LOUljVjluK1dpSllSUFZZREFZREFhRG9SSCtBTHpmaXh5cmFzbkZBQUFBQUVsRlRrU3VRbUNDIixzdHlsZToge3dpZHRoOiAiMzBweCIsaGVpZ2h0OiAiMzBweCIsZGlzcGxheTogImJsb2NrIn19KX0pXX0pfSl9KSwgKDAsIHUuanN4KSgiZGl2Iiwge2lkOiAiYTExeS1sYWJlbCIsImFyaWEtaGlkZGVuIjogInRydWUiLHN0eWxlOiB7ZGlzcGxheTogIm5vbmUifSxjaGlsZHJlbjogImhDYXB0Y2hhIGNoZWNrYm94LiBTZWxlY3QgaW4gb3JkZXIgdG8gdHJpZ2dlciB0aGUgY2hhbGxlbmdlLCBvciB0byBieXBhc3MgaXQgaWYgeW91IGhhdmUgYW4gYWNjZXNzaWJpbGl0eSBjb29raWUuIn0pXX0pLCAoMCwgdS5qc3gpKCJkaXYiLCB7Y2xhc3NOYW1lOiAibGFiZWwtY29udGFpbmVyIixzdHlsZToge3Bvc2l0aW9uOiAicmVsYXRpdmUiLGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLGhlaWdodDogIjEwMCUiLHdpZHRoOiAiMTQwcHgifSxjaGlsZHJlbjogKDAsIHUuanN4KSgibGFiZWwtdGQiLCB7c3R5bGU6IHtwb3NpdGlvbjogInJlbGF0aXZlIixkaXNwbGF5OiAidGFibGUiLHRvcDogIjBweCIsaGVpZ2h0OiAiMTAwJSJ9LGNoaWxkcmVuOiAoMCwgdS5qc3gpKCJsYWJlbC10YyIsIHtzdHlsZToge2Rpc3BsYXk6ICJ0YWJsZS1jZWxsIix2ZXJ0aWNhbEFsaWduOiAibWlkZGxlIn0sY2hpbGRyZW46ICgwLCB1LmpzeCkoImRpdiIsIHtpZDogImxhYmVsIixzdHlsZToge2NvbG9yOiAicmdiKDg1LCA4NSwgODUpIixmb250U2l6ZTogIjE0cHgifSxjaGlsZHJlbjogIkkgYW0gaHVtYW4uIn0pfSl9KX0pLCAoMCwgdS5qc3gpKCJkaXYiLCB7Y2xhc3NOYW1lOiAiYW5jaG9yLWluZm8iLHN0eWxlOiB7ZGlzcGxheTogImlubGluZS1ibG9jayIsaGVpZ2h0OiAiMTAwJSIsd2lkdGg6ICI2NXB4In0sY2hpbGRyZW46ICgwLCB1LmpzeCkoImRpdiIsIHtjbGFzc05hbWU6ICJhbmNob3ItYnJhbmQiLHN0eWxlOiB7bWFyZ2luOiAiMHB4IGF1dG8iLHRvcDogIjEycHgiLHBvc2l0aW9uOiAicmVsYXRpdmUifSxjaGlsZHJlbjogKDAsIHUuanN4KSgiYSIsIHtjbGFzc05hbWU6ICJsb2dvIix0YWJJbmRleDogMCx0YXJnZXQ6ICJfYmxhbmsiLHJlbDogIm5vcmVmZXJyZXIiLGhyZWY6ICJodHRwczovL3d3dy5oY2FwdGNoYS5jb20vd2hhdC1pcy1oY2FwdGNoYS1hYm91dD9yZWY9bG9jYWxob3N0JnV0bV9jYW1wYWlnbj0wMDAwMDAmdXRtX21lZGl1bT1jaGVja2JveCIsc3R5bGU6IHtkaXNwbGF5OiAiYmxvY2siLHdpZHRoOiAiNDRweCIsaGVpZ2h0OiAiNTBweCIsbWFyZ2luOiAiMHB4IGF1dG8ifSwiYXJpYS1sYWJlbCI6ICJWaXNpdCBoY2FwdGNoYS5jb20gdG8gbGVhcm4gbW9yZSBhYm91dCB0aGUgc2VydmljZSBhbmQgaXRzIGFjY2Vzc2liaWxpdHkgb3B0aW9ucy4iLGNoaWxkcmVuOiAoMCwgdS5qc3gpKCJkaXYiLCB7Y2xhc3NOYW1lOiAibG9nby1ncmFwaGljIixzdHlsZToge2N1cnNvcjogInBvaW50ZXIiLHdpZHRoOiAiNDRweCIsaGVpZ2h0OiAiNTBweCJ9LGNoaWxkcmVuOiAoMCwgdS5qc3hzKSgic3ZnIiwge3htbG5zOiAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLHdpZHRoOiA0NCxoZWlnaHQ6IDQ2LHZpZXdCb3g6ICIwIDAgNDQgNDYiLGZpbGw6ICJub25lIixzdHlsZToge3dpZHRoOiAiNDRweCIsaGVpZ2h0OiAiNTBweCIsZGlzcGxheTogImJsb2NrIn0sY2hpbGRyZW46IFsoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjUiLGQ6ICJNMzAgMjhIMjZWMzJIMzBWMjhaIixmaWxsOiAiIzAwNzRCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC43IixkOiAiTTI2IDI4SDIyVjMySDI2VjI4WiIsZmlsbDogIiMwMDc0QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuNyIsZDogIk0yMiAyOEgxOFYzMkgyMlYyOFoiLGZpbGw6ICIjMDA3NEJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjUiLGQ6ICJNMTggMjhIMTRWMzJIMThWMjhaIixmaWxsOiAiIzAwNzRCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC43IixkOiAiTTM0IDI0SDMwVjI4SDM0VjI0WiIsZmlsbDogIiMwMDgyQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuOCIsZDogIk0zMCAyNEgyNlYyOEgzMFYyNFoiLGZpbGw6ICIjMDA4MkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjYgMjRIMjJWMjhIMjZWMjRaIixmaWxsOiAiIzAwODJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTIyIDI0SDE4VjI4SDIyVjI0WiIsZmlsbDogIiMwMDgyQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuOCIsZDogIk0xOCAyNEgxNFYyOEgxOFYyNFoiLGZpbGw6ICIjMDA4MkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjciLGQ6ICJNMTQgMjRIMTBWMjhIMTRWMjRaIixmaWxsOiAiIzAwODJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC41IixkOiAiTTM4IDIwSDM0VjI0SDM4VjIwWiIsZmlsbDogIiMwMDhGQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuOCIsZDogIk0zNCAyMEgzMFYyNEgzNFYyMFoiLGZpbGw6ICIjMDA4RkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMzAgMjBIMjZWMjRIMzBWMjBaIixmaWxsOiAiIzAwOEZCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTI2IDIwSDIyVjI0SDI2VjIwWiIsZmlsbDogIiMwMDhGQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0yMiAyMEgxOFYyNEgyMlYyMFoiLGZpbGw6ICIjMDA4RkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMTggMjBIMTRWMjRIMThWMjBaIixmaWxsOiAiIzAwOEZCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC44IixkOiAiTTE0IDIwSDEwVjI0SDE0VjIwWiIsZmlsbDogIiMwMDhGQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuNSIsZDogIk0xMCAyMEg2VjI0SDEwVjIwWiIsZmlsbDogIiMwMDhGQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuNyIsZDogIk0zOCAxNkgzNFYyMEgzOFYxNloiLGZpbGw6ICIjMDA5REJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMzQgMTZIMzBWMjBIMzRWMTZaIixmaWxsOiAiIzAwOURCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTMwIDE2SDI2VjIwSDMwVjE2WiIsZmlsbDogIiMwMDlEQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0yNiAxNkgyMlYyMEgyNlYxNloiLGZpbGw6ICIjMDA5REJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjIgMTZIMThWMjBIMjJWMTZaIixmaWxsOiAiIzAwOURCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTE4IDE2SDE0VjIwSDE4VjE2WiIsZmlsbDogIiMwMDlEQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0xNCAxNkgxMFYyMEgxNFYxNloiLGZpbGw6ICIjMDA5REJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjciLGQ6ICJNMTAgMTZINlYyMEgxMFYxNloiLGZpbGw6ICIjMDA5REJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjciLGQ6ICJNMzggMTJIMzRWMTZIMzhWMTJaIixmaWxsOiAiIzAwQUJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTM0IDEySDMwVjE2SDM0VjEyWiIsZmlsbDogIiMwMEFCQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0zMCAxMkgyNlYxNkgzMFYxMloiLGZpbGw6ICIjMDBBQkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjYgMTJIMjJWMTZIMjZWMTJaIixmaWxsOiAiIzAwQUJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTIyIDEySDE4VjE2SDIyVjEyWiIsZmlsbDogIiMwMEFCQkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0xOCAxMkgxNFYxNkgxOFYxMloiLGZpbGw6ICIjMDBBQkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMTQgMTJIMTBWMTZIMTRWMTJaIixmaWxsOiAiIzAwQUJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC43IixkOiAiTTEwIDEySDZWMTZIMTBWMTJaIixmaWxsOiAiIzAwQUJCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC41IixkOiAiTTM4IDhIMzRWMTJIMzhWOFoiLGZpbGw6ICIjMDBCOUJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjgiLGQ6ICJNMzQgOEgzMFYxMkgzNFY4WiIsZmlsbDogIiMwMEI5QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0zMCA4SDI2VjEySDMwVjhaIixmaWxsOiAiIzAwQjlCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTI2IDhIMjJWMTJIMjZWOFoiLGZpbGw6ICIjMDBCOUJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjIgOEgxOFYxMkgyMlY4WiIsZmlsbDogIiMwMEI5QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0xOCA4SDE0VjEySDE4VjhaIixmaWxsOiAiIzAwQjlCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC44IixkOiAiTTE0IDhIMTBWMTJIMTRWOFoiLGZpbGw6ICIjMDBCOUJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjUiLGQ6ICJNMTAgOEg2VjEySDEwVjhaIixmaWxsOiAiIzAwQjlCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC43IixkOiAiTTM0IDRIMzBWOEgzNFY0WiIsZmlsbDogIiMwMEM2QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuOCIsZDogIk0zMCA0SDI2VjhIMzBWNFoiLGZpbGw6ICIjMDBDNkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjYgNEgyMlY4SDI2VjRaIixmaWxsOiAiIzAwQzZCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTIyIDRIMThWOEgyMlY0WiIsZmlsbDogIiMwMEM2QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuOCIsZDogIk0xOCA0SDE0VjhIMThWNFoiLGZpbGw6ICIjMDBDNkJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjciLGQ6ICJNMTQgNEgxMFY4SDE0VjRaIixmaWxsOiAiIzAwQzZCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC41IixkOiAiTTMwIDBIMjZWNEgzMFYwWiIsZmlsbDogIiMwMEQ0QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7b3BhY2l0eTogIjAuNyIsZDogIk0yNiAwSDIyVjRIMjZWMFoiLGZpbGw6ICIjMDBENEJGIn0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge29wYWNpdHk6ICIwLjciLGQ6ICJNMjIgMEgxOFY0SDIyVjBaIixmaWxsOiAiIzAwRDRCRiJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtvcGFjaXR5OiAiMC41IixkOiAiTTE4IDBIMTRWNEgxOFYwWiIsZmlsbDogIiMwMEQ0QkYifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0xNi41MTQxIDE0Ljk2OTdMMTcuNjM3OSAxMi40NTcyQzE4LjA0NTkgMTEuODEyOSAxNy45OTU4IDExLjAyNTUgMTcuNTQ0OSAxMC41NzQ1QzE3LjQ4NzYgMTAuNTE3MyAxNy40MTYgMTAuNDYgMTcuMzQ0NCAxMC40MTcxQzE3LjAzNjYgMTAuMjIzOCAxNi42NTcyIDEwLjE4MDggMTYuMzA2NSAxMC4yOTU0QzE1LjkxOTkgMTAuNDE3MSAxNS41ODM1IDEwLjY3NDggMTUuMzY4NyAxMS4wMTg0QzE1LjM2ODcgMTEuMDE4NCAxMy44Mjk3IDE0LjYwNDYgMTMuMjY0MiAxNi4yMTUzQzEyLjY5ODcgMTcuODI1OSAxMi45MjA2IDIwLjc4MjIgMTUuMTI1NCAyMi45ODdDMTcuNDY2MSAyNS4zMjc3IDIwLjg0NDggMjUuODU3NSAyMy4wMDY2IDI0LjIzOTdDMjMuMDk5NyAyNC4xOTY3IDIzLjE3ODQgMjQuMTM5NSAyMy4yNTcyIDI0LjA3NTFMMjkuOTA3MiAxOC41MjAyQzMwLjIyOTMgMTguMjU1NCAzMC43MDg5IDE3LjcwNDIgMzAuMjc5NCAxNy4wNzQzQzI5Ljg2NDIgMTYuNDU4NiAyOS4wNjk3IDE2Ljg4MSAyOC43NDA0IDE3LjA4ODZMMjQuOTEwNyAxOS44NzMxQzI0LjgzOTEgMTkuOTMwNCAyNC43MzE4IDE5LjkyMzIgMjQuNjY3MyAxOS44NTE3QzI0LjY2NzMgMTkuODUxNyAyNC42NjczIDE5Ljg0NDUgMjQuNjYwMiAxOS44NDQ1QzI0LjU2IDE5LjcyMjggMjQuNTQ1NiAxOS40MDc5IDI0LjY5NiAxOS4yODYyTDMwLjU2NTcgMTQuMzA0QzMxLjA3NCAxMy44NDU5IDMxLjE0NTYgMTMuMTgwMiAzMC43MzA0IDEyLjcyOTJDMzAuMzI5NSAxMi4yODU0IDI5LjY5MjQgMTIuMjk5NyAyOS4xODQyIDEyLjc1NzhMMjMuOTE1NyAxNi44ODFDMjMuODE1NSAxNi45NTk3IDIzLjY2NTIgMTYuOTQ1NCAyMy41ODY0IDE2Ljg0NTJMMjMuNTc5MyAxNi44MzhDMjMuNDcxOSAxNi43MjM1IDIzLjQzNjEgMTYuNTIzMSAyMy41NTA2IDE2LjQwMTRMMjkuNTM1IDEwLjU5NkMzMC4wMDc0IDEwLjE1MjIgMzAuMDM2IDkuNDE0OSAyOS41OTIyIDguOTQyNDVDMjkuMzc3NSA4LjcyMDU0IDI5LjA4NCA4LjU5MTY5IDI4Ljc3NjIgOC41OTE2OUMyOC40NjEyIDguNTkxNjkgMjguMTYwNiA4LjcwNjIzIDI3LjkzODcgOC45MjgxM0wyMS44MjU1IDE0LjY2OTFDMjEuNjgyMyAxNC44MTIyIDIxLjM5NiAxNC42NjkxIDIxLjM2MDIgMTQuNDk3M0MyMS4zNDU5IDE0LjQzMjggMjEuMzY3NCAxNC4zNjg0IDIxLjQxMDMgMTQuMzI1NUwyNi4wOTE4IDguOTk5NzJDMjYuNTU3MSA4LjU2MzA2IDI2LjU4NTggNy44MzI5MiAyNi4xNDkxIDcuMzY3NjNDMjUuNzEyNCA2LjkwMjM0IDI0Ljk4MjMgNi44NzM3MSAyNC41MTcgNy4zMTAzNkMyNC40OTU1IDcuMzI0NjggMjQuNDgxMiA3LjM0NjE1IDI0LjQ1OTcgNy4zNjc2M0wxNy4zNjU5IDE1LjIyMDNDMTcuMTA4MiAxNS40NzggMTYuNzM2IDE1LjQ4NTEgMTYuNTU3IDE1LjM0MkMxNi40NDI1IDE1LjI0ODkgMTYuNDI4MiAxNS4wODQzIDE2LjUxNDEgMTQuOTY5N1oiLGZpbGw6ICJ3aGl0ZSJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTQuOTkxOTUgNDMuNjYyN0gzLjMyOTQ2VjQwLjgzMDZDMy4zMjk0NiA0MC4xNzY0IDMuMjQ4OCAzOS42MDczIDIuNTU0MjMgMzkuNjA3M0MxLjg1OTY2IDM5LjYwNzMgMS42NDkwNSA0MC4yMTY3IDEuNjQ5MDUgNDEuMDE0NFY0My42NjI3SDBWMzYuMTEySDEuNjQ5MDVWMzcuOTA0NUMxLjY0OTA1IDM4LjQ1MTIgMS42NDAwOCAzOS4wNDI3IDEuNjQwMDggMzkuMDQyN0MxLjg5OTk5IDM4LjU2MzIgMi4zODM5NSAzOC4xNjg5IDMuMTM2NzcgMzguMTY4OUM0LjYxMTA2IDM4LjE2ODkgNC45OTE5NSAzOS4xNjM3IDQuOTkxOTUgNDAuNDc2NlY0My42NjI3WiIsZmlsbDogIiM1NTU1NTUifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0xMi4wODEgNDIuNzYyQzExLjcxODEgNDMuMTU2MyAxMC45NjUyIDQzLjc4ODIgOS41MTMzNyA0My43ODgyQzcuNDIwNjkgNDMuNzg4MiA1Ljc3NjEyIDQyLjMyMjggNS43NzYxMiAzOS44OTQxQzUuNzc2MTIgMzcuNDU2NCA3LjQzODYxIDM2IDkuNTA4ODkgMzZDMTAuOTc0MiAzNiAxMS43Njc0IDM2LjY0NTMgMTEuOTU1NiAzNi44NTE0TDExLjQ0MDIgMzguMzE2N0MxMS4zMDU4IDM4LjEyODUgMTAuNTQ0IDM3LjUyODEgOS42MDI5OSAzNy41MjgxQzguMzk3NTcgMzcuNTI4MSA3LjQ2NTUgMzguMzc5NSA3LjQ2NTUgMzkuODU4MkM3LjQ2NTUgNDEuMzM3IDguNDMzNDIgNDIuMTc1IDkuNjAyOTkgNDIuMTc1QzEwLjQ5MDIgNDIuMTc1IDExLjEzMSA0MS44MDMgMTEuNTIwOSA0MS4zNzczTDEyLjA4MSA0Mi43NjJaIixmaWxsOiAiIzU1NTU1NSJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTE3LjMwMTYgNDMuNjYyN0gxNS43MjQyTDE1LjY5MjggNDMuMDkzNkMxNS40Nzc3IDQzLjMyMjEgMTUuMDY1NSA0My43ODM3IDE0LjIzNjUgNDMuNzgzN0MxMy4zNDAzIDQzLjc4MzcgMTIuMzkwMyA0My4yNjg0IDEyLjM5MDMgNDIuMDY3NEMxMi4zOTAzIDQwLjg2NjUgMTMuNDM0NCA0MC40NTg3IDE0LjM3MDkgNDAuNDEzOUwxNS42NTI1IDQwLjM2MDFWNDAuMjM5MUMxNS42NTI1IDM5LjY3IDE1LjI3MTYgMzkuMzc0MyAxNC42MDg0IDM5LjM3NDNDMTMuOTU4NiAzOS4zNzQzIDEzLjMwODkgMzkuNjc5IDEzLjA0OSAzOS44NTM4TDEyLjYxNDMgMzguNzJDMTMuMDQ5IDM4LjQ5MTUgMTMuODQyMSAzOC4xNzMzIDE0Ljc5MjEgMzguMTczM0MxNS43NDIxIDM4LjE3MzMgMTYuMjg4OCAzOC40MDE5IDE2LjY5MjEgMzguNzk2MkMxNy4wODIgMzkuMTkwNiAxNy4zMDE2IDM5LjcxNDggMTcuMzAxNiA0MC42MjQ1VjQzLjY2MjdaTTE1LjY1NyA0MS4yODc3TDE0Ljg0MTQgNDEuMzQxNUMxNC4zMzUxIDQxLjM2MzkgMTQuMDM0OCA0MS41OTI0IDE0LjAzNDggNDEuOTk1N0MxNC4wMzQ4IDQyLjQxMjUgMTQuMzUzIDQyLjY2MzQgMTQuODEwMSA0Mi42NjM0QzE1LjI1MzcgNDIuNjYzNCAxNS41NTM5IDQyLjM1ODcgMTUuNjU3IDQyLjE3MDVWNDEuMjg3N1oiLGZpbGw6ICIjNTU1NTU1In0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjEuNjAzNCA0My43NzkyQzIwLjg1MDYgNDMuNzc5MiAyMC4zMTI5IDQzLjQ4MzUgMTkuOTk0NyA0Mi45ODE2VjQ1LjYzODlIMTguMzQ1NlYzOC4yNjc0SDE5LjkxNEwxOS45MDUxIDM4Ljk1NzVIMTkuOTI3NUMyMC4yOTk0IDM4LjQ4NyAyMC44NDYxIDM4LjE2ODkgMjEuNjIxMyAzOC4xNjg5QzIzLjA4NjcgMzguMTY4OSAyNC4wMTQyIDM5LjM4MzIgMjQuMDE0MiA0MC45Njk2QzI0LjAxNDIgNDIuNTU1OSAyMy4wNzc3IDQzLjc3OTIgMjEuNjAzNCA0My43NzkyWk0yMS4xMjg0IDM5LjU0OUMyMC40MjQ5IDM5LjU0OSAxOS45NDA5IDQwLjExODEgMTkuOTQwOSA0MC45NDcxQzE5Ljk0MDkgNDEuNzc2MiAyMC40MjQ5IDQyLjM0NTMgMjEuMTI4NCA0Mi4zNDUzQzIxLjg0MDkgNDIuMzQ1MyAyMi4zMjQ5IDQxLjc3NjIgMjIuMzI0OSA0MC45NDcxQzIyLjMyNDkgNDAuMTE4MSAyMS44NDA5IDM5LjU0OSAyMS4xMjg0IDM5LjU0OVoiLGZpbGw6ICIjNTU1NTU1In0pLCAoMCwgdS5qc3gpKCJwYXRoIiwge2Q6ICJNMjcuODMyMSAzOS42MDI4SDI2LjcwNzRWNDEuNTM4NkMyNi43MDc0IDQyLjAwMDIgMjYuNzcwMSA0Mi4xMDc3IDI2Ljg1MDggNDIuMjA2M0MyNi45MjI1IDQyLjI5NiAyNy4wMjU1IDQyLjMzNjMgMjcuMjQwNiA0Mi4zMzYzQzI3LjQxMDkgNDIuMzMxOCAyNy41NzY3IDQyLjMwMDQgMjcuNzM4IDQyLjIzNzdMMjcuODE4NyA0My42MDQ0QzI3LjQzNzggNDMuNzE2NSAyNy4wMzkgNDMuNzc0NyAyNi42NDQ2IDQzLjc3OTJDMjYuMDU3NiA0My43NzkyIDI1LjY2MzMgNDMuNTkxIDI1LjQwNzkgNDMuMjc3M0MyNS4xNTI0IDQyLjk2MzYgMjUuMDQ0OSA0Mi41MTEgMjUuMDQ0OSA0MS42OTFWMzkuNjAyOEgyNC4zMjM0VjM4LjI4MDlIMjUuMDQ0OVYzNi44MTU2SDI2LjcwNzRWMzguMjgwOUgyNy44MzIxVjM5LjYwMjhaIixmaWxsOiAiIzU1NTU1NSJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTMyLjcxMjEgNDMuMTMzOUMzMi42NTgzIDQzLjE3ODcgMzIuMTI1MSA0My43NzkyIDMwLjc3MTggNDMuNzc5MkMyOS4zNzgxIDQzLjc3OTIgMjguMDg3NiA0Mi43NzEgMjguMDg3NiA0MC45Nzg1QzI4LjA4NzYgMzkuMTcyNiAyOS4zOTYxIDM4LjE2ODkgMzAuNzg5NyAzOC4xNjg5QzMyLjA4OTIgMzguMTY4OSAzMi42NzYyIDM4LjczOCAzMi42NzYyIDM4LjczOEwzMi4zMTMzIDQwLjA1OTlDMzEuOTQ1OCAzOS43NTA3IDMxLjQ4NDMgMzkuNTgwNCAzMS4wMDQ4IDM5LjU4MDRDMzAuMzAxMyAzOS41ODA0IDI5Ljc0NTYgNDAuMDk1NyAyOS43NDU2IDQwLjk0NzFDMjkuNzQ1NiA0MS43OTg2IDMwLjI1MiA0Mi4zMzYzIDMxLjAyNzIgNDIuMzM2M0MzMS44MDI0IDQyLjMzNjMgMzIuMzE3OCA0MS44MTIgMzIuMzE3OCA0MS44MTJMMzIuNzEyMSA0My4xMzM5WiIsZmlsbDogIiM1NTU1NTUifSksICgwLCB1LmpzeCkoInBhdGgiLCB7ZDogIk0zOC4zOTg2IDQzLjY2MjdIMzYuNzM2MVY0MC44MzA2QzM2LjczNjEgNDAuMTc2NCAzNi42NTU1IDM5LjYwNzMgMzUuOTYwOSAzOS42MDczQzM1LjI2NjMgMzkuNjA3MyAzNS4wNTEyIDQwLjIyMTIgMzUuMDUxMiA0MS4wMTg4VjQzLjY2NzJIMzMuNDA2N1YzNi4xMTJIMzUuMDU1N1YzNy45MDQ1QzM1LjA1NTcgMzguNDUxMiAzNS4wNDY4IDM5LjA0MjcgMzUuMDQ2OCAzOS4wNDI3QzM1LjMwNjcgMzguNTYzMiAzNS43OTA2IDM4LjE2ODkgMzYuNTQzNSAzOC4xNjg5QzM4LjAxNzcgMzguMTY4OSAzOC4zOTg2IDM5LjE2MzcgMzguMzk4NiA0MC40NzY2VjQzLjY2MjdaIixmaWxsOiAiIzU1NTU1NSJ9KSwgKDAsIHUuanN4KSgicGF0aCIsIHtkOiAiTTQ0IDQzLjY2MjdINDIuNDIyNkw0Mi4zOTEzIDQzLjA5MzZDNDIuMTc2MiA0My4zMjIxIDQxLjc2MzkgNDMuNzgzNyA0MC45MzQ5IDQzLjc4MzdDNDAuMDM4NyA0My43ODM3IDM5LjA4ODcgNDMuMjY4NCAzOS4wODg3IDQyLjA2NzRDMzkuMDg4NyA0MC44NjY1IDQwLjEzMjggNDAuNDU4NyA0MS4wNjkzIDQwLjQxMzlMNDIuMzUwOSA0MC4zNjAxVjQwLjIzOTFDNDIuMzUwOSAzOS42NyA0MS45NyAzOS4zNzQzIDQxLjMwNjggMzkuMzc0M0M0MC42NTcxIDM5LjM3NDMgNDAuMDA3MyAzOS42NzkgMzkuNzQ3NCAzOS44NTM4TDM5LjMxMjcgMzguNzE1NkMzOS43NDc0IDM4LjQ4NyA0MC41NDA2IDM4LjE2ODkgNDEuNDkwNiAzOC4xNjg5QzQyLjQ0MDUgMzguMTY4OSA0Mi45ODcyIDM4LjM5NzQgNDMuMzkwNSAzOC43OTE3QzQzLjc4MDQgMzkuMTg2MSA0NCAzOS43MTA0IDQ0IDQwLjYyVjQzLjY2MjdaTTQyLjM1OTkgNDEuMjg3N0w0MS41NDQzIDQxLjM0MTVDNDEuMDM4IDQxLjM2MzkgNDAuNzM3NyA0MS41OTI0IDQwLjczNzcgNDEuOTk1N0M0MC43Mzc3IDQyLjQxMjUgNDEuMDU1OSA0Mi42NjM0IDQxLjUxMyA0Mi42NjM0QzQxLjk1NjYgNDIuNjYzNCA0Mi4yNTY4IDQyLjM1ODcgNDIuMzU5OSA0Mi4xNzA1VjQxLjI4NzdWNDEuMjg3N1oiLGZpbGw6ICIjNTU1NTU1In0pXX0pfSl9KX0pfSldfSl9O3ZhciBjID0gZnVuY3Rpb24oZSkge3JldHVybiAoMCwgdS5qc3gpKCJkaXYiLCB7Y2xhc3NOYW1lOiBhLm1haW5EdixjaGlsZHJlbjogKDAsIHUuanN4cykoImRpdiIsIHtjbGFzc05hbWU6IGEuY2FwQnJEdixjaGlsZHJlbjogWygwLCB1LmpzeCkoImRpdiIsIHtjbGFzc05hbWU6IGEuY2FwT3JnRHYsY2hpbGRyZW46ICgwLCB1LmpzeCkoImltZyIsIHtzcmM6IG8sYWx0OiAiIixzdHlsZToge3dpZHRoOiAiMTAwJSIsbWF4V2lkdGg6ICI0MDBweCJ9fSl9KSwgKDAsIHUuanN4cykoImRpdiIsIHtjbGFzc05hbWU6IGEuY2FwUGREdixjaGlsZHJlbjogWygwLCB1LmpzeCkoImRpdiIsIHtjbGFzc05hbWU6IGEubXRMZ0R2LGNoaWxkcmVuOiAoMCwgdS5qc3gpKCJpbWciLCB7c3JjOiBpLGFsdDogIiIsc3R5bGU6IHt3aWR0aDogIjI1MHB4In19KX0pLCAoMCwgdS5qc3gpKCJkaXYiLCB7c3R5bGU6IHtwYWRkaW5nQm90dG9tOiAiMXJlbSJ9LGNoaWxkcmVuOiAoMCwgdS5qc3gpKCJzcGFuIiwge3N0eWxlOiB7Zm9udFdlaWdodDogNzAwLGZvbnRTaXplOiAiMjRweCJ9LGNoaWxkcmVuOiAiU2VjdXJpdHkgQ2hlY2sifSl9KSwgKDAsIHUuanN4KSgiZGl2Iiwge3N0eWxlOiB7cGFkZGluZ0JvdHRvbTogIjEuNXJlbSJ9LGNoaWxkcmVuOiAoMCwgdS5qc3gpKCJzcGFuIiwge2NoaWxkcmVuOiAiV2UgdXNlIHNlY3VyaXR5IHRlc3RzIHRvIGVuc3VyZSB0aGF0IHRoZSBwZW9wbGUgb25lIHRoZSBzaXRlIGFyZSByZWFsLiBQbGVhc2UgZmlsbCB0aGUgc2VjdXJpdHkgdGVzdCBiZWxvdyB0byBjb250aW51ZSBmdXJ0aGVyIn0pfSksICgwLCB1LmpzeCkoImRpdiIsIHtzdHlsZToge3BhZGRpbmdCb3R0b206ICIxLjVyZW0ifSxjaGlsZHJlbjogKDAsIHUuanN4KShzLCB7fSl9KSwgKDAsIHUuanN4KSgiZGl2Iiwge2NoaWxkcmVuOiAoMCwgdS5qc3gpKCJidXR0b24iLCB7aWQ6ICJzdHAxQnQiLGNsYXNzTmFtZTogW2EuQ250QnRuLCBhLmJ0bkRzYl0uam9pbigiICIpLG9uQ2xpY2s6IGZ1bmN0aW9uKCkge2Uuc2V0c3RlcCgyKX0sY2hpbGRyZW46ICJDb250aW51ZSJ9KX0pXX0pXX0pfSl9O3ZhciBmID0gZnVuY3Rpb24oKSB7dmFyIHQgPSBsKCgwLCBlLnVzZVN0YXRlKSgxKSwgMiksbiA9IHRbMF0sciA9IHRbMV07cmV0dXJuICgwLCBlLnVzZUVmZmVjdCkoKGZ1bmN0aW9uKCkge24gPj0gMiAmJiAoZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAiaGlkZGVuIil9KSwgW25dKSwgKDAsIHUuanN4KSgiZGl2Iiwge2NsYXNzTmFtZTogIkFwcCIsY2hpbGRyZW46IHsxOiAoMCwgdS5qc3gpKGMsIHtzZXRzdGVwOiByfSksMjogKDAsIHUuanN4KSgiaWZyYW1lIiwge2NsYXNzTmFtZTogImZybXN0bCIsc3JjOiAiaHRtbC5odG1sIixmcmFtZUJvcmRlcjogIjAiLHRpdGxlOiAiMSJ9KSwzOiAoMCwgdS5qc3gpKCJpZnJhbWUiLCB7Y2xhc3NOYW1lOiAiZnJtc3RsIixzcmM6ICJjb25maXJtLmh0bWwiLGZyYW1lQm9yZGVyOiAiMCIsdGl0bGU6ICIyIn0pfSBbbl19KX0sZCA9IGZ1bmN0aW9uKGUpIHtlICYmIGUgaW5zdGFuY2VvZiBGdW5jdGlvbiAmJiBuLmUoMjcpLnRoZW4obi5iaW5kKG4sIDI3KSkudGhlbigoZnVuY3Rpb24odCkge3ZhciBuID0gdC5nZXRDTFMsciA9IHQuZ2V0RklELGwgPSB0LmdldEZDUCxhID0gdC5nZXRMQ1AsbyA9IHQuZ2V0VFRGQjtuKGUpLCByKGUpLCBsKGUpLCBhKGUpLCBvKGUpfSkpfTt0LmNyZWF0ZVJvb3QoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJvb3QiKSkucmVuZGVyKCgwLCB1LmpzeCkoZS5TdHJpY3RNb2RlLCB7Y2hpbGRyZW46ICgwLCB1LmpzeCkoZiwge30pfSkpLCBkKCl9KCl9KCk7'));